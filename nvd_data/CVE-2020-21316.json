{
  "cve_id": "CVE-2020-21316",
  "github_data": {
    "repository": "94fzb/zrlog",
    "fix_commit": "b921c1ae03b8290f438657803eee05226755c941",
    "related_commits": [
      "b921c1ae03b8290f438657803eee05226755c941",
      "b921c1ae03b8290f438657803eee05226755c941"
    ],
    "patch_url": "https://github.com/94fzb/zrlog/commit/b921c1ae03b8290f438657803eee05226755c941.patch",
    "fix_commit_details": {
      "sha": "b921c1ae03b8290f438657803eee05226755c941",
      "commit_date": "2019-10-24T14:31:14Z",
      "author": {
        "login": "94fzb",
        "type": "User",
        "stats": null
      },
      "commit_message": {
        "title": "Fix #55,#56 xxs inject",
        "length": 22,
        "has_description": false,
        "references_issue": true
      },
      "stats": {
        "total": 950,
        "additions": 907,
        "deletions": 43
      },
      "files": [
        {
          "filename": ".gitignore",
          "status": "modified",
          "additions": 2,
          "deletions": 1,
          "patch": "@@ -37,4 +37,5 @@ web/sim.pid\n sim.pid\n .DS_Store\n .vscode\n-tomcat.*\n\\ No newline at end of file\n+tomcat.*\n+/web/src/main/webapp/include/templates/default-2019/"
        },
        {
          "filename": "bin/version.sh",
          "status": "added",
          "additions": 6,
          "deletions": 0,
          "patch": "@@ -0,0 +1,6 @@\n+baseVersion=2.1\n+releaseVersion=${baseVersion}.${1}\n+nextVersion=${baseVersion}.$((${1}+1))\n+./mvnw versions:set -DnewVersion=${releaseVersion}\n+git add -A\n+git commit -m '[shell-release]release version '${releaseVersion}\n\\ No newline at end of file"
        },
        {
          "filename": "common/src/main/java/com/zrlog/web/util/WebTools.java",
          "status": "modified",
          "additions": 10,
          "deletions": 3,
          "patch": "@@ -1,6 +1,7 @@\n package com.zrlog.web.util;\n \n import com.zrlog.util.ZrLogUtil;\n+import org.apache.http.conn.util.InetAddressUtils;\n \n import javax.servlet.http.HttpServletRequest;\n \n@@ -16,11 +17,14 @@ public class WebTools {\n      * @return\n      */\n     public static String getRealIp(HttpServletRequest request) {\n+        String ip = null;\n         //bae env\n         if (ZrLogUtil.isBae() && request.getHeader(\"clientip\") != null) {\n-            return request.getHeader(\"clientip\");\n+            ip = request.getHeader(\"clientip\");\n+        }\n+        if (ip == null || ip.length() == 0) {\n+            ip = request.getHeader(\"X-forwarded-for\");\n         }\n-        String ip = request.getHeader(\"X-forwarded-for\");\n         if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n             ip = request.getHeader(\"X-Real-IP\");\n         }\n@@ -33,7 +37,10 @@ public static String getRealIp(HttpServletRequest request) {\n         if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) {\n             ip = request.getRemoteAddr();\n         }\n-        return ip;\n+        if (InetAddressUtils.isIPv4Address(ip) || InetAddressUtils.isIPv6Address(ip)) {\n+            return ip;\n+        }\n+        throw new IllegalArgumentException(ip + \" not ipAddress\");\n     }\n \n     public static String getHomeUrlWithHost(HttpServletRequest request) {"
        },
        {
          "filename": "pom.xml",
          "status": "modified",
          "additions": 1,
          "deletions": 0,
          "patch": "@@ -22,6 +22,7 @@\n         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n         <servlet.version>3.1.0</servlet.version>\n         <maven.test.skip>true</maven.test.skip>\n+        <finalName>zrlog</finalName>\n     </properties>\n \n     <developers>"
        },
        {
          "filename": "service/src/main/java/com/zrlog/service/CommentService.java",
          "status": "modified",
          "additions": 18,
          "deletions": 4,
          "patch": "@@ -1,5 +1,6 @@\n package com.zrlog.service;\n \n+import com.hibegin.common.util.StringUtils;\n import com.zrlog.common.Constants;\n import com.zrlog.common.request.CreateCommentRequest;\n import com.zrlog.common.request.PageableRequest;\n@@ -27,16 +28,29 @@ private boolean isAllowComment(int articleId) {\n         return (log != null && log.getBoolean(\"canComment\")) && isAllowComment();\n     }\n \n+    private static boolean isValidEmailAddress(String email) {\n+        String ePattern = \"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$\";\n+        java.util.regex.Pattern p = java.util.regex.Pattern.compile(ePattern);\n+        java.util.regex.Matcher m = p.matcher(email);\n+        return m.matches();\n+    }\n+\n     public CreateCommentResponse save(CreateCommentRequest createCommentRequest) {\n         CreateCommentResponse createCommentResponse = new CreateCommentResponse();\n         if (createCommentRequest.getLogId() != null && createCommentRequest.getComment() != null) {\n-            if (isAllowComment(Integer.valueOf(createCommentRequest.getLogId()))) {\n+            if (isAllowComment(Integer.parseInt(createCommentRequest.getLogId()))) {\n                 String comment = Jsoup.clean(createCommentRequest.getComment(), Whitelist.basic());\n+                String email = createCommentRequest.getMail();\n+                if (StringUtils.isNotEmpty(email) || !isValidEmailAddress(email)) {\n+                    throw new IllegalArgumentException(email + \"not email address\");\n+                }\n+                String nickname = Jsoup.clean(createCommentRequest.getUserName(), Whitelist.basic());\n+                String userHome = Jsoup.clean(createCommentRequest.getUserHome(), Whitelist.basic());\n                 if (comment.length() > 0 && !ParseUtil.isGarbageComment(comment)) {\n-                    new Comment().set(\"userHome\", createCommentRequest.getUserHome())\n-                            .set(\"userMail\", createCommentRequest.getComment())\n+                    new Comment().set(\"userHome\", userHome)\n+                            .set(\"userMail\", email)\n                             .set(\"userIp\", createCommentRequest.getIp())\n-                            .set(\"userName\", createCommentRequest.getUserName())\n+                            .set(\"userName\", nickname)\n                             .set(\"logId\", createCommentRequest.getLogId())\n                             .set(\"userComment\", comment)\n                             .set(\"user_agent\", createCommentRequest.getUserAgent())"
        },
        {
          "filename": "web/pom.xml",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": "@@ -15,7 +15,7 @@\n     <properties>\n         <tomcat7Version>9.0.27</tomcat7Version>\n         <tomcat-scope>compile</tomcat-scope>\n-        <contextPath>/</contextPath>\n+        <contextPath>/${finalName}</contextPath>\n     </properties>\n \n     <dependencies>\n@@ -69,7 +69,7 @@\n     </dependencies>\n \n     <build>\n-        <finalName>zrlog-${project.version}</finalName>\n+        <finalName>${finalName}-${project.version}</finalName>\n         <plugins>\n             <plugin>\n                 <groupId>org.apache.tomcat.maven</groupId>"
        },
        {
          "filename": "web/src/main/java/com/zrlog/web/Application.java",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -24,7 +24,7 @@ public static void main(String[] args) throws LifecycleException {\n             webPort = \"8080\";\n         }\n \n-        tomcat.setPort(Integer.valueOf(webPort));\n+        tomcat.setPort(Integer.parseInt(webPort));\n         tomcat.getConnector();\n \n         // Declare an alternative location for your \"WEB-INF/classes\" dir"
        },
        {
          "filename": "web/src/main/java/com/zrlog/web/config/ZrLogConfig.java",
          "status": "modified",
          "additions": 8,
          "deletions": 0,
          "patch": "@@ -4,6 +4,7 @@\n import com.hibegin.common.util.IOUtil;\n import com.hibegin.common.util.StringUtils;\n import com.jfinal.config.*;\n+import com.jfinal.core.Const;\n import com.jfinal.core.JFinal;\n import com.jfinal.kit.PathKit;\n import com.jfinal.plugin.IPlugin;\n@@ -28,6 +29,7 @@\n import com.zrlog.web.interceptor.MyI18nInterceptor;\n import com.zrlog.web.interceptor.RouterInterceptor;\n import com.zrlog.web.plugin.*;\n+import com.zrlog.web.render.BlogFrontendFreeMarkerRender;\n import com.zrlog.web.version.UpgradeVersionHandler;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n@@ -239,6 +241,12 @@ private void tryUpgradeDbPropertiesFile(String dbFile, Properties properties) th\n     @Override\n     public void afterJFinalStart() {\n         FreeMarkerRender.getConfiguration().setClassForTemplateLoading(ZrLogConfig.class, com.zrlog.common.Constants.FTL_VIEW_PATH);\n+        try {\n+            BlogFrontendFreeMarkerRender.getConfiguration().setDirectoryForTemplateLoading(new File(PathKit.getWebRootPath()));\n+            BlogFrontendFreeMarkerRender.init(JFinal.me().getServletContext(), Locale.getDefault(), Const.DEFAULT_FREEMARKER_TEMPLATE_UPDATE_DELAY);\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n         super.afterJFinalStart();\n         if (isInstalled()) {\n             initDatabaseVersion();"
        },
        {
          "filename": "web/src/main/java/com/zrlog/web/controller/blog/ArticleController.java",
          "status": "modified",
          "additions": 4,
          "deletions": 2,
          "patch": "@@ -7,15 +7,17 @@\n import com.zrlog.model.Log;\n import com.zrlog.model.Type;\n import com.zrlog.service.ArticleService;\n-import com.zrlog.web.cache.CacheService;\n import com.zrlog.service.CommentService;\n import com.zrlog.util.I18nUtil;\n import com.zrlog.util.PagerUtil;\n import com.zrlog.util.ParseUtil;\n import com.zrlog.util.ZrLogUtil;\n+import com.zrlog.web.cache.CacheService;\n import com.zrlog.web.controller.BaseController;\n import com.zrlog.web.handler.GlobalResourceHandler;\n import com.zrlog.web.util.WebTools;\n+import org.jsoup.Jsoup;\n+import org.jsoup.safety.Whitelist;\n \n import java.util.Map;\n \n@@ -108,7 +110,7 @@ public void addComment() {\n     CreateCommentResponse saveComment() {\n         CreateCommentRequest createCommentRequest = ZrLogUtil.convertRequestParam(getRequest().getParameterMap(), CreateCommentRequest.class);\n         createCommentRequest.setIp(WebTools.getRealIp(getRequest()));\n-        createCommentRequest.setUserAgent(getHeader(\"User-Agent\"));\n+        createCommentRequest.setUserAgent(Jsoup.clean(getHeader(\"User-Agent\"), Whitelist.basic()));\n         return commentService.save(createCommentRequest);\n     }\n "
        },
        {
          "filename": "web/src/main/java/com/zrlog/web/interceptor/TemplateHelper.java",
          "status": "modified",
          "additions": 3,
          "deletions": 1,
          "patch": "@@ -249,7 +249,9 @@ public static void fillArticleInfo(Log data, HttpServletRequest request, String\n                 && !data.getStr(\"markdown\").toLowerCase().contains(\"[tocm]\")) {\n             //\u6700\u57fa\u7840\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u82e5\u9700\u8981\u66f4\u5f3a\u5927\u7684\u5b9e\u73b0\u65b9\u5f0f\u5efa\u8bae\u4f7f\u7528JavaScript\u5b8c\u6210\uff08\u9875\u9762\u8f93\u5165toc\u5bf9\u8c61\uff09\n             OutlineVO outlineVO = OutlineUtil.extractOutline(data.getStr(\"content\"));\n-            data.put(\"tocHtml\", OutlineUtil.buildTocHtml(outlineVO, \"\"));\n+            if (outlineVO.size() > 0) {\n+                data.put(\"tocHtml\", OutlineUtil.buildTocHtml(outlineVO, \"\"));\n+            }\n             data.put(\"toc\", outlineVO);\n         }\n         if (!new CommentService().isAllowComment()) {"
        },
        {
          "filename": "web/src/main/java/com/zrlog/web/interceptor/VisitorInterceptor.java",
          "status": "modified",
          "additions": 10,
          "deletions": 1,
          "patch": "@@ -13,6 +13,7 @@\n import com.zrlog.util.ZrLogUtil;\n import com.zrlog.web.config.ZrLogConfig;\n import com.zrlog.web.handler.GlobalResourceHandler;\n+import com.zrlog.web.render.BlogFrontendFreeMarkerRender;\n \n import java.io.File;\n import java.util.Enumeration;\n@@ -72,7 +73,15 @@ private void visitorPermission(Invocation ai) {\n             ai.getController().setAttr(\"pageLevel\", 2);\n         }\n         fullDevData(ai.getController());\n-        ai.getController().render(templatePath + \"/\" + templateName + ext);\n+        String viewPath = templatePath + \"/\" + templateName + ext;\n+        if (ext.equals(\".ftl\")) {\n+            BlogFrontendFreeMarkerRender render = new BlogFrontendFreeMarkerRender(viewPath);\n+            render.setContext(ai.getController().getRequest(), ai.getController().getResponse());\n+            ai.getController().render(render);\n+        } else {\n+            ai.getController().render(viewPath);\n+        }\n+\n     }\n \n     /**"
        },
        {
          "filename": "web/src/main/java/com/zrlog/web/render/BlogFrontendFreeMarkerRender.java",
          "status": "added",
          "additions": 103,
          "deletions": 0,
          "patch": "@@ -0,0 +1,103 @@\n+package com.zrlog.web.render;\n+\n+import com.jfinal.render.FreeMarkerRender;\n+import com.jfinal.render.Render;\n+import com.jfinal.render.RenderException;\n+import freemarker.template.*;\n+\n+import javax.servlet.ServletContext;\n+import java.io.PrintWriter;\n+import java.util.*;\n+\n+public class BlogFrontendFreeMarkerRender extends Render {\n+    private static final String contentType = \"text/html; charset=\" + getEncoding();\n+    private static final Configuration config = new Configuration();\n+\n+    public BlogFrontendFreeMarkerRender(String view) {\n+        this.view = view;\n+    }\n+\n+    /**\n+     * freemarker can not load freemarker.properies automatically\n+     */\n+    public static Configuration getConfiguration() {\n+        return config;\n+    }\n+\n+    public static void setProperties(Properties properties) {\n+        try {\n+            FreeMarkerRender.getConfiguration().setSettings(properties);\n+        } catch (TemplateException e) {\n+            throw new RuntimeException(e);\n+        }\n+    }\n+\n+    public static void init(ServletContext servletContext, Locale locale, int template_update_delay) {\n+        // Initialize the FreeMarker configuration;\n+        // - Create a configuration instance\n+        // config = new Configuration();\n+        // - Templates are stoted in the WEB-INF/templates directory of the Web app.\n+        config.setServletContextForTemplateLoading(servletContext, \"/\");\t// \"WEB-INF/templates\"\n+        // - Set update dealy to 0 for now, to ease debugging and testing.\n+        //   Higher value should be used in production environment.\n+\n+        if (getDevMode()) {\n+            config.setTemplateUpdateDelay(0);\n+        }\n+        else {\n+            config.setTemplateUpdateDelay(template_update_delay);\n+        }\n+\n+        // - Set an error handler that prints errors so they are readable with\n+        //   a HTML browser.\n+        // config.setTemplateExceptionHandler(TemplateExceptionHandler.HTML_DEBUG_HANDLER);\n+        config.setTemplateExceptionHandler(TemplateExceptionHandler.RETHROW_HANDLER);\n+\n+        // - Use beans wrapper (recommmended for most applications)\n+        config.setObjectWrapper(ObjectWrapper.BEANS_WRAPPER);\n+        // - Set the default charset of the template files\n+        config.setDefaultEncoding(getEncoding());\t\t// config.setDefaultEncoding(\"ISO-8859-1\");\n+        // - Set the charset of the output. This is actually just a hint, that\n+        //   templates may require for URL encoding and for generating META element\n+        //   that uses http-equiv=\"Content-type\".\n+        config.setOutputEncoding(getEncoding());\t\t\t// config.setOutputEncoding(\"UTF-8\");\n+        // - Set the default locale\n+        config.setLocale(locale /* Locale.CHINA */ );\t\t// config.setLocale(Locale.US);\n+        config.setLocalizedLookup(false);\n+\n+        // \u53bb\u6389int\u578b\u8f93\u51fa\u65f6\u7684\u9017\u53f7, \u4f8b\u5982: 123,456\n+        // config.setNumberFormat(\"#\");\t\t// config.setNumberFormat(\"0\"); \u4e5f\u53ef\u4ee5\n+        config.setNumberFormat(\"#0.#####\");\n+        config.setDateFormat(\"yyyy-MM-dd\");\n+        config.setTimeFormat(\"HH:mm:ss\");\n+        config.setDateTimeFormat(\"yyyy-MM-dd HH:mm:ss\");\n+    }\n+\n+    /**\n+     * \u7ee7\u627f\u7c7b\u53ef\u901a\u8fc7\u8986\u76d6\u6b64\u65b9\u6cd5\u6539\u53d8 contentType\uff0c\u4ece\u800c\u91cd\u7528 freemarker \u6a21\u677f\u529f\u80fd\n+     * \u4f8b\u5982\u5229\u7528 freemarker \u5b9e\u73b0 FreeMarkerXmlRender \u751f\u6210 Xml \u5185\u5bb9\n+     */\n+    public String getContentType() {\n+        return contentType;\n+    }\n+\n+    @SuppressWarnings({\"unchecked\", \"rawtypes\"})\n+    public void render() {\n+        response.setContentType(getContentType());\n+\n+        Map data = new HashMap();\n+        for (Enumeration<String> attrs = request.getAttributeNames(); attrs.hasMoreElements();) {\n+            String attrName = attrs.nextElement();\n+            data.put(attrName, request.getAttribute(attrName));\n+        }\n+\n+        PrintWriter writer = null;\n+        try {\n+            Template template = config.getTemplate(view);\n+            writer = response.getWriter();\n+            template.process(data, writer);\t\t// Merge the data-model and the template\n+        } catch (Exception e) {\n+            throw new RenderException(e);\n+        }\n+    }\n+}"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/font/summernote.eot",
          "status": "modified",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/font/summernote.ttf",
          "status": "modified",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/font/summernote.woff",
          "status": "modified",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/lang/summernote-zh-CN.js",
          "status": "modified",
          "additions": 25,
          "deletions": 25,
          "patch": "@@ -11,7 +11,7 @@\n         strikethrough: '\u5220\u9664\u7ebf',\n         subscript: '\u4e0b\u6807',\n         superscript: '\u4e0a\u6807',\n-        size: '\u5b57\u53f7'\n+        size: '\u5b57\u53f7',\n       },\n       image: {\n         image: '\u56fe\u7247',\n@@ -27,20 +27,20 @@\n         shapeThumbnail: '\u5f62\u72b6: \u7f29\u7565\u56fe',\n         shapeNone: '\u5f62\u72b6: \u65e0',\n         dragImageHere: '\u5c06\u56fe\u7247\u62d6\u62fd\u81f3\u6b64\u5904',\n-        dropImage: 'Drop image or Text',\n+        dropImage: '\u62d6\u62fd\u56fe\u7247\u6216\u6587\u672c',\n         selectFromFiles: '\u4ece\u672c\u5730\u4e0a\u4f20',\n         maximumFileSize: '\u6587\u4ef6\u5927\u5c0f\u6700\u5927\u503c',\n         maximumFileSizeError: '\u6587\u4ef6\u5927\u5c0f\u8d85\u51fa\u6700\u5927\u503c\u3002',\n         url: '\u56fe\u7247\u5730\u5740',\n         remove: '\u79fb\u9664\u56fe\u7247',\n-        original: 'Original'\n+        original: '\u539f\u59cb\u56fe\u7247',\n       },\n       video: {\n         video: '\u89c6\u9891',\n         videoLink: '\u89c6\u9891\u94fe\u63a5',\n         insert: '\u63d2\u5165\u89c6\u9891',\n         url: '\u89c6\u9891\u5730\u5740',\n-        providers: '(\u4f18\u9177, \u817e\u8baf, Instagram, DailyMotion, Youtube\u7b49)'\n+        providers: '(\u4f18\u9177, \u817e\u8baf, Instagram, DailyMotion, Youtube\u7b49)',\n       },\n       link: {\n         link: '\u94fe\u63a5',\n@@ -49,20 +49,20 @@\n         edit: '\u7f16\u8f91\u94fe\u63a5',\n         textToDisplay: '\u663e\u793a\u6587\u672c',\n         url: '\u94fe\u63a5\u5730\u5740',\n-        openInNewWindow: '\u5728\u65b0\u7a97\u53e3\u6253\u5f00'\n+        openInNewWindow: '\u5728\u65b0\u7a97\u53e3\u6253\u5f00',\n       },\n       table: {\n         table: '\u8868\u683c',\n-        addRowAbove: 'Add row above',\n-        addRowBelow: 'Add row below',\n-        addColLeft: 'Add column left',\n-        addColRight: 'Add column right',\n-        delRow: 'Delete row',\n-        delCol: 'Delete column',\n-        delTable: 'Delete table'\n+        addRowAbove: '\u5728\u4e0a\u65b9\u63d2\u5165\u884c',\n+        addRowBelow: '\u5728\u4e0b\u65b9\u63d2\u5165\u884c',\n+        addColLeft: '\u5728\u5de6\u4fa7\u63d2\u5165\u5217',\n+        addColRight: '\u5728\u53f3\u4fa7\u63d2\u5165\u5217',\n+        delRow: '\u5220\u9664\u884c',\n+        delCol: '\u5220\u9664\u5217',\n+        delTable: '\u5220\u9664\u8868\u683c',\n       },\n       hr: {\n-        insert: '\u6c34\u5e73\u7ebf'\n+        insert: '\u6c34\u5e73\u7ebf',\n       },\n       style: {\n         style: '\u6837\u5f0f',\n@@ -74,16 +74,16 @@\n         h3: '\u6807\u9898 3',\n         h4: '\u6807\u9898 4',\n         h5: '\u6807\u9898 5',\n-        h6: '\u6807\u9898 6'\n+        h6: '\u6807\u9898 6',\n       },\n       lists: {\n         unordered: '\u65e0\u5e8f\u5217\u8868',\n-        ordered: '\u6709\u5e8f\u5217\u8868'\n+        ordered: '\u6709\u5e8f\u5217\u8868',\n       },\n       options: {\n         help: '\u5e2e\u52a9',\n         fullscreen: '\u5168\u5c4f',\n-        codeview: '\u6e90\u4ee3\u7801'\n+        codeview: '\u6e90\u4ee3\u7801',\n       },\n       paragraph: {\n         paragraph: '\u6bb5\u843d',\n@@ -92,7 +92,7 @@\n         left: '\u5de6\u5bf9\u9f50',\n         center: '\u5c45\u4e2d\u5bf9\u9f50',\n         right: '\u53f3\u5bf9\u9f50',\n-        justify: '\u4e24\u7aef\u5bf9\u9f50'\n+        justify: '\u4e24\u7aef\u5bf9\u9f50',\n       },\n       color: {\n         recent: '\u6700\u8fd1\u4f7f\u7528',\n@@ -102,7 +102,7 @@\n         transparent: '\u900f\u660e',\n         setTransparent: '\u900f\u660e',\n         reset: '\u91cd\u7f6e',\n-        resetToDefault: '\u9ed8\u8ba4'\n+        resetToDefault: '\u9ed8\u8ba4',\n       },\n       shortcut: {\n         shortcuts: '\u5feb\u6377\u952e',\n@@ -111,7 +111,7 @@\n         action: '\u52a8\u4f5c',\n         paragraphFormatting: '\u6bb5\u843d\u683c\u5f0f',\n         documentStyle: '\u6587\u6863\u6837\u5f0f',\n-        extraKeys: '\u989d\u5916\u6309\u952e'\n+        extraKeys: '\u989d\u5916\u6309\u952e',\n       },\n       help: {\n         insertParagraph: '\u63d2\u5165\u6bb5\u843d',\n@@ -140,16 +140,16 @@\n         formatH5: '\u8bbe\u7f6e\u9009\u4e2d\u5185\u5bb9\u6837\u5f0f\u4e3a \u6807\u98985',\n         formatH6: '\u8bbe\u7f6e\u9009\u4e2d\u5185\u5bb9\u6837\u5f0f\u4e3a \u6807\u98986',\n         insertHorizontalRule: '\u63d2\u5165\u6c34\u5e73\u7ebf',\n-        'linkDialog.show': '\u663e\u793a\u94fe\u63a5\u5bf9\u8bdd\u6846'\n+        'linkDialog.show': '\u663e\u793a\u94fe\u63a5\u5bf9\u8bdd\u6846',\n       },\n       history: {\n         undo: '\u64a4\u9500',\n-        redo: '\u91cd\u505a'\n+        redo: '\u91cd\u505a',\n       },\n       specialChar: {\n-        specialChar: 'SPECIAL CHARACTERS',\n-        select: 'Select Special characters'\n-      }\n-    }\n+        specialChar: '\u7279\u6b8a\u5b57\u7b26',\n+        select: '\u9009\u53d6\u7279\u6b8a\u5b57\u7b26',\n+      },\n+    },\n   });\n })(jQuery);"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/plugin/databasic/summernote-ext-databasic.css",
          "status": "added",
          "additions": 16,
          "deletions": 0,
          "patch": "@@ -0,0 +1,16 @@\n+.ext-databasic {\n+\tposition: relative;\n+\tdisplay: block;\n+\tmin-height: 50px;\n+\tbackground-color: cyan;\n+\ttext-align: center;\n+\tpadding: 20px;\n+\tborder: 1px solid white;\n+\tborder-radius: 10px;\n+}\n+\n+.ext-databasic p {\n+\tcolor: white;\n+\tfont-size: 1.2em;\n+\tmargin: 0;\n+}"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/plugin/databasic/summernote-ext-databasic.js",
          "status": "added",
          "additions": 292,
          "deletions": 0,
          "patch": "@@ -0,0 +1,292 @@\n+(function(factory) {\n+  /* global define */\n+  if (typeof define === 'function' && define.amd) {\n+    // AMD. Register as an anonymous module.\n+    define(['jquery'], factory);\n+  } else if (typeof module === 'object' && module.exports) {\n+    // Node/CommonJS\n+    module.exports = factory(require('jquery'));\n+  } else {\n+    // Browser globals\n+    factory(window.jQuery);\n+  }\n+}(function($) {\n+  // pull in some summernote core functions\n+  var ui = $.summernote.ui;\n+  var dom = $.summernote.dom;\n+\n+  // define the popover plugin\n+  var DataBasicPlugin = function(context) {\n+    var self = this;\n+    var options = context.options;\n+    var lang = options.langInfo;\n+\n+    self.icon = '<i class=\"fa fa-object-group\"/>';\n+\n+    // add context menu button for dialog\n+    context.memo('button.databasic', function() {\n+      return ui.button({\n+        contents: self.icon,\n+        tooltip: lang.databasic.insert,\n+        click: context.createInvokeHandler('databasic.showDialog'),\n+      }).render();\n+    });\n+\n+    // add popover edit button\n+    context.memo('button.databasicDialog', function() {\n+      return ui.button({\n+        contents: self.icon,\n+        tooltip: lang.databasic.edit,\n+        click: context.createInvokeHandler('databasic.showDialog'),\n+      }).render();\n+    });\n+\n+    //  add popover size buttons\n+    context.memo('button.databasicSize100', function() {\n+      return ui.button({\n+        contents: '<span class=\"note-fontsize-10\">100%</span>',\n+        tooltip: lang.image.resizeFull,\n+        click: context.createInvokeHandler('editor.resize', '1'),\n+      }).render();\n+    });\n+    context.memo('button.databasicSize50', function() {\n+      return ui.button({\n+        contents: '<span class=\"note-fontsize-10\">50%</span>',\n+        tooltip: lang.image.resizeHalf,\n+        click: context.createInvokeHandler('editor.resize', '0.5'),\n+      }).render();\n+    });\n+    context.memo('button.databasicSize25', function() {\n+      return ui.button({\n+        contents: '<span class=\"note-fontsize-10\">25%</span>',\n+        tooltip: lang.image.resizeQuarter,\n+        click: context.createInvokeHandler('editor.resize', '0.25'),\n+      }).render();\n+    });\n+\n+    self.events = {\n+      'summernote.init': function(we, e) {\n+        // update existing containers\n+        $('data.ext-databasic', e.editable).each(function() { self.setContent($(this)); });\n+        // TODO: make this an undo snapshot...\n+      },\n+      'summernote.keyup summernote.mouseup summernote.change summernote.scroll': function() {\n+        self.update();\n+      },\n+      'summernote.dialog.shown': function() {\n+        self.hidePopover();\n+      },\n+    };\n+\n+    self.initialize = function() {\n+      // create dialog markup\n+      var $container = options.dialogsInBody ? $(document.body) : context.layoutInfo.editor;\n+\n+      var body = '<div class=\"form-group row-fluid\">' +\n+          '<label>' + lang.databasic.testLabel + '</label>' +\n+          '<input class=\"ext-databasic-test form-control\" type=\"text\" />' +\n+          '</div>';\n+      var footer = '<button href=\"#\" class=\"btn btn-primary ext-databasic-save\">' + lang.databasic.insert + '</button>';\n+\n+      self.$dialog = ui.dialog({\n+        title: lang.databasic.name,\n+        fade: options.dialogsFade,\n+        body: body,\n+        footer: footer,\n+      }).render().appendTo($container);\n+\n+      // create popover\n+      self.$popover = ui.popover({\n+        className: 'ext-databasic-popover',\n+      }).render().appendTo('body');\n+      var $content = self.$popover.find('.popover-content');\n+\n+      context.invoke('buttons.build', $content, options.popover.databasic);\n+    };\n+\n+    self.destroy = function() {\n+      self.$popover.remove();\n+      self.$popover = null;\n+      self.$dialog.remove();\n+      self.$dialog = null;\n+    };\n+\n+    self.update = function() {\n+      // Prevent focusing on editable when invoke('code') is executed\n+      if (!context.invoke('editor.hasFocus')) {\n+        self.hidePopover();\n+        return;\n+      }\n+\n+      var rng = context.invoke('editor.createRange');\n+      var visible = false;\n+\n+      if (rng.isOnData()) {\n+        var $data = $(rng.sc).closest('data.ext-databasic');\n+\n+        if ($data.length) {\n+          var pos = dom.posFromPlaceholder($data[0]);\n+\n+          self.$popover.css({\n+            display: 'block',\n+            left: pos.left,\n+            top: pos.top,\n+          });\n+\n+          // save editor target to let size buttons resize the container\n+          context.invoke('editor.saveTarget', $data[0]);\n+\n+          visible = true;\n+        }\n+      }\n+\n+      // hide if not visible\n+      if (!visible) {\n+        self.hidePopover();\n+      }\n+    };\n+\n+    self.hidePopover = function() {\n+      self.$popover.hide();\n+    };\n+\n+    // define plugin dialog\n+    self.getInfo = function() {\n+      var rng = context.invoke('editor.createRange');\n+\n+      if (rng.isOnData()) {\n+        var $data = $(rng.sc).closest('data.ext-databasic');\n+\n+        if ($data.length) {\n+          // Get the first node on range(for edit).\n+          return {\n+            node: $data,\n+            test: $data.attr('data-test'),\n+          };\n+        }\n+      }\n+\n+      return {};\n+    };\n+\n+    self.setContent = function($node) {\n+      $node.html('<p contenteditable=\"false\">' + self.icon + ' ' + lang.databasic.name + ': ' +\n+        $node.attr('data-test') + '</p>');\n+    };\n+\n+    self.updateNode = function(info) {\n+      self.setContent(info.node\n+        .attr('data-test', info.test));\n+    };\n+\n+    self.createNode = function(info) {\n+      var $node = $('<data class=\"ext-databasic\"></data>');\n+\n+      if ($node) {\n+        // save node to info structure\n+        info.node = $node;\n+        // insert node into editor dom\n+        context.invoke('editor.insertNode', $node[0]);\n+      }\n+\n+      return $node;\n+    };\n+\n+    self.showDialog = function() {\n+      var info = self.getInfo();\n+      var newNode = !info.node;\n+      context.invoke('editor.saveRange');\n+\n+      self\n+        .openDialog(info)\n+        .then(function(dialogInfo) {\n+          // [workaround] hide dialog before restore range for IE range focus\n+          ui.hideDialog(self.$dialog);\n+          context.invoke('editor.restoreRange');\n+\n+          // insert a new node\n+          if (newNode) {\n+            self.createNode(info);\n+          }\n+\n+          // update info with dialog info\n+          $.extend(info, dialogInfo);\n+\n+          self.updateNode(info);\n+        })\n+        .fail(function() {\n+          context.invoke('editor.restoreRange');\n+        });\n+    };\n+\n+    self.openDialog = function(info) {\n+      return $.Deferred(function(deferred) {\n+        var $inpTest = self.$dialog.find('.ext-databasic-test');\n+        var $saveBtn = self.$dialog.find('.ext-databasic-save');\n+        var onKeyup = function(event) {\n+          if (event.keyCode === 13) {\n+            $saveBtn.trigger('click');\n+          }\n+        };\n+\n+        ui.onDialogShown(self.$dialog, function() {\n+          context.triggerEvent('dialog.shown');\n+\n+          $inpTest.val(info.test).on('input', function() {\n+            ui.toggleBtn($saveBtn, $inpTest.val());\n+          }).trigger('focus').on('keyup', onKeyup);\n+\n+          $saveBtn\n+            .text(info.node ? lang.databasic.edit : lang.databasic.insert)\n+            .click(function(event) {\n+              event.preventDefault();\n+\n+              deferred.resolve({ test: $inpTest.val() });\n+            });\n+\n+          // init save button\n+          ui.toggleBtn($saveBtn, $inpTest.val());\n+        });\n+\n+        ui.onDialogHidden(self.$dialog, function() {\n+          $inpTest.off('input keyup');\n+          $saveBtn.off('click');\n+\n+          if (deferred.state() === 'pending') {\n+            deferred.reject();\n+          }\n+        });\n+\n+        ui.showDialog(self.$dialog);\n+      });\n+    };\n+  };\n+\n+  // Extends summernote\n+  $.extend(true, $.summernote, {\n+    plugins: {\n+      databasic: DataBasicPlugin,\n+    },\n+\n+    options: {\n+      popover: {\n+        databasic: [\n+          ['databasic', ['databasicDialog', 'databasicSize100', 'databasicSize50', 'databasicSize25']],\n+        ],\n+      },\n+    },\n+\n+    // add localization texts\n+    lang: {\n+      'en-US': {\n+        databasic: {\n+          name: 'Basic Data Container',\n+          insert: 'insert basic data container',\n+          edit: 'edit basic data container',\n+          testLabel: 'test input',\n+        },\n+      },\n+    },\n+\n+  });\n+}));"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/plugin/hello/summernote-ext-hello.js",
          "status": "added",
          "additions": 81,
          "deletions": 0,
          "patch": "@@ -0,0 +1,81 @@\n+(function(factory) {\n+  /* global define */\n+  if (typeof define === 'function' && define.amd) {\n+    // AMD. Register as an anonymous module.\n+    define(['jquery'], factory);\n+  } else if (typeof module === 'object' && module.exports) {\n+    // Node/CommonJS\n+    module.exports = factory(require('jquery'));\n+  } else {\n+    // Browser globals\n+    factory(window.jQuery);\n+  }\n+}(function($) {\n+  // Extends plugins for adding hello.\n+  //  - plugin is external module for customizing.\n+  $.extend($.summernote.plugins, {\n+    /**\n+     * @param {Object} context - context object has status of editor.\n+     */\n+    'hello': function(context) {\n+      var self = this;\n+\n+      // ui has renders to build ui elements.\n+      //  - you can create a button with `ui.button`\n+      var ui = $.summernote.ui;\n+\n+      // add hello button\n+      context.memo('button.hello', function() {\n+        // create button\n+        var button = ui.button({\n+          contents: '<i class=\"fa fa-child\"/> Hello',\n+          tooltip: 'hello',\n+          click: function() {\n+            self.$panel.show();\n+            self.$panel.hide(500);\n+            // invoke insertText method with 'hello' on editor module.\n+            context.invoke('editor.insertText', 'hello');\n+          },\n+        });\n+\n+        // create jQuery object from button instance.\n+        var $hello = button.render();\n+        return $hello;\n+      });\n+\n+      // This events will be attached when editor is initialized.\n+      this.events = {\n+        // This will be called after modules are initialized.\n+        'summernote.init': function(we, e) {\n+          console.log('summernote initialized', we, e);\n+        },\n+        // This will be called when user releases a key on editable.\n+        'summernote.keyup': function(we, e) {\n+          console.log('summernote keyup', we, e);\n+        },\n+      };\n+\n+      // This method will be called when editor is initialized by $('..').summernote();\n+      // You can create elements for plugin\n+      this.initialize = function() {\n+        this.$panel = $('<div class=\"hello-panel\"/>').css({\n+          position: 'absolute',\n+          width: 100,\n+          height: 100,\n+          left: '50%',\n+          top: '50%',\n+          background: 'red',\n+        }).hide();\n+\n+        this.$panel.appendTo('body');\n+      };\n+\n+      // This methods will be called when editor is destroyed by $('..').summernote('destroy');\n+      // You should remove elements on `initialize`.\n+      this.destroy = function() {\n+        this.$panel.remove();\n+        this.$panel = null;\n+      };\n+    },\n+  });\n+}));"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/plugin/specialchars/summernote-ext-specialchars.js",
          "status": "added",
          "additions": 312,
          "deletions": 0,
          "patch": "@@ -0,0 +1,312 @@\n+(function(factory) {\n+  /* global define */\n+  if (typeof define === 'function' && define.amd) {\n+    // AMD. Register as an anonymous module.\n+    define(['jquery'], factory);\n+  } else if (typeof module === 'object' && module.exports) {\n+    // Node/CommonJS\n+    module.exports = factory(require('jquery'));\n+  } else {\n+    // Browser globals\n+    factory(window.jQuery);\n+  }\n+}(function($) {\n+  $.extend($.summernote.plugins, {\n+    'specialchars': function(context) {\n+      var self = this;\n+      var ui = $.summernote.ui;\n+\n+      var $editor = context.layoutInfo.editor;\n+      var options = context.options;\n+      var lang = options.langInfo;\n+\n+      var KEY = {\n+        UP: 38,\n+        DOWN: 40,\n+        LEFT: 37,\n+        RIGHT: 39,\n+        ENTER: 13,\n+      };\n+      var COLUMN_LENGTH = 15;\n+      var COLUMN_WIDTH = 35;\n+\n+      var currentColumn = 0;\n+      var currentRow = 0;\n+      var totalColumn = 0;\n+      var totalRow = 0;\n+\n+      // special characters data set\n+      var specialCharDataSet = [\n+        '&quot;', '&amp;', '&lt;', '&gt;', '&iexcl;', '&cent;',\n+        '&pound;', '&curren;', '&yen;', '&brvbar;', '&sect;',\n+        '&uml;', '&copy;', '&ordf;', '&laquo;', '&not;',\n+        '&reg;', '&macr;', '&deg;', '&plusmn;', '&sup2;',\n+        '&sup3;', '&acute;', '&micro;', '&para;', '&middot;',\n+        '&cedil;', '&sup1;', '&ordm;', '&raquo;', '&frac14;',\n+        '&frac12;', '&frac34;', '&iquest;', '&times;', '&divide;',\n+        '&fnof;', '&circ;', '&tilde;', '&ndash;', '&mdash;',\n+        '&lsquo;', '&rsquo;', '&sbquo;', '&ldquo;', '&rdquo;',\n+        '&bdquo;', '&dagger;', '&Dagger;', '&bull;', '&hellip;',\n+        '&permil;', '&prime;', '&Prime;', '&lsaquo;', '&rsaquo;',\n+        '&oline;', '&frasl;', '&euro;', '&image;', '&weierp;',\n+        '&real;', '&trade;', '&alefsym;', '&larr;', '&uarr;',\n+        '&rarr;', '&darr;', '&harr;', '&crarr;', '&lArr;',\n+        '&uArr;', '&rArr;', '&dArr;', '&hArr;', '&forall;',\n+        '&part;', '&exist;', '&empty;', '&nabla;', '&isin;',\n+        '&notin;', '&ni;', '&prod;', '&sum;', '&minus;',\n+        '&lowast;', '&radic;', '&prop;', '&infin;', '&ang;',\n+        '&and;', '&or;', '&cap;', '&cup;', '&int;',\n+        '&there4;', '&sim;', '&cong;', '&asymp;', '&ne;',\n+        '&equiv;', '&le;', '&ge;', '&sub;', '&sup;',\n+        '&nsub;', '&sube;', '&supe;', '&oplus;', '&otimes;',\n+        '&perp;', '&sdot;', '&lceil;', '&rceil;', '&lfloor;',\n+        '&rfloor;', '&loz;', '&spades;', '&clubs;', '&hearts;',\n+        '&diams;',\n+      ];\n+\n+      context.memo('button.specialchars', function() {\n+        return ui.button({\n+          contents: '<i class=\"fa fa-font fa-flip-vertical\">',\n+          tooltip: lang.specialChar.specialChar,\n+          click: function() {\n+            self.show();\n+          },\n+        }).render();\n+      });\n+\n+      /**\n+       * Make Special Characters Table\n+       *\n+       * @member plugin.specialChar\n+       * @private\n+       * @return {jQuery}\n+       */\n+      this.makeSpecialCharSetTable = function() {\n+        var $table = $('<table/>');\n+        $.each(specialCharDataSet, function(idx, text) {\n+          var $td = $('<td/>').addClass('note-specialchar-node');\n+          var $tr = (idx % COLUMN_LENGTH === 0) ? $('<tr/>') : $table.find('tr').last();\n+\n+          var $button = ui.button({\n+            callback: function($node) {\n+              $node.html(text);\n+              $node.attr('title', text);\n+              $node.attr('data-value', encodeURIComponent(text));\n+              $node.css({\n+                width: COLUMN_WIDTH,\n+                'margin-right': '2px',\n+                'margin-bottom': '2px',\n+              });\n+            },\n+          }).render();\n+\n+          $td.append($button);\n+\n+          $tr.append($td);\n+          if (idx % COLUMN_LENGTH === 0) {\n+            $table.append($tr);\n+          }\n+        });\n+\n+        totalRow = $table.find('tr').length;\n+        totalColumn = COLUMN_LENGTH;\n+\n+        return $table;\n+      };\n+\n+      this.initialize = function() {\n+        var $container = options.dialogsInBody ? $(document.body) : $editor;\n+\n+        var body = '<div class=\"form-group row-fluid\">' + this.makeSpecialCharSetTable()[0].outerHTML + '</div>';\n+\n+        this.$dialog = ui.dialog({\n+          title: lang.specialChar.select,\n+          body: body,\n+        }).render().appendTo($container);\n+      };\n+\n+      this.show = function() {\n+        var text = context.invoke('editor.getSelectedText');\n+        context.invoke('editor.saveRange');\n+        this.showSpecialCharDialog(text).then(function(selectChar) {\n+          context.invoke('editor.restoreRange');\n+\n+          // build node\n+          var $node = $('<span></span>').html(selectChar)[0];\n+\n+          if ($node) {\n+            // insert video node\n+            context.invoke('editor.insertNode', $node);\n+          }\n+        }).fail(function() {\n+          context.invoke('editor.restoreRange');\n+        });\n+      };\n+\n+      /**\n+       * show image dialog\n+       *\n+       * @param {jQuery} $dialog\n+       * @return {Promise}\n+       */\n+      this.showSpecialCharDialog = function(text) {\n+        return $.Deferred(function(deferred) {\n+          var $specialCharDialog = self.$dialog;\n+          var $specialCharNode = $specialCharDialog.find('.note-specialchar-node');\n+          var $selectedNode = null;\n+          var ARROW_KEYS = [KEY.UP, KEY.DOWN, KEY.LEFT, KEY.RIGHT];\n+          var ENTER_KEY = KEY.ENTER;\n+\n+          function addActiveClass($target) {\n+            if (!$target) {\n+              return;\n+            }\n+            $target.find('button').addClass('active');\n+            $selectedNode = $target;\n+          }\n+\n+          function removeActiveClass($target) {\n+            $target.find('button').removeClass('active');\n+            $selectedNode = null;\n+          }\n+\n+          // find next node\n+          function findNextNode(row, column) {\n+            var findNode = null;\n+            $.each($specialCharNode, function(idx, $node) {\n+              var findRow = Math.ceil((idx + 1) / COLUMN_LENGTH);\n+              var findColumn = ((idx + 1) % COLUMN_LENGTH === 0) ? COLUMN_LENGTH : (idx + 1) % COLUMN_LENGTH;\n+              if (findRow === row && findColumn === column) {\n+                findNode = $node;\n+                return false;\n+              }\n+            });\n+            return $(findNode);\n+          }\n+\n+          function arrowKeyHandler(keyCode) {\n+            // left, right, up, down key\n+            var $nextNode;\n+            var lastRowColumnLength = $specialCharNode.length % totalColumn;\n+\n+            if (KEY.LEFT === keyCode) {\n+              if (currentColumn > 1) {\n+                currentColumn = currentColumn - 1;\n+              } else if (currentRow === 1 && currentColumn === 1) {\n+                currentColumn = lastRowColumnLength;\n+                currentRow = totalRow;\n+              } else {\n+                currentColumn = totalColumn;\n+                currentRow = currentRow - 1;\n+              }\n+            } else if (KEY.RIGHT === keyCode) {\n+              if (currentRow === totalRow && lastRowColumnLength === currentColumn) {\n+                currentColumn = 1;\n+                currentRow = 1;\n+              } else if (currentColumn < totalColumn) {\n+                currentColumn = currentColumn + 1;\n+              } else {\n+                currentColumn = 1;\n+                currentRow = currentRow + 1;\n+              }\n+            } else if (KEY.UP === keyCode) {\n+              if (currentRow === 1 && lastRowColumnLength < currentColumn) {\n+                currentRow = totalRow - 1;\n+              } else {\n+                currentRow = currentRow - 1;\n+              }\n+            } else if (KEY.DOWN === keyCode) {\n+              currentRow = currentRow + 1;\n+            }\n+\n+            if (currentRow === totalRow && currentColumn > lastRowColumnLength) {\n+              currentRow = 1;\n+            } else if (currentRow > totalRow) {\n+              currentRow = 1;\n+            } else if (currentRow < 1) {\n+              currentRow = totalRow;\n+            }\n+\n+            $nextNode = findNextNode(currentRow, currentColumn);\n+\n+            if ($nextNode) {\n+              removeActiveClass($selectedNode);\n+              addActiveClass($nextNode);\n+            }\n+          }\n+\n+          function enterKeyHandler() {\n+            if (!$selectedNode) {\n+              return;\n+            }\n+\n+            deferred.resolve(decodeURIComponent($selectedNode.find('button').attr('data-value')));\n+            $specialCharDialog.modal('hide');\n+          }\n+\n+          function keyDownEventHandler(event) {\n+            event.preventDefault();\n+            var keyCode = event.keyCode;\n+            if (keyCode === undefined || keyCode === null) {\n+              return;\n+            }\n+            // check arrowKeys match\n+            if (ARROW_KEYS.indexOf(keyCode) > -1) {\n+              if ($selectedNode === null) {\n+                addActiveClass($specialCharNode.eq(0));\n+                currentColumn = 1;\n+                currentRow = 1;\n+                return;\n+              }\n+              arrowKeyHandler(keyCode);\n+            } else if (keyCode === ENTER_KEY) {\n+              enterKeyHandler();\n+            }\n+            return false;\n+          }\n+\n+          // remove class\n+          removeActiveClass($specialCharNode);\n+\n+          // find selected node\n+          if (text) {\n+            for (var i = 0; i < $specialCharNode.length; i++) {\n+              var $checkNode = $($specialCharNode[i]);\n+              if ($checkNode.text() === text) {\n+                addActiveClass($checkNode);\n+                currentRow = Math.ceil((i + 1) / COLUMN_LENGTH);\n+                currentColumn = (i + 1) % COLUMN_LENGTH;\n+              }\n+            }\n+          }\n+\n+          ui.onDialogShown(self.$dialog, function() {\n+            $(document).on('keydown', keyDownEventHandler);\n+\n+            self.$dialog.find('button').tooltip();\n+\n+            $specialCharNode.on('click', function(event) {\n+              event.preventDefault();\n+              deferred.resolve(decodeURIComponent($(event.currentTarget).find('button').attr('data-value')));\n+              ui.hideDialog(self.$dialog);\n+            });\n+          });\n+\n+          ui.onDialogHidden(self.$dialog, function() {\n+            $specialCharNode.off('click');\n+\n+            self.$dialog.find('button').tooltip('destroy');\n+\n+            $(document).off('keydown', keyDownEventHandler);\n+\n+            if (deferred.state() === 'pending') {\n+              deferred.reject();\n+            }\n+          });\n+\n+          ui.showDialog(self.$dialog);\n+        });\n+      };\n+    },\n+  });\n+}));"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/summernote-bs4.css",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -1 +1 @@\n-@font-face{font-family:\"summernote\";font-style:normal;font-weight:normal;src:url(\"./font/summernote.eot?dbafe969167589eda84514394d126413\");src:url(\"./font/summernote.eot?#iefix\") format(\"embedded-opentype\"),url(\"./font/summernote.woff?dbafe969167589eda84514394d126413\") format(\"woff\"),url(\"./font/summernote.ttf?dbafe969167589eda84514394d126413\") format(\"truetype\")}[class^=\"note-icon-\"]:before,[class*=\" note-icon-\"]:before{display:inline-block;font:normal normal normal 14px summernote;font-size:inherit;-webkit-font-smoothing:antialiased;text-decoration:inherit;text-rendering:auto;text-transform:none;vertical-align:middle;speak:none;-moz-osx-font-smoothing:grayscale}.note-icon-align-center:before,.note-icon-align-indent:before,.note-icon-align-justify:before,.note-icon-align-left:before,.note-icon-align-outdent:before,.note-icon-align-right:before,.note-icon-align:before,.note-icon-arrow-circle-down:before,.note-icon-arrow-circle-left:before,.note-icon-arrow-circle-right:before,.note-icon-arrow-circle-up:before,.note-icon-arrows-alt:before,.note-icon-arrows-h:before,.note-icon-arrows-v:before,.note-icon-bold:before,.note-icon-caret:before,.note-icon-chain-broken:before,.note-icon-circle:before,.note-icon-close:before,.note-icon-code:before,.note-icon-col-after:before,.note-icon-col-before:before,.note-icon-col-remove:before,.note-icon-eraser:before,.note-icon-font:before,.note-icon-frame:before,.note-icon-italic:before,.note-icon-link:before,.note-icon-magic:before,.note-icon-menu-check:before,.note-icon-minus:before,.note-icon-orderedlist:before,.note-icon-pencil:before,.note-icon-picture:before,.note-icon-question:before,.note-icon-redo:before,.note-icon-row-above:before,.note-icon-row-below:before,.note-icon-row-remove:before,.note-icon-special-character:before,.note-icon-square:before,.note-icon-strikethrough:before,.note-icon-subscript:before,.note-icon-summernote:before,.note-icon-superscript:before,.note-icon-table:before,.note-icon-text-height:before,.note-icon-trash:before,.note-icon-underline:before,.note-icon-undo:before,.note-icon-unorderedlist:before,.note-icon-video:before{display:inline-block;font-family:\"summernote\";font-style:normal;font-weight:normal;text-decoration:inherit}.note-icon-align-center:before{content:\"\\f101\"}.note-icon-align-indent:before{content:\"\\f102\"}.note-icon-align-justify:before{content:\"\\f103\"}.note-icon-align-left:before{content:\"\\f104\"}.note-icon-align-outdent:before{content:\"\\f105\"}.note-icon-align-right:before{content:\"\\f106\"}.note-icon-align:before{content:\"\\f107\"}.note-icon-arrow-circle-down:before{content:\"\\f108\"}.note-icon-arrow-circle-left:before{content:\"\\f109\"}.note-icon-arrow-circle-right:before{content:\"\\f10a\"}.note-icon-arrow-circle-up:before{content:\"\\f10b\"}.note-icon-arrows-alt:before{content:\"\\f10c\"}.note-icon-arrows-h:before{content:\"\\f10d\"}.note-icon-arrows-v:before{content:\"\\f10e\"}.note-icon-bold:before{content:\"\\f10f\"}.note-icon-caret:before{content:\"\\f110\"}.note-icon-chain-broken:before{content:\"\\f111\"}.note-icon-circle:before{content:\"\\f112\"}.note-icon-close:before{content:\"\\f113\"}.note-icon-code:before{content:\"\\f114\"}.note-icon-col-after:before{content:\"\\f115\"}.note-icon-col-before:before{content:\"\\f116\"}.note-icon-col-remove:before{content:\"\\f117\"}.note-icon-eraser:before{content:\"\\f118\"}.note-icon-font:before{content:\"\\f119\"}.note-icon-frame:before{content:\"\\f11a\"}.note-icon-italic:before{content:\"\\f11b\"}.note-icon-link:before{content:\"\\f11c\"}.note-icon-magic:before{content:\"\\f11d\"}.note-icon-menu-check:before{content:\"\\f11e\"}.note-icon-minus:before{content:\"\\f11f\"}.note-icon-orderedlist:before{content:\"\\f120\"}.note-icon-pencil:before{content:\"\\f121\"}.note-icon-picture:before{content:\"\\f122\"}.note-icon-question:before{content:\"\\f123\"}.note-icon-redo:before{content:\"\\f124\"}.note-icon-row-above:before{content:\"\\f125\"}.note-icon-row-below:before{content:\"\\f126\"}.note-icon-row-remove:before{content:\"\\f127\"}.note-icon-special-character:before{content:\"\\f128\"}.note-icon-square:before{content:\"\\f129\"}.note-icon-strikethrough:before{content:\"\\f12a\"}.note-icon-subscript:before{content:\"\\f12b\"}.note-icon-summernote:before{content:\"\\f12c\"}.note-icon-superscript:before{content:\"\\f12d\"}.note-icon-table:before{content:\"\\f12e\"}.note-icon-text-height:before{content:\"\\f12f\"}.note-icon-trash:before{content:\"\\f130\"}.note-icon-underline:before{content:\"\\f131\"}.note-icon-undo:before{content:\"\\f132\"}.note-icon-unorderedlist:before{content:\"\\f133\"}.note-icon-video:before{content:\"\\f134\"}.note-editor{position:relative}.note-editor .note-dropzone{position:absolute;z-index:100;display:none;color:#87cefa;background-color:#fff;opacity:.95}.note-editor .note-dropzone .note-dropzone-message{display:table-cell;font-size:28px;font-weight:700;text-align:center;vertical-align:middle}.note-editor .note-dropzone.hover{color:#098ddf}.note-editor.dragover .note-dropzone{display:table}.note-editor .note-editing-area{position:relative}.note-editor .note-editing-area .note-editable{outline:0}.note-editor .note-editing-area .note-editable sup{vertical-align:super}.note-editor .note-editing-area .note-editable sub{vertical-align:sub}.note-editor .note-editing-area img.note-float-left{margin-right:10px}.note-editor .note-editing-area img.note-float-right{margin-left:10px}.note-editor.note-frame{border:1px solid #a9a9a9}.note-editor.note-frame.codeview .note-editing-area .note-editable{display:none}.note-editor.note-frame.codeview .note-editing-area .note-codable{display:block}.note-editor.note-frame .note-editing-area{overflow:hidden}.note-editor.note-frame .note-editing-area .note-editable{padding:10px;overflow:auto;color:#000;word-wrap:break-word;background-color:#fff}.note-editor.note-frame .note-editing-area .note-editable[contenteditable=\"false\"]{background-color:#e5e5e5}.note-editor.note-frame .note-editing-area .note-codable{display:none;width:100%;padding:10px;margin-bottom:0;font-family:Menlo,Monaco,monospace,sans-serif;font-size:14px;color:#ccc;background-color:#222;border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;box-shadow:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;resize:none}.note-editor.note-frame.fullscreen{position:fixed;top:0;left:0;z-index:1050;width:100%!important}.note-editor.note-frame.fullscreen .note-editable{background-color:#fff}.note-editor.note-frame.fullscreen .note-resizebar{display:none}.note-editor.note-frame .note-status-output{display:block;width:100%;height:20px;margin-bottom:0;font-size:14px;line-height:1.42857143;color:#000;border:0;border-top:1px solid #e2e2e2}.note-editor.note-frame .note-status-output:empty{height:0;border-top:0 solid transparent}.note-editor.note-frame .note-status-output .pull-right{float:right!important}.note-editor.note-frame .note-status-output .text-muted{color:#777}.note-editor.note-frame .note-status-output .text-primary{color:#286090}.note-editor.note-frame .note-status-output .text-success{color:#3c763d}.note-editor.note-frame .note-status-output .text-info{color:#31708f}.note-editor.note-frame .note-status-output .text-warning{color:#8a6d3b}.note-editor.note-frame .note-status-output .text-danger{color:#a94442}.note-editor.note-frame .note-status-output .alert{padding:7px 10px 2px 10px;margin:-7px 0 0 0;color:#000;background-color:#f5f5f5;border-radius:0}.note-editor.note-frame .note-status-output .alert .note-icon{margin-right:5px}.note-editor.note-frame .note-status-output .alert-success{color:#3c763d!important;background-color:#dff0d8!important}.note-editor.note-frame .note-status-output .alert-info{color:#31708f!important;background-color:#d9edf7!important}.note-editor.note-frame .note-status-output .alert-warning{color:#8a6d3b!important;background-color:#fcf8e3!important}.note-editor.note-frame .note-status-output .alert-danger{color:#a94442!important;background-color:#f2dede!important}.note-editor.note-frame .note-statusbar{background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.note-editor.note-frame .note-statusbar .note-resizebar{width:100%;height:9px;padding-top:1px;cursor:ns-resize}.note-editor.note-frame .note-statusbar .note-resizebar .note-icon-bar{width:20px;margin:1px auto;border-top:1px solid #a9a9a9}.note-editor.note-frame .note-statusbar.locked .note-resizebar{cursor:default}.note-editor.note-frame .note-statusbar.locked .note-resizebar .note-icon-bar{display:none}.note-editor.note-frame .note-placeholder{padding:10px}.note-popover.popover{display:none;max-width:none}.note-popover.popover .popover-content a{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}.note-popover.popover .arrow{left:20px!important}.note-toolbar{position:relative;z-index:500}.note-popover .popover-content,.card-header.note-toolbar{padding:0 0 5px 5px;margin:0}.note-popover .popover-content>.btn-group,.card-header.note-toolbar>.btn-group{margin-top:5px;margin-right:5px;margin-left:0}.note-popover .popover-content .btn-group .note-table,.card-header.note-toolbar .btn-group .note-table{min-width:0;padding:5px}.note-popover .popover-content .btn-group .note-table .note-dimension-picker,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker{font-size:18px}.note-popover .popover-content .btn-group .note-table .note-dimension-picker .note-dimension-picker-mousecatcher,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker .note-dimension-picker-mousecatcher{position:absolute!important;z-index:3;width:10em;height:10em;cursor:pointer}.note-popover .popover-content .btn-group .note-table .note-dimension-picker .note-dimension-picker-unhighlighted,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker .note-dimension-picker-unhighlighted{position:relative!important;z-index:1;width:5em;height:5em;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASAgMAAAAroGbEAAAACVBMVEUAAIj4+Pjp6ekKlAqjAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfYAR0BKhmnaJzPAAAAG0lEQVQI12NgAAOtVatWMTCohoaGUY+EmIkEAEruEzK2J7tvAAAAAElFTkSuQmCC') repeat}.note-popover .popover-content .btn-group .note-table .note-dimension-picker .note-dimension-picker-highlighted,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker .note-dimension-picker-highlighted{position:absolute!important;z-index:2;width:1em;height:1em;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASAgMAAAAroGbEAAAACVBMVEUAAIjd6vvD2f9LKLW+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfYAR0BKwNDEVT0AAAAG0lEQVQI12NgAAOtVatWMTCohoaGUY+EmIkEAEruEzK2J7tvAAAAAElFTkSuQmCC') repeat}.note-popover .popover-content .note-style .dropdown-style blockquote,.card-header.note-toolbar .note-style .dropdown-style blockquote,.note-popover .popover-content .note-style .dropdown-style pre,.card-header.note-toolbar .note-style .dropdown-style pre{padding:5px 10px;margin:0}.note-popover .popover-content .note-style .dropdown-style h1,.card-header.note-toolbar .note-style .dropdown-style h1,.note-popover .popover-content .note-style .dropdown-style h2,.card-header.note-toolbar .note-style .dropdown-style h2,.note-popover .popover-content .note-style .dropdown-style h3,.card-header.note-toolbar .note-style .dropdown-style h3,.note-popover .popover-content .note-style .dropdown-style h4,.card-header.note-toolbar .note-style .dropdown-style h4,.note-popover .popover-content .note-style .dropdown-style h5,.card-header.note-toolbar .note-style .dropdown-style h5,.note-popover .popover-content .note-style .dropdown-style h6,.card-header.note-toolbar .note-style .dropdown-style h6,.note-popover .popover-content .note-style .dropdown-style p,.card-header.note-toolbar .note-style .dropdown-style p{padding:0;margin:0}.note-popover .popover-content .note-color .dropdown-toggle,.card-header.note-toolbar .note-color .dropdown-toggle{width:20px;padding-left:5px}.note-popover .popover-content .note-color .dropdown-menu,.card-header.note-toolbar .note-color .dropdown-menu{min-width:337px}.note-popover .popover-content .note-color .dropdown-menu .note-palette,.card-header.note-toolbar .note-color .dropdown-menu .note-palette{display:inline-block;width:160px;margin:0}.note-popover .popover-content .note-color .dropdown-menu .note-palette:first-child,.card-header.note-toolbar .note-color .dropdown-menu .note-palette:first-child{margin:0 5px}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-palette-title,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-palette-title{margin:2px 7px;font-size:12px;text-align:center;border-bottom:1px solid #eee}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-reset,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-reset{width:100%;padding:0 3px;margin:3px;font-size:11px;cursor:pointer;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-row,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-row{height:20px}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-reset:hover,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-reset:hover{background:#eee}.note-popover .popover-content .note-para .dropdown-menu,.card-header.note-toolbar .note-para .dropdown-menu{min-width:216px;padding:5px}.note-popover .popover-content .note-para .dropdown-menu>div:first-child,.card-header.note-toolbar .note-para .dropdown-menu>div:first-child{margin-right:5px}.note-popover .popover-content .dropdown-menu,.card-header.note-toolbar .dropdown-menu{min-width:90px}.note-popover .popover-content .dropdown-menu.right,.card-header.note-toolbar .dropdown-menu.right{right:0;left:auto}.note-popover .popover-content .dropdown-menu.right::before,.card-header.note-toolbar .dropdown-menu.right::before{right:9px;left:auto!important}.note-popover .popover-content .dropdown-menu.right::after,.card-header.note-toolbar .dropdown-menu.right::after{right:10px;left:auto!important}.note-popover .popover-content .dropdown-menu.note-check a i,.card-header.note-toolbar .dropdown-menu.note-check a i{color:deepskyblue;visibility:hidden}.note-popover .popover-content .dropdown-menu.note-check a.checked i,.card-header.note-toolbar .dropdown-menu.note-check a.checked i{visibility:visible}.note-popover .popover-content .note-fontsize-10,.card-header.note-toolbar .note-fontsize-10{font-size:10px}.note-popover .popover-content .note-color-palette,.card-header.note-toolbar .note-color-palette{line-height:1}.note-popover .popover-content .note-color-palette div .note-color-btn,.card-header.note-toolbar .note-color-palette div .note-color-btn{width:20px;height:20px;padding:0;margin:0;border:1px solid #fff}.note-popover .popover-content .note-color-palette div .note-color-btn:hover,.card-header.note-toolbar .note-color-palette div .note-color-btn:hover{border:1px solid #000}.note-dialog>div{display:none}.note-dialog .form-group{margin-right:0;margin-left:0}.note-dialog .note-modal-form{margin:0}.note-dialog .note-image-dialog .note-dropzone{min-height:100px;margin-bottom:10px;font-size:30px;line-height:4;color:lightgray;text-align:center;border:4px dashed lightgray}@-moz-document url-prefix(){.note-image-input{height:auto}}.note-placeholder{position:absolute;display:none;color:gray}.note-handle .note-control-selection{position:absolute;display:none;border:1px solid black}.note-handle .note-control-selection>div{position:absolute}.note-handle .note-control-selection .note-control-selection-bg{width:100%;height:100%;background-color:black;-webkit-opacity:.3;-khtml-opacity:.3;-moz-opacity:.3;opacity:.3;-ms-filter:alpha(opacity=30);filter:alpha(opacity=30)}.note-handle .note-control-selection .note-control-handle{width:7px;height:7px;border:1px solid black}.note-handle .note-control-selection .note-control-holder{width:7px;height:7px;border:1px solid black}.note-handle .note-control-selection .note-control-sizing{width:7px;height:7px;background-color:white;border:1px solid black}.note-handle .note-control-selection .note-control-nw{top:-5px;left:-5px;border-right:0;border-bottom:0}.note-handle .note-control-selection .note-control-ne{top:-5px;right:-5px;border-bottom:0;border-left:none}.note-handle .note-control-selection .note-control-sw{bottom:-5px;left:-5px;border-top:0;border-right:0}.note-handle .note-control-selection .note-control-se{right:-5px;bottom:-5px;cursor:se-resize}.note-handle .note-control-selection .note-control-se.note-control-holder{cursor:default;border-top:0;border-left:none}.note-handle .note-control-selection .note-control-selection-info{right:0;bottom:0;padding:5px;margin:5px;font-size:12px;color:#fff;background-color:#000;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-opacity:.7;-khtml-opacity:.7;-moz-opacity:.7;opacity:.7;-ms-filter:alpha(opacity=70);filter:alpha(opacity=70)}.note-hint-popover{min-width:100px;padding:2px}.note-hint-popover .popover-content{max-height:150px;padding:3px;overflow:auto}.note-hint-popover .popover-content .note-hint-group .note-hint-item{display:block!important;padding:3px}.note-hint-popover .popover-content .note-hint-group .note-hint-item.active,.note-hint-popover .popover-content .note-hint-group .note-hint-item:hover{display:block;clear:both;font-weight:400;line-height:1.4;color:#fff;text-decoration:none;white-space:nowrap;cursor:pointer;background-color:#428bca;outline:0}\n\\ No newline at end of file\n+@font-face{font-family:\"summernote\";font-style:normal;font-weight:normal;src:url(\"./font/summernote.eot?1d9aeaaff0a8939558a45be6cd52cd4c\");src:url(\"./font/summernote.eot?1d9aeaaff0a8939558a45be6cd52cd4c#iefix\") format(\"embedded-opentype\"),url(\"./font/summernote.woff?1d9aeaaff0a8939558a45be6cd52cd4c\") format(\"woff\"),url(\"./font/summernote.ttf?1d9aeaaff0a8939558a45be6cd52cd4c\") format(\"truetype\")}[class^=\"note-icon-\"]:before,[class*=\" note-icon-\"]:before{display:inline-block;font:normal normal normal 14px summernote;font-size:inherit;-webkit-font-smoothing:antialiased;text-decoration:inherit;text-rendering:auto;text-transform:none;vertical-align:middle;speak:none;-moz-osx-font-smoothing:grayscale}.note-icon-align-center:before,.note-icon-align-indent:before,.note-icon-align-justify:before,.note-icon-align-left:before,.note-icon-align-outdent:before,.note-icon-align-right:before,.note-icon-align:before,.note-icon-arrow-circle-down:before,.note-icon-arrow-circle-left:before,.note-icon-arrow-circle-right:before,.note-icon-arrow-circle-up:before,.note-icon-arrows-alt:before,.note-icon-arrows-h:before,.note-icon-arrows-v:before,.note-icon-bold:before,.note-icon-caret:before,.note-icon-chain-broken:before,.note-icon-circle:before,.note-icon-close:before,.note-icon-code:before,.note-icon-col-after:before,.note-icon-col-before:before,.note-icon-col-remove:before,.note-icon-eraser:before,.note-icon-float-left:before,.note-icon-float-none:before,.note-icon-float-right:before,.note-icon-font:before,.note-icon-frame:before,.note-icon-italic:before,.note-icon-link:before,.note-icon-magic:before,.note-icon-menu-check:before,.note-icon-minus:before,.note-icon-orderedlist:before,.note-icon-pencil:before,.note-icon-picture:before,.note-icon-question:before,.note-icon-redo:before,.note-icon-rollback:before,.note-icon-row-above:before,.note-icon-row-below:before,.note-icon-row-remove:before,.note-icon-special-character:before,.note-icon-square:before,.note-icon-strikethrough:before,.note-icon-subscript:before,.note-icon-summernote:before,.note-icon-superscript:before,.note-icon-table:before,.note-icon-text-height:before,.note-icon-trash:before,.note-icon-underline:before,.note-icon-undo:before,.note-icon-unorderedlist:before,.note-icon-video:before{display:inline-block;font-family:\"summernote\";font-style:normal;font-weight:normal;text-decoration:inherit}.note-icon-align-center:before{content:\"\\f101\"}.note-icon-align-indent:before{content:\"\\f102\"}.note-icon-align-justify:before{content:\"\\f103\"}.note-icon-align-left:before{content:\"\\f104\"}.note-icon-align-outdent:before{content:\"\\f105\"}.note-icon-align-right:before{content:\"\\f106\"}.note-icon-align:before{content:\"\\f107\"}.note-icon-arrow-circle-down:before{content:\"\\f108\"}.note-icon-arrow-circle-left:before{content:\"\\f109\"}.note-icon-arrow-circle-right:before{content:\"\\f10a\"}.note-icon-arrow-circle-up:before{content:\"\\f10b\"}.note-icon-arrows-alt:before{content:\"\\f10c\"}.note-icon-arrows-h:before{content:\"\\f10d\"}.note-icon-arrows-v:before{content:\"\\f10e\"}.note-icon-bold:before{content:\"\\f10f\"}.note-icon-caret:before{content:\"\\f110\"}.note-icon-chain-broken:before{content:\"\\f111\"}.note-icon-circle:before{content:\"\\f112\"}.note-icon-close:before{content:\"\\f113\"}.note-icon-code:before{content:\"\\f114\"}.note-icon-col-after:before{content:\"\\f115\"}.note-icon-col-before:before{content:\"\\f116\"}.note-icon-col-remove:before{content:\"\\f117\"}.note-icon-eraser:before{content:\"\\f118\"}.note-icon-float-left:before{content:\"\\f119\"}.note-icon-float-none:before{content:\"\\f11a\"}.note-icon-float-right:before{content:\"\\f11b\"}.note-icon-font:before{content:\"\\f11c\"}.note-icon-frame:before{content:\"\\f11d\"}.note-icon-italic:before{content:\"\\f11e\"}.note-icon-link:before{content:\"\\f11f\"}.note-icon-magic:before{content:\"\\f120\"}.note-icon-menu-check:before{content:\"\\f121\"}.note-icon-minus:before{content:\"\\f122\"}.note-icon-orderedlist:before{content:\"\\f123\"}.note-icon-pencil:before{content:\"\\f124\"}.note-icon-picture:before{content:\"\\f125\"}.note-icon-question:before{content:\"\\f126\"}.note-icon-redo:before{content:\"\\f127\"}.note-icon-rollback:before{content:\"\\f128\"}.note-icon-row-above:before{content:\"\\f129\"}.note-icon-row-below:before{content:\"\\f12a\"}.note-icon-row-remove:before{content:\"\\f12b\"}.note-icon-special-character:before{content:\"\\f12c\"}.note-icon-square:before{content:\"\\f12d\"}.note-icon-strikethrough:before{content:\"\\f12e\"}.note-icon-subscript:before{content:\"\\f12f\"}.note-icon-summernote:before{content:\"\\f130\"}.note-icon-superscript:before{content:\"\\f131\"}.note-icon-table:before{content:\"\\f132\"}.note-icon-text-height:before{content:\"\\f133\"}.note-icon-trash:before{content:\"\\f134\"}.note-icon-underline:before{content:\"\\f135\"}.note-icon-undo:before{content:\"\\f136\"}.note-icon-unorderedlist:before{content:\"\\f137\"}.note-icon-video:before{content:\"\\f138\"}.note-editor{position:relative}.note-editor .note-dropzone{position:absolute;z-index:100;display:none;color:#87cefa;background-color:#fff;opacity:.95}.note-editor .note-dropzone .note-dropzone-message{display:table-cell;font-size:28px;font-weight:700;text-align:center;vertical-align:middle}.note-editor .note-dropzone.hover{color:#098ddf}.note-editor.dragover .note-dropzone{display:table}.note-editor .note-editing-area{position:relative}.note-editor .note-editing-area .note-editable{outline:0}.note-editor .note-editing-area .note-editable sup{vertical-align:super}.note-editor .note-editing-area .note-editable sub{vertical-align:sub}.note-editor .note-editing-area img.note-float-left{margin-right:10px}.note-editor .note-editing-area img.note-float-right{margin-left:10px}.note-editor.note-frame{border:1px solid #a9a9a9}.note-editor.note-frame.codeview .note-editing-area .note-editable{display:none}.note-editor.note-frame.codeview .note-editing-area .note-codable{display:block}.note-editor.note-frame .note-editing-area{overflow:hidden}.note-editor.note-frame .note-editing-area .note-editable{padding:10px;overflow:auto;color:#000;word-wrap:break-word;background-color:#fff}.note-editor.note-frame .note-editing-area .note-editable[contenteditable=\"false\"]{background-color:#e5e5e5}.note-editor.note-frame .note-editing-area .note-codable{display:none;width:100%;padding:10px;margin-bottom:0;font-family:Menlo,Monaco,monospace,sans-serif;font-size:14px;color:#ccc;background-color:#222;border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;outline:0;box-shadow:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;resize:none}.note-editor.note-frame.fullscreen{position:fixed;top:0;left:0;z-index:1050;width:100%!important}.note-editor.note-frame.fullscreen .note-editable{background-color:#fff}.note-editor.note-frame.fullscreen .note-resizebar{display:none}.note-editor.note-frame .note-status-output{display:block;width:100%;height:20px;margin-bottom:0;font-size:14px;line-height:1.42857143;color:#000;border:0;border-top:1px solid #e2e2e2}.note-editor.note-frame .note-status-output:empty{height:0;border-top:0 solid transparent}.note-editor.note-frame .note-status-output .pull-right{float:right!important}.note-editor.note-frame .note-status-output .text-muted{color:#777}.note-editor.note-frame .note-status-output .text-primary{color:#286090}.note-editor.note-frame .note-status-output .text-success{color:#3c763d}.note-editor.note-frame .note-status-output .text-info{color:#31708f}.note-editor.note-frame .note-status-output .text-warning{color:#8a6d3b}.note-editor.note-frame .note-status-output .text-danger{color:#a94442}.note-editor.note-frame .note-status-output .alert{padding:7px 10px 2px 10px;margin:-7px 0 0 0;color:#000;background-color:#f5f5f5;border-radius:0}.note-editor.note-frame .note-status-output .alert .note-icon{margin-right:5px}.note-editor.note-frame .note-status-output .alert-success{color:#3c763d!important;background-color:#dff0d8!important}.note-editor.note-frame .note-status-output .alert-info{color:#31708f!important;background-color:#d9edf7!important}.note-editor.note-frame .note-status-output .alert-warning{color:#8a6d3b!important;background-color:#fcf8e3!important}.note-editor.note-frame .note-status-output .alert-danger{color:#a94442!important;background-color:#f2dede!important}.note-editor.note-frame .note-statusbar{background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.note-editor.note-frame .note-statusbar .note-resizebar{width:100%;height:9px;padding-top:1px;cursor:ns-resize}.note-editor.note-frame .note-statusbar .note-resizebar .note-icon-bar{width:20px;margin:1px auto;border-top:1px solid #a9a9a9}.note-editor.note-frame .note-statusbar.locked .note-resizebar{cursor:default}.note-editor.note-frame .note-statusbar.locked .note-resizebar .note-icon-bar{display:none}.note-editor.note-frame .note-placeholder{padding:10px}.note-popover.popover{display:none;max-width:none}.note-popover.popover .popover-content a{display:inline-block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}.note-popover.popover .arrow{left:20px!important}.note-toolbar{position:relative;z-index:500}.note-popover .popover-content,.card-header.note-toolbar{padding:0 0 5px 5px;margin:0;background:#f5f5f5}.note-popover .popover-content>.btn-group,.card-header.note-toolbar>.btn-group{margin-top:5px;margin-right:5px;margin-left:0}.note-popover .popover-content .btn-group .note-table,.card-header.note-toolbar .btn-group .note-table{min-width:0;padding:5px}.note-popover .popover-content .btn-group .note-table .note-dimension-picker,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker{font-size:18px}.note-popover .popover-content .btn-group .note-table .note-dimension-picker .note-dimension-picker-mousecatcher,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker .note-dimension-picker-mousecatcher{position:absolute!important;z-index:3;width:10em;height:10em;cursor:pointer}.note-popover .popover-content .btn-group .note-table .note-dimension-picker .note-dimension-picker-unhighlighted,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker .note-dimension-picker-unhighlighted{position:relative!important;z-index:1;width:5em;height:5em;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASAgMAAAAroGbEAAAACVBMVEUAAIj4+Pjp6ekKlAqjAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfYAR0BKhmnaJzPAAAAG0lEQVQI12NgAAOtVatWMTCohoaGUY+EmIkEAEruEzK2J7tvAAAAAElFTkSuQmCC') repeat}.note-popover .popover-content .btn-group .note-table .note-dimension-picker .note-dimension-picker-highlighted,.card-header.note-toolbar .btn-group .note-table .note-dimension-picker .note-dimension-picker-highlighted{position:absolute!important;z-index:2;width:1em;height:1em;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASAgMAAAAroGbEAAAACVBMVEUAAIjd6vvD2f9LKLW+AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfYAR0BKwNDEVT0AAAAG0lEQVQI12NgAAOtVatWMTCohoaGUY+EmIkEAEruEzK2J7tvAAAAAElFTkSuQmCC') repeat}.note-popover .popover-content .note-style .dropdown-style blockquote,.card-header.note-toolbar .note-style .dropdown-style blockquote,.note-popover .popover-content .note-style .dropdown-style pre,.card-header.note-toolbar .note-style .dropdown-style pre{padding:5px 10px;margin:0}.note-popover .popover-content .note-style .dropdown-style h1,.card-header.note-toolbar .note-style .dropdown-style h1,.note-popover .popover-content .note-style .dropdown-style h2,.card-header.note-toolbar .note-style .dropdown-style h2,.note-popover .popover-content .note-style .dropdown-style h3,.card-header.note-toolbar .note-style .dropdown-style h3,.note-popover .popover-content .note-style .dropdown-style h4,.card-header.note-toolbar .note-style .dropdown-style h4,.note-popover .popover-content .note-style .dropdown-style h5,.card-header.note-toolbar .note-style .dropdown-style h5,.note-popover .popover-content .note-style .dropdown-style h6,.card-header.note-toolbar .note-style .dropdown-style h6,.note-popover .popover-content .note-style .dropdown-style p,.card-header.note-toolbar .note-style .dropdown-style p{padding:0;margin:0}.note-popover .popover-content .note-color-all .dropdown-menu,.card-header.note-toolbar .note-color-all .dropdown-menu{min-width:337px}.note-popover .popover-content .note-color .dropdown-toggle,.card-header.note-toolbar .note-color .dropdown-toggle{width:20px;padding-left:5px}.note-popover .popover-content .note-color .dropdown-menu .note-palette,.card-header.note-toolbar .note-color .dropdown-menu .note-palette{display:inline-block;width:160px;margin:0}.note-popover .popover-content .note-color .dropdown-menu .note-palette:first-child,.card-header.note-toolbar .note-color .dropdown-menu .note-palette:first-child{margin:0 5px}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-palette-title,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-palette-title{margin:2px 7px;font-size:12px;text-align:center;border-bottom:1px solid #eee}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-reset,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-reset,.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-select,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-select{width:100%;padding:0 3px;margin:3px;font-size:11px;cursor:pointer;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-row,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-row{height:20px}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-reset:hover,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-reset:hover{background:#eee}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-color-select-btn,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-color-select-btn{display:none}.note-popover .popover-content .note-color .dropdown-menu .note-palette .note-holder-custom .note-color-btn,.card-header.note-toolbar .note-color .dropdown-menu .note-palette .note-holder-custom .note-color-btn{border:1px solid #eee}.note-popover .popover-content .note-para .dropdown-menu,.card-header.note-toolbar .note-para .dropdown-menu{min-width:216px;padding:5px}.note-popover .popover-content .note-para .dropdown-menu>div:first-child,.card-header.note-toolbar .note-para .dropdown-menu>div:first-child{margin-right:5px}.note-popover .popover-content .dropdown-menu,.card-header.note-toolbar .dropdown-menu{min-width:90px}.note-popover .popover-content .dropdown-menu.right,.card-header.note-toolbar .dropdown-menu.right{right:0;left:auto}.note-popover .popover-content .dropdown-menu.right::before,.card-header.note-toolbar .dropdown-menu.right::before{right:9px;left:auto!important}.note-popover .popover-content .dropdown-menu.right::after,.card-header.note-toolbar .dropdown-menu.right::after{right:10px;left:auto!important}.note-popover .popover-content .dropdown-menu.note-check a i,.card-header.note-toolbar .dropdown-menu.note-check a i{color:deepskyblue;visibility:hidden}.note-popover .popover-content .dropdown-menu.note-check a.checked i,.card-header.note-toolbar .dropdown-menu.note-check a.checked i{visibility:visible}.note-popover .popover-content .note-fontsize-10,.card-header.note-toolbar .note-fontsize-10{font-size:10px}.note-popover .popover-content .note-color-palette,.card-header.note-toolbar .note-color-palette{line-height:1}.note-popover .popover-content .note-color-palette div .note-color-btn,.card-header.note-toolbar .note-color-palette div .note-color-btn{width:20px;height:20px;padding:0;margin:0;border:1px solid #fff}.note-popover .popover-content .note-color-palette div .note-color-btn:hover,.card-header.note-toolbar .note-color-palette div .note-color-btn:hover{border:1px solid #000}.note-dialog>div{display:none}.note-dialog .form-group{margin-right:0;margin-left:0}.note-dialog .note-modal-form{margin:0}.note-dialog .note-image-dialog .note-dropzone{min-height:100px;margin-bottom:10px;font-size:30px;line-height:4;color:lightgray;text-align:center;border:4px dashed lightgray}@-moz-document url-prefix(){.note-image-input{height:auto}}.note-placeholder{position:absolute;display:none;color:gray}.note-handle .note-control-selection{position:absolute;display:none;border:1px solid black}.note-handle .note-control-selection>div{position:absolute}.note-handle .note-control-selection .note-control-selection-bg{width:100%;height:100%;background-color:black;-webkit-opacity:.3;-khtml-opacity:.3;-moz-opacity:.3;opacity:.3;-ms-filter:alpha(opacity=30);filter:alpha(opacity=30)}.note-handle .note-control-selection .note-control-handle{width:7px;height:7px;border:1px solid black}.note-handle .note-control-selection .note-control-holder{width:7px;height:7px;border:1px solid black}.note-handle .note-control-selection .note-control-sizing{width:7px;height:7px;background-color:white;border:1px solid black}.note-handle .note-control-selection .note-control-nw{top:-5px;left:-5px;border-right:0;border-bottom:0}.note-handle .note-control-selection .note-control-ne{top:-5px;right:-5px;border-bottom:0;border-left:none}.note-handle .note-control-selection .note-control-sw{bottom:-5px;left:-5px;border-top:0;border-right:0}.note-handle .note-control-selection .note-control-se{right:-5px;bottom:-5px;cursor:se-resize}.note-handle .note-control-selection .note-control-se.note-control-holder{cursor:default;border-top:0;border-left:none}.note-handle .note-control-selection .note-control-selection-info{right:0;bottom:0;padding:5px;margin:5px;font-size:12px;color:#fff;background-color:#000;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-opacity:.7;-khtml-opacity:.7;-moz-opacity:.7;opacity:.7;-ms-filter:alpha(opacity=70);filter:alpha(opacity=70)}.note-hint-popover{min-width:100px;padding:2px}.note-hint-popover .popover-content{max-height:150px;padding:3px;overflow:auto}.note-hint-popover .popover-content .note-hint-group .note-hint-item{display:block!important;padding:3px}.note-hint-popover .popover-content .note-hint-group .note-hint-item.active,.note-hint-popover .popover-content .note-hint-group .note-hint-item:hover{display:block;clear:both;font-weight:400;line-height:1.4;color:#fff;text-decoration:none;white-space:nowrap;cursor:pointer;background-color:#428bca;outline:0}\n\\ No newline at end of file"
        },
        {
          "filename": "web/src/main/webapp/admin/summernote/summernote-bs4.min.js",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "web/src/main/webapp/include/core/core_mate.ftl",
          "status": "added",
          "additions": 10,
          "deletions": 0,
          "patch": "@@ -0,0 +1,10 @@\n+<meta charset=\"utf-8\"/>\n+<title>\n+<#if log ?? && log.title ??>${log.title!''} - </#if>${webs.title!''} - ${webs.second_title!''}</title>\n+<meta name=\"description\" content=\"${webs.description!''}\"/>\n+<#if log ?? && log.keywords ??>\n+<meta name=\"keywords\" content=\"${log.keywords}\"/>\n+<#else>\n+<meta name=\"keywords\" content=\"${webs.keywords!''}\"/>\n+</#if>\n+<link rel=\"shortcut icon\" href=\"${rurl}favicon.ico\"/>"
        }
      ],
      "file_patterns": {
        "security_files": 0,
        "config_files": 1,
        "dependency_files": 0,
        "test_files": 0,
        "unique_directories": 17,
        "max_directory_depth": 9
      },
      "context": {
        "surrounding_commits": [
          {
            "sha": "adce1a6700dd4f083f195f7e4ca2dbb8530b11ec",
            "date": "2024-12-30T04:03:27Z",
            "author_login": "94fzb"
          },
          {
            "sha": "07935a9eb63308f01907ccdfd9e4b89a88a5ec52",
            "date": "2024-12-30T03:55:27Z",
            "author_login": "94fzb"
          },
          {
            "sha": "aef1fa046ca7c16c96770b4496d2e6dba0598e22",
            "date": "2024-12-16T11:23:20Z",
            "author_login": "94fzb"
          },
          {
            "sha": "30a0ba67baa62483d8da36b86733c0c5d4e1ed36",
            "date": "2024-12-10T15:09:41Z",
            "author_login": "94fzb"
          },
          {
            "sha": "56b629b0462ffbb81fb99a035309b11ed4aa6085",
            "date": "2024-12-10T15:02:41Z",
            "author_login": "94fzb"
          }
        ]
      }
    }
  },
  "vulnerability_details": {
    "cvss_score": 6.1,
    "cvss_vector": "CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N",
    "cwe_id": "CWE-79",
    "description": "A Cross-site scripting (XSS) vulnerability exists in the comment section in ZrLog 2.1.3, which allows remote attackers to inject arbitrary web script and stolen administrator cookies via the nickname parameter and gain access to the admin panel.",
    "attack_vector": "NETWORK",
    "attack_complexity": "LOW"
  },
  "temporal_data": {
    "published_date": "2021-06-15T20:15:11.300",
    "last_modified": "2024-11-21T05:12:30.790",
    "fix_date": "2019-10-24T14:31:14Z"
  },
  "references": [
    {
      "url": "https://gist.github.com/T-pod/d9405dbd61243990d65d55c5df0fcbe6",
      "source": "cve@mitre.org",
      "tags": [
        "Patch",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/94fzb/zrlog/commit/b921c1ae03b8290f438657803eee05226755c941",
      "source": "cve@mitre.org",
      "tags": [
        "Patch",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/94fzb/zrlog/issues/56",
      "source": "cve@mitre.org",
      "tags": [
        "Patch",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://gist.github.com/T-pod/d9405dbd61243990d65d55c5df0fcbe6",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/94fzb/zrlog/commit/b921c1ae03b8290f438657803eee05226755c941",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/94fzb/zrlog/issues/56",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch",
        "Third Party Advisory"
      ]
    }
  ],
  "collection_metadata": {
    "collected_at": "2025-01-11T23:01:59.732622",
    "processing_status": "raw"
  },
  "repository_context": {
    "name": "zrlog",
    "owner": "94fzb",
    "created_at": "2015-09-23T06:08:05Z",
    "updated_at": "2025-01-12T09:28:57Z",
    "pushed_at": "2024-12-30T04:03:31Z",
    "size": 9314,
    "stars": 372,
    "forks": 152,
    "open_issues": 8,
    "watchers": 372,
    "has_security_policy": false,
    "default_branch": "master",
    "protected_branches": [
      "release"
    ],
    "languages": {
      "Java": 521168,
      "TypeScript": 398587,
      "CSS": 83446,
      "JavaScript": 21471,
      "FreeMarker": 13721,
      "Shell": 6727,
      "HTML": 4648,
      "Batchfile": 94
    },
    "commit_activity": {
      "total_commits_last_year": 27,
      "avg_commits_per_week": 0.5192307692307693,
      "days_active_last_year": 13
    },
    "security_features": {
      "has_security_policy": false,
      "has_protected_branches": true,
      "has_wiki": false,
      "has_issues": true,
      "allow_forking": true,
      "is_template": false,
      "license": "apache-2.0"
    },
    "collected_at": "2025-01-14T12:58:23.168693"
  }
}