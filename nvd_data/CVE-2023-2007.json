{
  "cve_id": "CVE-2023-2007",
  "github_data": {
    "repository": "torvalds/linux",
    "fix_commit": "b04e75a4a8a81887386a0d2dbf605a48e779d2a0",
    "related_commits": [
      "b04e75a4a8a81887386a0d2dbf605a48e779d2a0",
      "b04e75a4a8a81887386a0d2dbf605a48e779d2a0"
    ],
    "patch_url": "https://github.com/torvalds/linux/commit/b04e75a4a8a81887386a0d2dbf605a48e779d2a0.patch",
    "fix_commit_details": {
      "sha": "b04e75a4a8a81887386a0d2dbf605a48e779d2a0",
      "commit_date": "2022-06-24T15:52:25Z",
      "author": {
        "login": "arndb",
        "type": "User",
        "stats": {
          "total_commits": 11346,
          "average_weekly_commits": 9.542472666105972,
          "total_additions": 0,
          "total_deletions": 0,
          "weeks_active": 665
        }
      },
      "commit_message": {
        "title": "scsi: dpt_i2o: Remove obsolete driver",
        "length": 1084,
        "has_description": true,
        "references_issue": true
      },
      "stats": {
        "total": 5665,
        "additions": 1,
        "deletions": 5664
      },
      "files": [
        {
          "filename": "Documentation/userspace-api/ioctl/ioctl-number.rst",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -120,7 +120,7 @@ Code  Seq#    Include File                                           Comments\n 'C'   01-2F  linux/capi.h                                            conflict!\n 'C'   F0-FF  drivers/net/wan/cosa.h                                  conflict!\n 'D'   all    arch/s390/include/asm/dasd.h\n-'D'   40-5F  drivers/scsi/dpt/dtpi_ioctl.h\n+'D'   40-5F  drivers/scsi/dpt/dtpi_ioctl.h                           Dead since 2022\n 'D'   05     drivers/scsi/pmcraid.h\n 'E'   all    linux/input.h                                           conflict!\n 'E'   00-0F  xen/evtchn.h                                            conflict!"
        },
        {
          "filename": "MAINTAINERS",
          "status": "modified",
          "additions": 0,
          "deletions": 8,
          "patch": "@@ -6116,14 +6116,6 @@ F:\tDocumentation/networking/device_drivers/ethernet/freescale/dpaa2/switch-drive\n F:\tdrivers/net/ethernet/freescale/dpaa2/dpaa2-switch*\n F:\tdrivers/net/ethernet/freescale/dpaa2/dpsw*\n \n-DPT_I2O SCSI RAID DRIVER\n-M:\tAdaptec OEM Raid Solutions <aacraid@microsemi.com>\n-L:\tlinux-scsi@vger.kernel.org\n-S:\tMaintained\n-W:\thttp://www.adaptec.com/\n-F:\tdrivers/scsi/dpt*\n-F:\tdrivers/scsi/dpt/\n-\n DRBD DRIVER\n M:\tPhilipp Reisner <philipp.reisner@linbit.com>\n M:\tLars Ellenberg <lars.ellenberg@linbit.com>"
        },
        {
          "filename": "drivers/scsi/Kconfig",
          "status": "modified",
          "additions": 0,
          "deletions": 11,
          "patch": "@@ -458,17 +458,6 @@ config SCSI_MVUMI\n \t  To compile this driver as a module, choose M here: the\n \t  module will be called mvumi.\n \n-config SCSI_DPT_I2O\n-\ttristate \"Adaptec I2O RAID support \"\n-\tdepends on SCSI && PCI && VIRT_TO_BUS\n-\thelp\n-\t  This driver supports all of Adaptec's I2O based RAID controllers as \n-\t  well as the DPT SmartRaid V cards.  This is an Adaptec maintained\n-\t  driver by Deanna Bonds.  See <file:Documentation/scsi/dpti.rst>.\n-\n-\t  To compile this driver as a module, choose M here: the\n-\t  module will be called dpt_i2o.\n-\n config SCSI_ADVANSYS\n \ttristate \"AdvanSys SCSI support\"\n \tdepends on SCSI"
        },
        {
          "filename": "drivers/scsi/Makefile",
          "status": "modified",
          "additions": 0,
          "deletions": 1,
          "patch": "@@ -63,7 +63,6 @@ obj-$(CONFIG_BVME6000_SCSI)\t+= 53c700.o\tbvme6000_scsi.o\n obj-$(CONFIG_SCSI_SIM710)\t+= 53c700.o\tsim710.o\n obj-$(CONFIG_SCSI_ADVANSYS)\t+= advansys.o\n obj-$(CONFIG_SCSI_BUSLOGIC)\t+= BusLogic.o\n-obj-$(CONFIG_SCSI_DPT_I2O)\t+= dpt_i2o.o\n obj-$(CONFIG_SCSI_ARCMSR)\t+= arcmsr/\n obj-$(CONFIG_SCSI_AHA152X)\t+= aha152x.o\n obj-$(CONFIG_SCSI_AHA1542)\t+= aha1542.o"
        },
        {
          "filename": "drivers/scsi/dpt/dpti_i2o.h",
          "status": "removed",
          "additions": 0,
          "deletions": 441,
          "patch": "@@ -1,441 +0,0 @@\n-/* SPDX-License-Identifier: GPL-2.0-or-later */\n-#ifndef _SCSI_I2O_H\n-#define _SCSI_I2O_H\n-\n-/* I2O kernel space accessible structures/APIs\n- *\n- * (c) Copyright 1999, 2000 Red Hat Software\n- *\n- *************************************************************************\n- *\n- * This header file defined the I2O APIs/structures for use by\n- * the I2O kernel modules.\n- */\n-\n-#ifdef __KERNEL__       /* This file to be included by kernel only */\n-\n-#include <linux/i2o-dev.h>\n-\n-#include <linux/notifier.h>\n-#include <linux/atomic.h>\n-\n-\n-/*\n- *\tTunable parameters first\n- */\n-\n-/* How many different OSM's are we allowing */\n-#define MAX_I2O_MODULES\t\t64\n-\n-#define I2O_EVT_CAPABILITY_OTHER\t\t0x01\n-#define I2O_EVT_CAPABILITY_CHANGED\t\t0x02\n-\n-#define I2O_EVT_SENSOR_STATE_CHANGED\t\t0x01\n-\n-//#ifdef __KERNEL__   /* ioctl stuff only thing exported to users */\n-\n-#define I2O_MAX_MANAGERS\t4\n-\n-/*\n- *\tI2O Interface Objects\n- */\n-\n-#include <linux/wait.h>\n-typedef wait_queue_head_t adpt_wait_queue_head_t;\n-#define ADPT_DECLARE_WAIT_QUEUE_HEAD(wait) DECLARE_WAIT_QUEUE_HEAD_ONSTACK(wait)\n-typedef wait_queue_entry_t adpt_wait_queue_entry_t;\n-\n-/*\n- * message structures\n- */\n-\n-struct i2o_message\n-{\n-\tu8\tversion_offset;\n-\tu8\tflags;\n-\tu16\tsize;\n-\tu32\ttarget_tid:12;\n-\tu32\tinit_tid:12;\n-\tu32\tfunction:8;\n-\tu32\tinitiator_context;\n-\t/* List follows */\n-};\n-\n-struct adpt_device;\n-struct _adpt_hba;\n-struct i2o_device\n-{\n-\tstruct i2o_device *next;\t/* Chain */\n-\tstruct i2o_device *prev;\n-\n-\tchar dev_name[8];\t\t/* linux /dev name if available */\n-\ti2o_lct_entry lct_data;/* Device LCT information */\n-\tu32 flags;\n-\tstruct proc_dir_entry* proc_entry;\t/* /proc dir */\n-\tstruct adpt_device *owner;\n-\tstruct _adpt_hba *controller;\t/* Controlling IOP */\n-};\n-\n-/*\n- *\tEach I2O controller has one of these objects\n- */\n-\n-struct i2o_controller\n-{\n-\tchar name[16];\n-\tint unit;\n-\tint type;\n-\tint enabled;\n-\n-\tstruct notifier_block *event_notifer;\t/* Events */\n-\tatomic_t users;\n-\tstruct i2o_device *devices;\t\t/* I2O device chain */\n-\tstruct i2o_controller *next;\t\t/* Controller chain */\n-\n-};\n-\n-/*\n- * I2O System table entry\n- */\n-struct i2o_sys_tbl_entry\n-{\n-\tu16\torg_id;\n-\tu16\treserved1;\n-\tu32\tiop_id:12;\n-\tu32\treserved2:20;\n-\tu16\tseg_num:12;\n-\tu16\ti2o_version:4;\n-\tu8\tiop_state;\n-\tu8\tmsg_type;\n-\tu16\tframe_size;\n-\tu16\treserved3;\n-\tu32\tlast_changed;\n-\tu32\tiop_capabilities;\n-\tu32\tinbound_low;\n-\tu32\tinbound_high;\n-};\n-\n-struct i2o_sys_tbl\n-{\n-\tu8\tnum_entries;\n-\tu8\tversion;\n-\tu16\treserved1;\n-\tu32\tchange_ind;\n-\tu32\treserved2;\n-\tu32\treserved3;\n-\tstruct i2o_sys_tbl_entry iops[];\n-};\n-\n-/*\n- *\tI2O classes / subclasses\n- */\n-\n-/*  Class ID and Code Assignments\n- *  (LCT.ClassID.Version field)\n- */\n-#define    I2O_CLASS_VERSION_10                        0x00\n-#define    I2O_CLASS_VERSION_11                        0x01\n-\n-/*  Class code names\n- *  (from v1.5 Table 6-1 Class Code Assignments.)\n- */\n-\n-#define    I2O_CLASS_EXECUTIVE                         0x000\n-#define    I2O_CLASS_DDM                               0x001\n-#define    I2O_CLASS_RANDOM_BLOCK_STORAGE              0x010\n-#define    I2O_CLASS_SEQUENTIAL_STORAGE                0x011\n-#define    I2O_CLASS_LAN                               0x020\n-#define    I2O_CLASS_WAN                               0x030\n-#define    I2O_CLASS_FIBRE_CHANNEL_PORT                0x040\n-#define    I2O_CLASS_FIBRE_CHANNEL_PERIPHERAL          0x041\n-#define    I2O_CLASS_SCSI_PERIPHERAL                   0x051\n-#define    I2O_CLASS_ATE_PORT                          0x060\n-#define    I2O_CLASS_ATE_PERIPHERAL                    0x061\n-#define    I2O_CLASS_FLOPPY_CONTROLLER                 0x070\n-#define    I2O_CLASS_FLOPPY_DEVICE                     0x071\n-#define    I2O_CLASS_BUS_ADAPTER_PORT                  0x080\n-#define    I2O_CLASS_PEER_TRANSPORT_AGENT              0x090\n-#define    I2O_CLASS_PEER_TRANSPORT                    0x091\n-\n-/*  Rest of 0x092 - 0x09f reserved for peer-to-peer classes\n- */\n-\n-#define    I2O_CLASS_MATCH_ANYCLASS                    0xffffffff\n-\n-/*  Subclasses\n- */\n-\n-#define    I2O_SUBCLASS_i960                           0x001\n-#define    I2O_SUBCLASS_HDM                            0x020\n-#define    I2O_SUBCLASS_ISM                            0x021\n-\n-/* Operation functions */\n-\n-#define I2O_PARAMS_FIELD_GET\t0x0001\n-#define I2O_PARAMS_LIST_GET\t0x0002\n-#define I2O_PARAMS_MORE_GET\t0x0003\n-#define I2O_PARAMS_SIZE_GET\t0x0004\n-#define I2O_PARAMS_TABLE_GET\t0x0005\n-#define I2O_PARAMS_FIELD_SET\t0x0006\n-#define I2O_PARAMS_LIST_SET\t0x0007\n-#define I2O_PARAMS_ROW_ADD\t0x0008\n-#define I2O_PARAMS_ROW_DELETE\t0x0009\n-#define I2O_PARAMS_TABLE_CLEAR\t0x000A\n-\n-/*\n- *\tI2O serial number conventions / formats\n- *\t(circa v1.5)\n- */\n-\n-#define    I2O_SNFORMAT_UNKNOWN                        0\n-#define    I2O_SNFORMAT_BINARY                         1\n-#define    I2O_SNFORMAT_ASCII                          2\n-#define    I2O_SNFORMAT_UNICODE                        3\n-#define    I2O_SNFORMAT_LAN48_MAC                      4\n-#define    I2O_SNFORMAT_WAN                            5\n-\n-/* Plus new in v2.0 (Yellowstone pdf doc)\n- */\n-\n-#define    I2O_SNFORMAT_LAN64_MAC                      6\n-#define    I2O_SNFORMAT_DDM                            7\n-#define    I2O_SNFORMAT_IEEE_REG64                     8\n-#define    I2O_SNFORMAT_IEEE_REG128                    9\n-#define    I2O_SNFORMAT_UNKNOWN2                       0xff\n-\n-/* Transaction Reply Lists (TRL) Control Word structure */\n-\n-#define TRL_SINGLE_FIXED_LENGTH\t\t0x00\n-#define TRL_SINGLE_VARIABLE_LENGTH\t0x40\n-#define TRL_MULTIPLE_FIXED_LENGTH\t0x80\n-\n-/*\n- *\tMessaging API values\n- */\n-\n-#define\tI2O_CMD_ADAPTER_ASSIGN\t\t0xB3\n-#define\tI2O_CMD_ADAPTER_READ\t\t0xB2\n-#define\tI2O_CMD_ADAPTER_RELEASE\t\t0xB5\n-#define\tI2O_CMD_BIOS_INFO_SET\t\t0xA5\n-#define\tI2O_CMD_BOOT_DEVICE_SET\t\t0xA7\n-#define\tI2O_CMD_CONFIG_VALIDATE\t\t0xBB\n-#define\tI2O_CMD_CONN_SETUP\t\t0xCA\n-#define\tI2O_CMD_DDM_DESTROY\t\t0xB1\n-#define\tI2O_CMD_DDM_ENABLE\t\t0xD5\n-#define\tI2O_CMD_DDM_QUIESCE\t\t0xC7\n-#define\tI2O_CMD_DDM_RESET\t\t0xD9\n-#define\tI2O_CMD_DDM_SUSPEND\t\t0xAF\n-#define\tI2O_CMD_DEVICE_ASSIGN\t\t0xB7\n-#define\tI2O_CMD_DEVICE_RELEASE\t\t0xB9\n-#define\tI2O_CMD_HRT_GET\t\t\t0xA8\n-#define\tI2O_CMD_ADAPTER_CLEAR\t\t0xBE\n-#define\tI2O_CMD_ADAPTER_CONNECT\t\t0xC9\n-#define\tI2O_CMD_ADAPTER_RESET\t\t0xBD\n-#define\tI2O_CMD_LCT_NOTIFY\t\t0xA2\n-#define\tI2O_CMD_OUTBOUND_INIT\t\t0xA1\n-#define\tI2O_CMD_PATH_ENABLE\t\t0xD3\n-#define\tI2O_CMD_PATH_QUIESCE\t\t0xC5\n-#define\tI2O_CMD_PATH_RESET\t\t0xD7\n-#define\tI2O_CMD_STATIC_MF_CREATE\t0xDD\n-#define\tI2O_CMD_STATIC_MF_RELEASE\t0xDF\n-#define\tI2O_CMD_STATUS_GET\t\t0xA0\n-#define\tI2O_CMD_SW_DOWNLOAD\t\t0xA9\n-#define\tI2O_CMD_SW_UPLOAD\t\t0xAB\n-#define\tI2O_CMD_SW_REMOVE\t\t0xAD\n-#define\tI2O_CMD_SYS_ENABLE\t\t0xD1\n-#define\tI2O_CMD_SYS_MODIFY\t\t0xC1\n-#define\tI2O_CMD_SYS_QUIESCE\t\t0xC3\n-#define\tI2O_CMD_SYS_TAB_SET\t\t0xA3\n-\n-#define I2O_CMD_UTIL_NOP\t\t0x00\n-#define I2O_CMD_UTIL_ABORT\t\t0x01\n-#define I2O_CMD_UTIL_CLAIM\t\t0x09\n-#define I2O_CMD_UTIL_RELEASE\t\t0x0B\n-#define I2O_CMD_UTIL_PARAMS_GET\t\t0x06\n-#define I2O_CMD_UTIL_PARAMS_SET\t\t0x05\n-#define I2O_CMD_UTIL_EVT_REGISTER\t0x13\n-#define I2O_CMD_UTIL_EVT_ACK\t\t0x14\n-#define I2O_CMD_UTIL_CONFIG_DIALOG\t0x10\n-#define I2O_CMD_UTIL_DEVICE_RESERVE\t0x0D\n-#define I2O_CMD_UTIL_DEVICE_RELEASE\t0x0F\n-#define I2O_CMD_UTIL_LOCK\t\t0x17\n-#define I2O_CMD_UTIL_LOCK_RELEASE\t0x19\n-#define I2O_CMD_UTIL_REPLY_FAULT_NOTIFY\t0x15\n-\n-#define I2O_CMD_SCSI_EXEC\t\t0x81\n-#define I2O_CMD_SCSI_ABORT\t\t0x83\n-#define I2O_CMD_SCSI_BUSRESET\t\t0x27\n-\n-#define I2O_CMD_BLOCK_READ\t\t0x30\n-#define I2O_CMD_BLOCK_WRITE\t\t0x31\n-#define I2O_CMD_BLOCK_CFLUSH\t\t0x37\n-#define I2O_CMD_BLOCK_MLOCK\t\t0x49\n-#define I2O_CMD_BLOCK_MUNLOCK\t\t0x4B\n-#define I2O_CMD_BLOCK_MMOUNT\t\t0x41\n-#define I2O_CMD_BLOCK_MEJECT\t\t0x43\n-\n-#define I2O_PRIVATE_MSG\t\t\t0xFF\n-\n-/*\n- *\tInit Outbound Q status\n- */\n-\n-#define I2O_CMD_OUTBOUND_INIT_IN_PROGRESS\t0x01\n-#define I2O_CMD_OUTBOUND_INIT_REJECTED\t\t0x02\n-#define I2O_CMD_OUTBOUND_INIT_FAILED\t\t0x03\n-#define I2O_CMD_OUTBOUND_INIT_COMPLETE\t\t0x04\n-\n-/*\n- *\tI2O Get Status State values\n- */\n-\n-#define\tADAPTER_STATE_INITIALIZING\t\t0x01\n-#define\tADAPTER_STATE_RESET\t\t\t0x02\n-#define\tADAPTER_STATE_HOLD\t\t\t0x04\n-#define ADAPTER_STATE_READY\t\t\t0x05\n-#define\tADAPTER_STATE_OPERATIONAL\t\t0x08\n-#define\tADAPTER_STATE_FAILED\t\t\t0x10\n-#define\tADAPTER_STATE_FAULTED\t\t\t0x11\n-\n-/* I2O API function return values */\n-\n-#define I2O_RTN_NO_ERROR\t\t\t0\n-#define I2O_RTN_NOT_INIT\t\t\t1\n-#define I2O_RTN_FREE_Q_EMPTY\t\t\t2\n-#define I2O_RTN_TCB_ERROR\t\t\t3\n-#define I2O_RTN_TRANSACTION_ERROR\t\t4\n-#define I2O_RTN_ADAPTER_ALREADY_INIT\t\t5\n-#define I2O_RTN_MALLOC_ERROR\t\t\t6\n-#define I2O_RTN_ADPTR_NOT_REGISTERED\t\t7\n-#define I2O_RTN_MSG_REPLY_TIMEOUT\t\t8\n-#define I2O_RTN_NO_STATUS\t\t\t9\n-#define I2O_RTN_NO_FIRM_VER\t\t\t10\n-#define\tI2O_RTN_NO_LINK_SPEED\t\t\t11\n-\n-/* Reply message status defines for all messages */\n-\n-#define I2O_REPLY_STATUS_SUCCESS\t\t\t0x00\n-#define I2O_REPLY_STATUS_ABORT_DIRTY\t\t\t0x01\n-#define I2O_REPLY_STATUS_ABORT_NO_DATA_TRANSFER\t\t0x02\n-#define\tI2O_REPLY_STATUS_ABORT_PARTIAL_TRANSFER\t\t0x03\n-#define\tI2O_REPLY_STATUS_ERROR_DIRTY\t\t\t0x04\n-#define\tI2O_REPLY_STATUS_ERROR_NO_DATA_TRANSFER\t\t0x05\n-#define\tI2O_REPLY_STATUS_ERROR_PARTIAL_TRANSFER\t\t0x06\n-#define\tI2O_REPLY_STATUS_PROCESS_ABORT_DIRTY\t\t0x08\n-#define\tI2O_REPLY_STATUS_PROCESS_ABORT_NO_DATA_TRANSFER\t0x09\n-#define\tI2O_REPLY_STATUS_PROCESS_ABORT_PARTIAL_TRANSFER\t0x0A\n-#define\tI2O_REPLY_STATUS_TRANSACTION_ERROR\t\t0x0B\n-#define\tI2O_REPLY_STATUS_PROGRESS_REPORT\t\t0x80\n-\n-/* Status codes and Error Information for Parameter functions */\n-\n-#define I2O_PARAMS_STATUS_SUCCESS\t\t0x00\n-#define I2O_PARAMS_STATUS_BAD_KEY_ABORT\t\t0x01\n-#define I2O_PARAMS_STATUS_BAD_KEY_CONTINUE\t0x02\n-#define I2O_PARAMS_STATUS_BUFFER_FULL\t\t0x03\n-#define I2O_PARAMS_STATUS_BUFFER_TOO_SMALL\t0x04\n-#define I2O_PARAMS_STATUS_FIELD_UNREADABLE\t0x05\n-#define I2O_PARAMS_STATUS_FIELD_UNWRITEABLE\t0x06\n-#define I2O_PARAMS_STATUS_INSUFFICIENT_FIELDS\t0x07\n-#define I2O_PARAMS_STATUS_INVALID_GROUP_ID\t0x08\n-#define I2O_PARAMS_STATUS_INVALID_OPERATION\t0x09\n-#define I2O_PARAMS_STATUS_NO_KEY_FIELD\t\t0x0A\n-#define I2O_PARAMS_STATUS_NO_SUCH_FIELD\t\t0x0B\n-#define I2O_PARAMS_STATUS_NON_DYNAMIC_GROUP\t0x0C\n-#define I2O_PARAMS_STATUS_OPERATION_ERROR\t0x0D\n-#define I2O_PARAMS_STATUS_SCALAR_ERROR\t\t0x0E\n-#define I2O_PARAMS_STATUS_TABLE_ERROR\t\t0x0F\n-#define I2O_PARAMS_STATUS_WRONG_GROUP_TYPE\t0x10\n-\n-/* DetailedStatusCode defines for Executive, DDM, Util and Transaction error\n- * messages: Table 3-2 Detailed Status Codes.*/\n-\n-#define I2O_DSC_SUCCESS                        0x0000\n-#define I2O_DSC_BAD_KEY                        0x0002\n-#define I2O_DSC_TCL_ERROR                      0x0003\n-#define I2O_DSC_REPLY_BUFFER_FULL              0x0004\n-#define I2O_DSC_NO_SUCH_PAGE                   0x0005\n-#define I2O_DSC_INSUFFICIENT_RESOURCE_SOFT     0x0006\n-#define I2O_DSC_INSUFFICIENT_RESOURCE_HARD     0x0007\n-#define I2O_DSC_CHAIN_BUFFER_TOO_LARGE         0x0009\n-#define I2O_DSC_UNSUPPORTED_FUNCTION           0x000A\n-#define I2O_DSC_DEVICE_LOCKED                  0x000B\n-#define I2O_DSC_DEVICE_RESET                   0x000C\n-#define I2O_DSC_INAPPROPRIATE_FUNCTION         0x000D\n-#define I2O_DSC_INVALID_INITIATOR_ADDRESS      0x000E\n-#define I2O_DSC_INVALID_MESSAGE_FLAGS          0x000F\n-#define I2O_DSC_INVALID_OFFSET                 0x0010\n-#define I2O_DSC_INVALID_PARAMETER              0x0011\n-#define I2O_DSC_INVALID_REQUEST                0x0012\n-#define I2O_DSC_INVALID_TARGET_ADDRESS         0x0013\n-#define I2O_DSC_MESSAGE_TOO_LARGE              0x0014\n-#define I2O_DSC_MESSAGE_TOO_SMALL              0x0015\n-#define I2O_DSC_MISSING_PARAMETER              0x0016\n-#define I2O_DSC_TIMEOUT                        0x0017\n-#define I2O_DSC_UNKNOWN_ERROR                  0x0018\n-#define I2O_DSC_UNKNOWN_FUNCTION               0x0019\n-#define I2O_DSC_UNSUPPORTED_VERSION            0x001A\n-#define I2O_DSC_DEVICE_BUSY                    0x001B\n-#define I2O_DSC_DEVICE_NOT_AVAILABLE           0x001C\n-\n-/* Device Claim Types */\n-#define\tI2O_CLAIM_PRIMARY\t\t\t\t\t0x01000000\n-#define\tI2O_CLAIM_MANAGEMENT\t\t\t\t\t0x02000000\n-#define\tI2O_CLAIM_AUTHORIZED\t\t\t\t\t0x03000000\n-#define\tI2O_CLAIM_SECONDARY\t\t\t\t\t0x04000000\n-\n-/* Message header defines for VersionOffset */\n-#define I2OVER15\t0x0001\n-#define I2OVER20\t0x0002\n-/* Default is 1.5, FIXME: Need support for both 1.5 and 2.0 */\n-#define I2OVERSION\tI2OVER15\n-#define SGL_OFFSET_0    I2OVERSION\n-#define SGL_OFFSET_4    (0x0040 | I2OVERSION)\n-#define SGL_OFFSET_5    (0x0050 | I2OVERSION)\n-#define SGL_OFFSET_6    (0x0060 | I2OVERSION)\n-#define SGL_OFFSET_7    (0x0070 | I2OVERSION)\n-#define SGL_OFFSET_8    (0x0080 | I2OVERSION)\n-#define SGL_OFFSET_9    (0x0090 | I2OVERSION)\n-#define SGL_OFFSET_10   (0x00A0 | I2OVERSION)\n-#define SGL_OFFSET_12   (0x00C0 | I2OVERSION)\n-\n-#define TRL_OFFSET_5    (0x0050 | I2OVERSION)\n-#define TRL_OFFSET_6    (0x0060 | I2OVERSION)\n-\n- /* msg header defines for MsgFlags */\n-#define MSG_STATIC\t0x0100\n-#define MSG_64BIT_CNTXT\t0x0200\n-#define MSG_MULTI_TRANS\t0x1000\n-#define MSG_FAIL\t0x2000\n-#define MSG_LAST\t0x4000\n-#define MSG_REPLY\t0x8000\n-\n- /* minimum size msg */\n-#define THREE_WORD_MSG_SIZE\t0x00030000\n-#define FOUR_WORD_MSG_SIZE\t0x00040000\n-#define FIVE_WORD_MSG_SIZE\t0x00050000\n-#define SIX_WORD_MSG_SIZE\t0x00060000\n-#define SEVEN_WORD_MSG_SIZE\t0x00070000\n-#define EIGHT_WORD_MSG_SIZE\t0x00080000\n-#define NINE_WORD_MSG_SIZE\t0x00090000\n-#define TEN_WORD_MSG_SIZE\t0x000A0000\n-#define I2O_MESSAGE_SIZE(x)\t((x)<<16)\n-\n-\n-/* Special TID Assignments */\n-\n-#define ADAPTER_TID\t\t0\n-#define HOST_TID\t\t1\n-\n-#define MSG_FRAME_SIZE\t\t128\n-#define NMBR_MSG_FRAMES\t\t128\n-\n-#define MSG_POOL_SIZE\t\t16384\n-\n-#define I2O_POST_WAIT_OK\t0\n-#define I2O_POST_WAIT_TIMEOUT\t-ETIMEDOUT\n-\n-\n-#endif /* __KERNEL__ */\n-\n-#endif /* _SCSI_I2O_H */"
        },
        {
          "filename": "drivers/scsi/dpt/dpti_ioctl.h",
          "status": "removed",
          "additions": 0,
          "deletions": 136,
          "patch": "@@ -1,136 +0,0 @@\n-/* SPDX-License-Identifier: GPL-2.0-or-later */\n-/***************************************************************************\n-                          dpti_ioctl.h  -  description\n-                             -------------------\n-    begin                : Thu Sep 7 2000\n-    copyright            : (C) 2001 by Adaptec\n-\n-    See Documentation/scsi/dpti.rst for history, notes, license info\n-    and credits\n- ***************************************************************************/\n-\n-/***************************************************************************\n- *                                                                         *\n- *                                                                         *\n- ***************************************************************************/\n-\n-/***************************************************************************\n- * This file is generated from  osd_unix.h                                 *\n- * *************************************************************************/\n-\n-#ifndef _dpti_ioctl_h\n-#define _dpti_ioctl_h\n-\n-// IOCTL interface commands\n-\n-#ifndef _IOWR\n-# define _IOWR(x,y,z)\t(((x)<<8)|y)\n-#endif\n-#ifndef _IOW\n-# define _IOW(x,y,z)\t(((x)<<8)|y)\n-#endif\n-#ifndef _IOR\n-# define _IOR(x,y,z)\t(((x)<<8)|y)\n-#endif\n-#ifndef _IO\n-# define _IO(x,y)\t(((x)<<8)|y)\n-#endif\n-/* EATA PassThrough Command\t*/\n-#define EATAUSRCMD      _IOWR('D',65,EATA_CP)\n-/* Set Debug Level If Enabled\t*/\n-#define DPT_DEBUG       _IOW('D',66,int)\n-/* Get Signature Structure\t*/\n-#define DPT_SIGNATURE   _IOR('D',67,dpt_sig_S)\n-#if defined __bsdi__\n-#define DPT_SIGNATURE_PACKED   _IOR('D',67,dpt_sig_S_Packed)\n-#endif\n-/* Get Number Of DPT Adapters\t*/\n-#define DPT_NUMCTRLS    _IOR('D',68,int)\n-/* Get Adapter Info Structure\t*/\n-#define DPT_CTRLINFO    _IOR('D',69,CtrlInfo)\n-/* Get Statistics If Enabled\t*/\n-#define DPT_STATINFO    _IO('D',70)\n-/* Clear Stats If Enabled\t*/\n-#define DPT_CLRSTAT     _IO('D',71)\n-/* Get System Info Structure\t*/\n-#define DPT_SYSINFO     _IOR('D',72,sysInfo_S)\n-/* Set Timeout Value\t\t*/\n-#define DPT_TIMEOUT     _IO('D',73)\n-/* Get config Data  \t\t*/\n-#define DPT_CONFIG      _IO('D',74)\n-/* Get Blink LED Code\t        */\n-#define DPT_BLINKLED    _IOR('D',75,int)\n-/* Get Statistical information (if available) */\n-#define DPT_STATS_INFO        _IOR('D',80,STATS_DATA)\n-/* Clear the statistical information          */\n-#define DPT_STATS_CLEAR       _IO('D',81)\n-/* Get Performance metrics */\n-#define DPT_PERF_INFO        _IOR('D',82,dpt_perf_t)\n-/* Send an I2O command */\n-#define I2OUSRCMD\t_IO('D',76)\n-/* Inform driver to re-acquire LCT information */\n-#define I2ORESCANCMD\t_IO('D',77)\n-/* Inform driver to reset adapter */\n-#define I2ORESETCMD\t_IO('D',78)\n-/* See if the target is mounted */\n-#define DPT_TARGET_BUSY\t_IOR('D',79, TARGET_BUSY_T)\n-\n-\n-  /* Structure Returned From Get Controller Info                             */\n-\n-typedef struct {\n-\tuCHAR    state;            /* Operational state               */\n-\tuCHAR    id;               /* Host adapter SCSI id            */\n-\tint      vect;             /* Interrupt vector number         */\n-\tint      base;             /* Base I/O address                */\n-\tint      njobs;            /* # of jobs sent to HA            */\n-\tint      qdepth;           /* Controller queue depth.         */\n-\tint      wakebase;         /* mpx wakeup base index.          */\n-\tuINT     SGsize;           /* Scatter/Gather list size.       */\n-\tunsigned heads;            /* heads for drives on cntlr.      */\n-\tunsigned sectors;          /* sectors for drives on cntlr.    */\n-\tuCHAR    do_drive32;       /* Flag for Above 16 MB Ability    */\n-\tuCHAR    BusQuiet;         /* SCSI Bus Quiet Flag             */\n-\tchar     idPAL[4];         /* 4 Bytes Of The ID Pal           */\n-\tuCHAR    primary;          /* 1 For Primary, 0 For Secondary  */\n-\tuCHAR    eataVersion;      /* EATA Version                    */\n-\tuINT     cpLength;         /* EATA Command Packet Length      */\n-\tuINT     spLength;         /* EATA Status Packet Length       */\n-\tuCHAR    drqNum;           /* DRQ Index (0,5,6,7)             */\n-\tuCHAR    flag1;            /* EATA Flags 1 (Byte 9)           */\n-\tuCHAR    flag2;            /* EATA Flags 2 (Byte 30)          */\n-} CtrlInfo;\n-\n-typedef struct {\n-\tuSHORT length;\t\t// Remaining length of this\n-\tuSHORT drvrHBAnum;\t// Relative HBA # used by the driver\n-\tuINT baseAddr;\t\t// Base I/O address\n-\tuSHORT blinkState;\t// Blink LED state (0=Not in blink LED)\n-\tuCHAR pciBusNum;\t// PCI Bus # (Optional)\n-\tuCHAR pciDeviceNum;\t// PCI Device # (Optional)\n-\tuSHORT hbaFlags;\t// Miscellaneous HBA flags\n-\tuSHORT Interrupt;\t// Interrupt set for this device.\n-#   if (defined(_DPT_ARC))\n-\tuINT baseLength;\n-\tADAPTER_OBJECT *AdapterObject;\n-\tLARGE_INTEGER DmaLogicalAddress;\n-\tPVOID DmaVirtualAddress;\n-\tLARGE_INTEGER ReplyLogicalAddress;\n-\tPVOID ReplyVirtualAddress;\n-#   else\n-\tuINT reserved1;\t\t// Reserved for future expansion\n-\tuINT reserved2;\t\t// Reserved for future expansion\n-\tuINT reserved3;\t\t// Reserved for future expansion\n-#   endif\n-} drvrHBAinfo_S;\n-\n-typedef struct TARGET_BUSY\n-{\n-  uLONG channel;\n-  uLONG id;\n-  uLONG lun;\n-  uLONG isBusy;\n-} TARGET_BUSY_T;\n-\n-#endif\n-"
        },
        {
          "filename": "drivers/scsi/dpt/dptsig.h",
          "status": "removed",
          "additions": 0,
          "deletions": 336,
          "patch": "@@ -1,336 +0,0 @@\n-/*\tBSDI dptsig.h,v 1.7 1998/06/03 19:15:00 karels Exp\t*/\n-\n-/*\n- * Copyright (c) 1996-1999 Distributed Processing Technology Corporation\n- * All rights reserved.\n- *\n- * Redistribution and use in source form, with or without modification, are\n- * permitted provided that redistributions of source code must retain the\n- * above copyright notice, this list of conditions and the following disclaimer.\n- *\n- * This software is provided `as is' by Distributed Processing Technology and\n- * any express or implied warranties, including, but not limited to, the\n- * implied warranties of merchantability and fitness for a particular purpose,\n- * are disclaimed. In no event shall Distributed Processing Technology be\n- * liable for any direct, indirect, incidental, special, exemplary or\n- * consequential damages (including, but not limited to, procurement of\n- * substitute goods or services; loss of use, data, or profits; or business\n- * interruptions) however caused and on any theory of liability, whether in\n- * contract, strict liability, or tort (including negligence or otherwise)\n- * arising in any way out of the use of this driver software, even if advised\n- * of the possibility of such damage.\n- *\n- */\n-\n-#ifndef __DPTSIG_H_\n-#define __DPTSIG_H_\n-#ifdef _SINIX_ADDON\n-#include \"dpt.h\"\n-#endif\n-/* DPT SIGNATURE SPEC AND HEADER FILE                           */\n-/* Signature Version 1 (sorry no 'A')                           */\n-\n-/* to make sure we are talking the same size under all OS's     */\n-typedef unsigned char sigBYTE;\n-typedef unsigned short sigWORD;\n-typedef unsigned int sigINT;\n-\n-/*\n- * use sigWORDLittleEndian for:\n- *  dsCapabilities\n- *  dsDeviceSupp\n- *  dsAdapterSupp\n- *  dsApplication\n- * use sigLONGLittleEndian for:\n- *      dsOS\n- * so that the sig can be standardised to Little Endian\n- */\n-#if (defined(_DPT_BIG_ENDIAN))\n-# define sigWORDLittleEndian(x) ((((x)&0xFF)<<8)|(((x)>>8)&0xFF))\n-# define sigLONGLittleEndian(x) \\\n-        ((((x)&0xFF)<<24) |             \\\n-         (((x)&0xFF00)<<8) |    \\\n-         (((x)&0xFF0000L)>>8) | \\\n-         (((x)&0xFF000000L)>>24))\n-#else\n-# define sigWORDLittleEndian(x) (x)\n-# define sigLONGLittleEndian(x) (x)\n-#endif\n-\n-/* must make sure the structure is not word or double-word aligned      */\n-/* ---------------------------------------------------------------      */\n-/* Borland will ignore the following pragma:                            */\n-/* Word alignment is OFF by default.  If in the, IDE make               */\n-/* sure that Options | Compiler | Code Generation | Word Alignment      */\n-/* is not checked.  If using BCC, do not use the -a option.             */\n-\n-#ifndef NO_PACK\n-#if defined (_DPT_AIX)\n-#pragma options align=packed\n-#else\n-#pragma pack(1)\n-#endif  /* aix */\n-#endif\n-/* For the Macintosh */\n-#ifdef STRUCTALIGNMENTSUPPORTED\n-#pragma options align=mac68k\n-#endif\n-\n-\n-/* Current Signature Version - sigBYTE dsSigVersion; */\n-/* ------------------------------------------------------------------ */\n-#define SIG_VERSION 1\n-\n-/* Processor Family - sigBYTE dsProcessorFamily;  DISTINCT VALUES */\n-/* ------------------------------------------------------------------ */\n-/* What type of processor the file is meant to run on. */\n-/* This will let us know whether to read sigWORDs as high/low or low/high. */\n-#define PROC_INTEL      0x00    /* Intel 80x86/ia64 */\n-#define PROC_MOTOROLA   0x01    /* Motorola 68K */\n-#define PROC_MIPS4000   0x02    /* MIPS RISC 4000 */\n-#define PROC_ALPHA      0x03    /* DEC Alpha */\n-#define PROC_POWERPC    0x04    /* IBM Power PC */\n-#define PROC_i960       0x05    /* Intel i960 */\n-#define PROC_ULTRASPARC 0x06    /* SPARC processor */\n-\n-/* Specific Minimim Processor - sigBYTE dsProcessor;    FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-/* Different bit definitions dependent on processor_family */\n-\n-/* PROC_INTEL: */\n-#define PROC_8086       0x01    /* Intel 8086 */\n-#define PROC_286        0x02    /* Intel 80286 */\n-#define PROC_386        0x04    /* Intel 80386 */\n-#define PROC_486        0x08    /* Intel 80486 */\n-#define PROC_PENTIUM    0x10    /* Intel 586 aka P5 aka Pentium */\n-#define PROC_SEXIUM\t0x20\t/* Intel 686 aka P6 aka Pentium Pro or MMX */\n-#define PROC_IA64\t0x40\t/* Intel IA64 processor */\n-\n-/* PROC_i960: */\n-#define PROC_960RX      0x01    /* Intel 80960RC/RD */\n-#define PROC_960HX      0x02    /* Intel 80960HA/HD/HT */\n-\n-/* PROC_MOTOROLA: */\n-#define PROC_68000      0x01    /* Motorola 68000 */\n-#define PROC_68010\t0x02\t/* Motorola 68010 */\n-#define PROC_68020      0x04    /* Motorola 68020 */\n-#define PROC_68030      0x08    /* Motorola 68030 */\n-#define PROC_68040      0x10    /* Motorola 68040 */\n-\n-/* PROC_POWERPC */\n-#define PROC_PPC601\t\t0x01\t/* PowerPC 601 */\n-#define PROC_PPC603\t\t0x02\t/* PowerPC 603 */\n-#define PROC_PPC604\t\t0x04\t/* PowerPC 604 */\n-\n-/* PROC_MIPS4000: */\n-#define PROC_R4000      0x01    /* MIPS R4000 */\n-\n-/* Filetype - sigBYTE dsFiletype;       DISTINCT VALUES */\n-/* ------------------------------------------------------------------ */\n-#define FT_EXECUTABLE   0       /* Executable Program */\n-#define FT_SCRIPT       1       /* Script/Batch File??? */\n-#define FT_HBADRVR      2       /* HBA Driver */\n-#define FT_OTHERDRVR    3       /* Other Driver */\n-#define FT_IFS          4       /* Installable Filesystem Driver */\n-#define FT_ENGINE       5       /* DPT Engine */\n-#define FT_COMPDRVR     6       /* Compressed Driver Disk */\n-#define FT_LANGUAGE     7       /* Foreign Language file */\n-#define FT_FIRMWARE     8       /* Downloadable or actual Firmware */\n-#define FT_COMMMODL     9       /* Communications Module */\n-#define FT_INT13        10      /* INT 13 style HBA Driver */\n-#define FT_HELPFILE     11      /* Help file */\n-#define FT_LOGGER       12      /* Event Logger */\n-#define FT_INSTALL      13      /* An Install Program */\n-#define FT_LIBRARY      14      /* Storage Manager Real-Mode Calls */\n-#define FT_RESOURCE\t15\t/* Storage Manager Resource File */\n-#define FT_MODEM_DB\t16\t/* Storage Manager Modem Database */\n-\n-/* Filetype flags - sigBYTE dsFiletypeFlags;    FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-#define FTF_DLL         0x01    /* Dynamic Link Library */\n-#define FTF_NLM         0x02    /* Netware Loadable Module */\n-#define FTF_OVERLAYS    0x04    /* Uses overlays */\n-#define FTF_DEBUG       0x08    /* Debug version */\n-#define FTF_TSR         0x10    /* TSR */\n-#define FTF_SYS         0x20    /* DOS Loadable driver */\n-#define FTF_PROTECTED   0x40    /* Runs in protected mode */\n-#define FTF_APP_SPEC    0x80    /* Application Specific */\n-#define FTF_ROM\t\t(FTF_SYS|FTF_TSR)\t/* Special Case */\n-\n-/* OEM - sigBYTE dsOEM;         DISTINCT VALUES */\n-/* ------------------------------------------------------------------ */\n-#define OEM_DPT         0       /* DPT */\n-#define OEM_ATT         1       /* ATT */\n-#define OEM_NEC         2       /* NEC */\n-#define OEM_ALPHA       3       /* Alphatronix */\n-#define OEM_AST         4       /* AST */\n-#define OEM_OLIVETTI    5       /* Olivetti */\n-#define OEM_SNI         6       /* Siemens/Nixdorf */\n-#define OEM_SUN         7       /* SUN Microsystems */\n-\n-/* Operating System  - sigLONG dsOS;    FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-#define OS_DOS          0x00000001 /* PC/MS-DOS\t\t\t\t*/\n-#define OS_WINDOWS      0x00000002 /* Microsoft Windows 3.x\t\t*/\n-#define OS_WINDOWS_NT   0x00000004 /* Microsoft Windows NT\t\t*/\n-#define OS_OS2M         0x00000008 /* OS/2 1.2.x,MS 1.3.0,IBM 1.3.x - Monolithic */\n-#define OS_OS2L         0x00000010 /* Microsoft OS/2 1.301 - LADDR\t*/\n-#define OS_OS22x        0x00000020 /* IBM OS/2 2.x\t\t\t*/\n-#define OS_NW286        0x00000040 /* Novell NetWare 286\t\t*/\n-#define OS_NW386        0x00000080 /* Novell NetWare 386\t\t*/\n-#define OS_GEN_UNIX     0x00000100 /* Generic Unix\t\t\t*/\n-#define OS_SCO_UNIX     0x00000200 /* SCO Unix\t\t\t\t*/\n-#define OS_ATT_UNIX     0x00000400 /* ATT Unix\t\t\t\t*/\n-#define OS_UNIXWARE     0x00000800 /* USL Unix\t\t\t\t*/\n-#define OS_INT_UNIX     0x00001000 /* Interactive Unix\t\t\t*/\n-#define OS_SOLARIS      0x00002000 /* SunSoft Solaris\t\t\t*/\n-#define OS_QNX          0x00004000 /* QNX for Tom Moch\t\t\t*/\n-#define OS_NEXTSTEP     0x00008000 /* NeXTSTEP/OPENSTEP/MACH\t\t*/\n-#define OS_BANYAN       0x00010000 /* Banyan Vines\t\t\t*/\n-#define OS_OLIVETTI_UNIX 0x00020000/* Olivetti Unix\t\t\t*/\n-#define OS_MAC_OS\t0x00040000 /* Mac OS\t\t\t\t*/\n-#define OS_WINDOWS_95\t0x00080000 /* Microsoft Windows '95\t\t*/\n-#define OS_NW4x\t\t0x00100000 /* Novell Netware 4.x\t\t*/\n-#define OS_BSDI_UNIX\t0x00200000 /* BSDi Unix BSD/OS 2.0 and up\t*/\n-#define OS_AIX_UNIX     0x00400000 /* AIX Unix\t\t\t\t*/\n-#define OS_FREE_BSD\t0x00800000 /* FreeBSD Unix\t\t\t*/\n-#define OS_LINUX\t0x01000000 /* Linux\t\t\t\t*/\n-#define OS_DGUX_UNIX\t0x02000000 /* Data General Unix\t\t\t*/\n-#define OS_SINIX_N      0x04000000 /* SNI SINIX-N\t\t\t*/\n-#define OS_PLAN9\t0x08000000 /* ATT Plan 9\t\t\t*/\n-#define OS_TSX\t\t0x10000000 /* SNH TSX-32\t\t\t*/\n-\n-#define OS_OTHER        0x80000000 /* Other\t\t\t\t*/\n-\n-/* Capabilities - sigWORD dsCapabilities;        FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-#define CAP_RAID0       0x0001  /* RAID-0 */\n-#define CAP_RAID1       0x0002  /* RAID-1 */\n-#define CAP_RAID3       0x0004  /* RAID-3 */\n-#define CAP_RAID5       0x0008  /* RAID-5 */\n-#define CAP_SPAN        0x0010  /* Spanning */\n-#define CAP_PASS        0x0020  /* Provides passthrough */\n-#define CAP_OVERLAP     0x0040  /* Passthrough supports overlapped commands */\n-#define CAP_ASPI        0x0080  /* Supports ASPI Command Requests */\n-#define CAP_ABOVE16MB   0x0100  /* ISA Driver supports greater than 16MB */\n-#define CAP_EXTEND      0x8000  /* Extended info appears after description */\n-#ifdef SNI_MIPS\n-#define CAP_CACHEMODE   0x1000  /* dpt_force_cache is set in driver */\n-#endif\n-\n-/* Devices Supported - sigWORD dsDeviceSupp;    FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-#define DEV_DASD        0x0001  /* DASD (hard drives) */\n-#define DEV_TAPE        0x0002  /* Tape drives */\n-#define DEV_PRINTER     0x0004  /* Printers */\n-#define DEV_PROC        0x0008  /* Processors */\n-#define DEV_WORM        0x0010  /* WORM drives */\n-#define DEV_CDROM       0x0020  /* CD-ROM drives */\n-#define DEV_SCANNER     0x0040  /* Scanners */\n-#define DEV_OPTICAL     0x0080  /* Optical Drives */\n-#define DEV_JUKEBOX     0x0100  /* Jukebox */\n-#define DEV_COMM        0x0200  /* Communications Devices */\n-#define DEV_OTHER       0x0400  /* Other Devices */\n-#define DEV_ALL         0xFFFF  /* All SCSI Devices */\n-\n-/* Adapters Families Supported - sigWORD dsAdapterSupp; FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-#define ADF_2001        0x0001  /* PM2001           */\n-#define ADF_2012A       0x0002  /* PM2012A          */\n-#define ADF_PLUS_ISA    0x0004  /* PM2011,PM2021    */\n-#define ADF_PLUS_EISA   0x0008  /* PM2012B,PM2022   */\n-#define ADF_SC3_ISA\t0x0010  /* PM2021           */\n-#define ADF_SC3_EISA\t0x0020  /* PM2022,PM2122, etc */\n-#define ADF_SC3_PCI\t0x0040  /* SmartCache III PCI */\n-#define ADF_SC4_ISA\t0x0080  /* SmartCache IV ISA */\n-#define ADF_SC4_EISA\t0x0100  /* SmartCache IV EISA */\n-#define ADF_SC4_PCI\t0x0200\t/* SmartCache IV PCI */\n-#define ADF_SC5_PCI\t0x0400\t/* Fifth Generation I2O products */\n-/*\n- *\tCombinations of products\n- */\n-#define ADF_ALL_2000\t(ADF_2001|ADF_2012A)\n-#define ADF_ALL_PLUS\t(ADF_PLUS_ISA|ADF_PLUS_EISA)\n-#define ADF_ALL_SC3\t(ADF_SC3_ISA|ADF_SC3_EISA|ADF_SC3_PCI)\n-#define ADF_ALL_SC4\t(ADF_SC4_ISA|ADF_SC4_EISA|ADF_SC4_PCI)\n-#define ADF_ALL_SC5\t(ADF_SC5_PCI)\n-/* All EATA Cacheing Products */\n-#define ADF_ALL_CACHE\t(ADF_ALL_PLUS|ADF_ALL_SC3|ADF_ALL_SC4)\n-/* All EATA Bus Mastering Products */\n-#define ADF_ALL_MASTER\t(ADF_2012A|ADF_ALL_CACHE)\n-/* All EATA Adapter Products */\n-#define ADF_ALL_EATA\t(ADF_2001|ADF_ALL_MASTER)\n-#define ADF_ALL\t\tADF_ALL_EATA\n-\n-/* Application - sigWORD dsApplication;         FLAG BITS */\n-/* ------------------------------------------------------------------ */\n-#define APP_DPTMGR      0x0001  /* DPT Storage Manager */\n-#define APP_ENGINE      0x0002  /* DPT Engine */\n-#define APP_SYTOS       0x0004  /* Sytron Sytos Plus */\n-#define APP_CHEYENNE    0x0008  /* Cheyenne ARCServe + ARCSolo */\n-#define APP_MSCDEX      0x0010  /* Microsoft CD-ROM extensions */\n-#define APP_NOVABACK    0x0020  /* NovaStor Novaback */\n-#define APP_AIM         0x0040  /* Archive Information Manager */\n-\n-/* Requirements - sigBYTE dsRequirements;         FLAG BITS             */\n-/* ------------------------------------------------------------------   */\n-#define REQ_SMARTROM    0x01    /* Requires SmartROM to be present      */\n-#define REQ_DPTDDL      0x02    /* Requires DPTDDL.SYS to be loaded     */\n-#define REQ_HBA_DRIVER  0x04    /* Requires an HBA driver to be loaded  */\n-#define REQ_ASPI_TRAN   0x08    /* Requires an ASPI Transport Modules   */\n-#define REQ_ENGINE      0x10    /* Requires a DPT Engine to be loaded   */\n-#define REQ_COMM_ENG    0x20    /* Requires a DPT Communications Engine */\n-\n-/*\n- * You may adjust dsDescription_size with an override to a value less than\n- * 50 so that the structure allocates less real space.\n- */\n-#if (!defined(dsDescription_size))\n-# define dsDescription_size 50\n-#endif\n-\n-typedef struct dpt_sig {\n-    char    dsSignature[6];      /* ALWAYS \"dPtSiG\" */\n-    sigBYTE dsSigVersion;        /* signature version (currently 1) */\n-    sigBYTE dsProcessorFamily;   /* what type of processor */\n-    sigBYTE dsProcessor;         /* precise processor */\n-    sigBYTE dsFiletype;          /* type of file */\n-    sigBYTE dsFiletypeFlags;     /* flags to specify load type, etc. */\n-    sigBYTE dsOEM;               /* OEM file was created for */\n-    sigINT  dsOS;                /* which Operating systems */\n-    sigWORD dsCapabilities;      /* RAID levels, etc. */\n-    sigWORD dsDeviceSupp;        /* Types of SCSI devices supported */\n-    sigWORD dsAdapterSupp;       /* DPT adapter families supported */\n-    sigWORD dsApplication;       /* applications file is for */\n-    sigBYTE dsRequirements;      /* Other driver dependencies */\n-    sigBYTE dsVersion;           /* 1 */\n-    sigBYTE dsRevision;          /* 'J' */\n-    sigBYTE dsSubRevision;       /* '9'   ' ' if N/A */\n-    sigBYTE dsMonth;             /* creation month */\n-    sigBYTE dsDay;               /* creation day */\n-    sigBYTE dsYear;              /* creation year since 1980 (1993=13) */\n-    /* description (NULL terminated) */\n-    char  dsDescription[dsDescription_size];\n-} dpt_sig_S;\n-/* 32 bytes minimum - with no description.  Put NULL at description[0] */\n-/* 81 bytes maximum - with 49 character description plus NULL. */\n-\n-/* This line added at Roycroft's request */\n-/* Microsoft's NT compiler gets confused if you do a pack and don't */\n-/* restore it. */\n-\n-#ifndef NO_UNPACK\n-#if defined (_DPT_AIX)\n-#pragma options align=reset\n-#elif defined (UNPACK_FOUR)\n-#pragma pack(4)\n-#else\n-#pragma pack()\n-#endif  /* aix */\n-#endif\n-/* For the Macintosh */\n-#ifdef STRUCTALIGNMENTSUPPORTED\n-#pragma options align=reset\n-#endif\n-\n-#endif"
        },
        {
          "filename": "drivers/scsi/dpt/osd_defs.h",
          "status": "removed",
          "additions": 0,
          "deletions": 79,
          "patch": "@@ -1,79 +0,0 @@\n-/*\tBSDI osd_defs.h,v 1.4 1998/06/03 19:14:58 karels Exp\t*/\n-/*\n- * Copyright (c) 1996-1999 Distributed Processing Technology Corporation\n- * All rights reserved.\n- *\n- * Redistribution and use in source form, with or without modification, are\n- * permitted provided that redistributions of source code must retain the\n- * above copyright notice, this list of conditions and the following disclaimer.\n- *\n- * This software is provided `as is' by Distributed Processing Technology and\n- * any express or implied warranties, including, but not limited to, the\n- * implied warranties of merchantability and fitness for a particular purpose,\n- * are disclaimed. In no event shall Distributed Processing Technology be\n- * liable for any direct, indirect, incidental, special, exemplary or\n- * consequential damages (including, but not limited to, procurement of\n- * substitute goods or services; loss of use, data, or profits; or business\n- * interruptions) however caused and on any theory of liability, whether in\n- * contract, strict liability, or tort (including negligence or otherwise)\n- * arising in any way out of the use of this driver software, even if advised\n- * of the possibility of such damage.\n- *\n- */\n-\n-#ifndef\t\t_OSD_DEFS_H\n-#define\t\t_OSD_DEFS_H\n-\n-/*File - OSD_DEFS.H\n- ****************************************************************************\n- *\n- *Description:\n- *\n- *\tThis file contains the OS dependent defines.  This file is included\n- *in osd_util.h and provides the OS specific defines for that file.\n- *\n- *Copyright Distributed Processing Technology, Corp.\n- *\t  140 Candace Dr.\n- *\t  Maitland, Fl.\t32751   USA\n- *\t  Phone: (407) 830-5522  Fax: (407) 260-5366\n- *\t  All Rights Reserved\n- *\n- *Author:\tDoug Anderson\n- *Date:\t\t1/31/94\n- *\n- *Editors:\n- *\n- *Remarks:\n- *\n- *\n- *****************************************************************************/\n-\n-\n-/*Definitions - Defines & Constants ----------------------------------------- */\n-\n-  /* Define the operating system */\n-#if (defined(__linux__))\n-# define _DPT_LINUX\n-#elif (defined(__bsdi__))\n-# define _DPT_BSDI\n-#elif (defined(__FreeBSD__))\n-# define _DPT_FREE_BSD\n-#else\n-# define _DPT_SCO\n-#endif\n-\n-#if defined (ZIL_CURSES)\n-#define\t\t_DPT_CURSES\n-#else\n-#define         _DPT_MOTIF\n-#endif\n-\n-  /* Redefine 'far' to nothing - no far pointer type required in UNIX */\n-#define\t\tfar\n-\n-  /* Define the mutually exclusive semaphore type */\n-#define\t\tSEMAPHORE_T\tunsigned int *\n-  /* Define a handle to a DLL */\n-#define\t\tDLL_HANDLE_T\tunsigned int *\n-\n-#endif"
        },
        {
          "filename": "drivers/scsi/dpt/osd_util.h",
          "status": "removed",
          "additions": 0,
          "deletions": 358,
          "patch": "@@ -1,358 +0,0 @@\n-/*\tBSDI osd_util.h,v 1.8 1998/06/03 19:14:58 karels Exp\t*/\n-\n-/*\n- * Copyright (c) 1996-1999 Distributed Processing Technology Corporation\n- * All rights reserved.\n- *\n- * Redistribution and use in source form, with or without modification, are\n- * permitted provided that redistributions of source code must retain the\n- * above copyright notice, this list of conditions and the following disclaimer.\n- *\n- * This software is provided `as is' by Distributed Processing Technology and\n- * any express or implied warranties, including, but not limited to, the\n- * implied warranties of merchantability and fitness for a particular purpose,\n- * are disclaimed. In no event shall Distributed Processing Technology be\n- * liable for any direct, indirect, incidental, special, exemplary or\n- * consequential damages (including, but not limited to, procurement of\n- * substitute goods or services; loss of use, data, or profits; or business\n- * interruptions) however caused and on any theory of liability, whether in\n- * contract, strict liability, or tort (including negligence or otherwise)\n- * arising in any way out of the use of this driver software, even if advised\n- * of the possibility of such damage.\n- *\n- */\n-\n-#ifndef         __OSD_UTIL_H\n-#define         __OSD_UTIL_H\n-\n-/*File - OSD_UTIL.H\n- ****************************************************************************\n- *\n- *Description:\n- *\n- *      This file contains defines and function prototypes that are\n- *operating system dependent.  The resources defined in this file\n- *are not specific to any particular application.\n- *\n- *Copyright Distributed Processing Technology, Corp.\n- *        140 Candace Dr.\n- *        Maitland, Fl. 32751   USA\n- *        Phone: (407) 830-5522  Fax: (407) 260-5366\n- *        All Rights Reserved\n- *\n- *Author:       Doug Anderson\n- *Date:         1/7/94\n- *\n- *Editors:\n- *\n- *Remarks:\n- *\n- *\n- *****************************************************************************/\n-\n-\n-/*Definitions - Defines & Constants ----------------------------------------- */\n-\n-/*----------------------------- */\n-/* Operating system selections: */\n-/*----------------------------- */\n-\n-/*#define               _DPT_MSDOS      */\n-/*#define               _DPT_WIN_3X     */\n-/*#define               _DPT_WIN_4X     */\n-/*#define               _DPT_WIN_NT     */\n-/*#define               _DPT_NETWARE    */\n-/*#define               _DPT_OS2        */\n-/*#define               _DPT_SCO        */\n-/*#define               _DPT_UNIXWARE   */\n-/*#define               _DPT_SOLARIS    */\n-/*#define               _DPT_NEXTSTEP   */\n-/*#define               _DPT_BANYAN     */\n-\n-/*-------------------------------- */\n-/* Include the OS specific defines */\n-/*-------------------------------- */\n-\n-/*#define       OS_SELECTION    From Above List */\n-/*#define       SEMAPHORE_T     ??? */\n-/*#define       DLL_HANDLE_T    ??? */\n-\n-#if (defined(KERNEL) && (defined(__FreeBSD__) || defined(__bsdi__)))\n-# include        \"i386/isa/dpt_osd_defs.h\"\n-#else\n-# include        \"osd_defs.h\"\n-#endif\n-\n-#ifndef DPT_UNALIGNED\n-   #define      DPT_UNALIGNED\n-#endif\n-\n-#ifndef DPT_EXPORT\n-   #define      DPT_EXPORT\n-#endif\n-\n-#ifndef DPT_IMPORT\n-   #define      DPT_IMPORT\n-#endif\n-\n-#ifndef DPT_RUNTIME_IMPORT\n-   #define      DPT_RUNTIME_IMPORT  DPT_IMPORT\n-#endif\n-\n-/*--------------------- */\n-/* OS dependent defines */\n-/*--------------------- */\n-\n-#if defined (_DPT_MSDOS) || defined (_DPT_WIN_3X)\n-   #define      _DPT_16_BIT\n-#else\n-   #define      _DPT_32_BIT\n-#endif\n-\n-#if defined (_DPT_SCO) || defined (_DPT_UNIXWARE) || defined (_DPT_SOLARIS) || defined (_DPT_AIX) || defined (SNI_MIPS) || defined (_DPT_BSDI) || defined (_DPT_FREE_BSD) || defined(_DPT_LINUX)\n-   #define      _DPT_UNIX\n-#endif\n-\n-#if defined (_DPT_WIN_3x) || defined (_DPT_WIN_4X) || defined (_DPT_WIN_NT) \\\n-\t    || defined (_DPT_OS2)\n-   #define      _DPT_DLL_SUPPORT\n-#endif\n-\n-#if !defined (_DPT_MSDOS) && !defined (_DPT_WIN_3X) && !defined (_DPT_NETWARE)\n-   #define      _DPT_PREEMPTIVE\n-#endif\n-\n-#if !defined (_DPT_MSDOS) && !defined (_DPT_WIN_3X)\n-   #define      _DPT_MULTI_THREADED\n-#endif\n-\n-#if !defined (_DPT_MSDOS)\n-   #define      _DPT_MULTI_TASKING\n-#endif\n-\n-  /* These exist for platforms that   */\n-  /* chunk when accessing mis-aligned */\n-  /* data                             */\n-#if defined (SNI_MIPS) || defined (_DPT_SOLARIS)\n-   #if defined (_DPT_BIG_ENDIAN)\n-\t#if !defined (_DPT_STRICT_ALIGN)\n-            #define _DPT_STRICT_ALIGN\n-\t#endif\n-   #endif\n-#endif\n-\n-  /* Determine if in C or C++ mode */\n-#ifdef  __cplusplus\n-   #define      _DPT_CPP\n-#else\n-   #define      _DPT_C\n-#endif\n-\n-/*-------------------------------------------------------------------*/\n-/* Under Solaris the compiler refuses to accept code like:           */\n-/*   { {\"DPT\"}, 0, NULL .... },                                      */\n-/* and complains about the {\"DPT\"} part by saying \"cannot use { }    */\n-/* to initialize char*\".                                             */\n-/*                                                                   */\n-/* By defining these ugly macros we can get around this and also     */\n-/* not have to copy and #ifdef large sections of code.  I know that  */\n-/* these macros are *really* ugly, but they should help reduce       */\n-/* maintenance in the long run.                                      */\n-/*                                                                   */\n-/*-------------------------------------------------------------------*/\n-#if !defined (DPTSQO)\n-   #if defined (_DPT_SOLARIS)\n-      #define DPTSQO\n-      #define DPTSQC\n-   #else\n-      #define DPTSQO {\n-      #define DPTSQC }\n-   #endif  /* solaris */\n-#endif  /* DPTSQO */\n-\n-\n-/*---------------------- */\n-/* OS dependent typedefs */\n-/*---------------------- */\n-\n-#if defined (_DPT_MSDOS) || defined (_DPT_SCO)\n-   #define BYTE unsigned char\n-   #define WORD unsigned short\n-#endif\n-\n-#ifndef _DPT_TYPEDEFS\n-   #define _DPT_TYPEDEFS\n-   typedef unsigned char   uCHAR;\n-   typedef unsigned short  uSHORT;\n-   typedef unsigned int    uINT;\n-   typedef unsigned long   uLONG;\n-\n-   typedef union {\n-\t uCHAR        u8[4];\n-\t uSHORT       u16[2];\n-\t uLONG        u32;\n-   } access_U;\n-#endif\n-\n-#if !defined (NULL)\n-   #define      NULL    0\n-#endif\n-\n-\n-/*Prototypes - function ----------------------------------------------------- */\n-\n-#ifdef  __cplusplus\n-   extern \"C\" {         /* Declare all these functions as \"C\" functions */\n-#endif\n-\n-/*------------------------ */\n-/* Byte reversal functions */\n-/*------------------------ */\n-\n-  /* Reverses the byte ordering of a 2 byte variable */\n-#if (!defined(osdSwap2))\n- uSHORT       osdSwap2(DPT_UNALIGNED uSHORT *);\n-#endif  // !osdSwap2\n-\n-  /* Reverses the byte ordering of a 4 byte variable and shifts left 8 bits */\n-#if (!defined(osdSwap3))\n- uLONG        osdSwap3(DPT_UNALIGNED uLONG *);\n-#endif  // !osdSwap3\n-\n-\n-#ifdef  _DPT_NETWARE\n-   #include \"novpass.h\" /* For DPT_Bswapl() prototype */\n-\t/* Inline the byte swap */\n-   #ifdef __cplusplus\n-\t inline uLONG osdSwap4(uLONG *inLong) {\n-\t return *inLong = DPT_Bswapl(*inLong);\n-\t }\n-   #else\n-\t #define osdSwap4(inLong)       DPT_Bswapl(inLong)\n-   #endif  // cplusplus\n-#else\n-\t/* Reverses the byte ordering of a 4 byte variable */\n-# if (!defined(osdSwap4))\n-   uLONG        osdSwap4(DPT_UNALIGNED uLONG *);\n-# endif  // !osdSwap4\n-\n-  /* The following functions ALWAYS swap regardless of the *\n-   * presence of DPT_BIG_ENDIAN                            */\n-\n-   uSHORT       trueSwap2(DPT_UNALIGNED uSHORT *);\n-   uLONG        trueSwap4(DPT_UNALIGNED uLONG *);\n-\n-#endif  // netware\n-\n-\n-/*-------------------------------------*\n- * Network order swap functions        *\n- *                                     *\n- * These functions/macros will be used *\n- * by the structure insert()/extract() *\n- * functions.                          *\n- *\n- * We will enclose all structure       *\n- * portability modifications inside    *\n- * #ifdefs.  When we are ready, we     *\n- * will #define DPT_PORTABLE to begin  *\n- * using the modifications.            *\n- *-------------------------------------*/\n-uLONG\tnetSwap4(uLONG val);\n-\n-#if defined (_DPT_BIG_ENDIAN)\n-\n-// for big-endian we need to swap\n-\n-#ifndef NET_SWAP_2\n-#define NET_SWAP_2(x) (((x) >> 8) | ((x) << 8))\n-#endif  // NET_SWAP_2\n-\n-#ifndef NET_SWAP_4\n-#define NET_SWAP_4(x) netSwap4((x))\n-#endif  // NET_SWAP_4\n-\n-#else\n-\n-// for little-endian we don't need to do anything\n-\n-#ifndef NET_SWAP_2\n-#define NET_SWAP_2(x) (x)\n-#endif  // NET_SWAP_2\n-\n-#ifndef NET_SWAP_4\n-#define NET_SWAP_4(x) (x)\n-#endif  // NET_SWAP_4\n-\n-#endif  // big endian\n-\n-\n-\n-/*----------------------------------- */\n-/* Run-time loadable module functions */\n-/*----------------------------------- */\n-\n-  /* Loads the specified run-time loadable DLL */\n-DLL_HANDLE_T    osdLoadModule(uCHAR *);\n-  /* Unloads the specified run-time loadable DLL */\n-uSHORT          osdUnloadModule(DLL_HANDLE_T);\n-  /* Returns a pointer to a function inside a run-time loadable DLL */\n-void *          osdGetFnAddr(DLL_HANDLE_T,uCHAR *);\n-\n-/*--------------------------------------- */\n-/* Mutually exclusive semaphore functions */\n-/*--------------------------------------- */\n-\n-  /* Create a named semaphore */\n-SEMAPHORE_T     osdCreateNamedSemaphore(char *);\n-  /* Create a mutually exlusive semaphore */\n-SEMAPHORE_T     osdCreateSemaphore(void);\n-\t/* create an event semaphore */\n-SEMAPHORE_T              osdCreateEventSemaphore(void);\n-\t/* create a named event semaphore */\n-SEMAPHORE_T             osdCreateNamedEventSemaphore(char *);\n-\n-  /* Destroy the specified mutually exclusive semaphore object */\n-uSHORT          osdDestroySemaphore(SEMAPHORE_T);\n-  /* Request access to the specified mutually exclusive semaphore */\n-uLONG           osdRequestSemaphore(SEMAPHORE_T,uLONG);\n-  /* Release access to the specified mutually exclusive semaphore */\n-uSHORT          osdReleaseSemaphore(SEMAPHORE_T);\n-\t/* wait for a event to happen */\n-uLONG                            osdWaitForEventSemaphore(SEMAPHORE_T, uLONG);\n-\t/* signal an event */\n-uLONG                            osdSignalEventSemaphore(SEMAPHORE_T);\n-\t/* reset the event */\n-uLONG                            osdResetEventSemaphore(SEMAPHORE_T);\n-\n-/*----------------- */\n-/* Thread functions */\n-/*----------------- */\n-\n-  /* Releases control to the task switcher in non-preemptive */\n-  /* multitasking operating systems. */\n-void            osdSwitchThreads(void);\n-\n-  /* Starts a thread function */\n-uLONG   osdStartThread(void *,void *);\n-\n-/* what is my thread id */\n-uLONG osdGetThreadID(void);\n-\n-/* wakes up the specifed thread */\n-void osdWakeThread(uLONG);\n-\n-/* osd sleep for x milliseconds */\n-void osdSleep(uLONG);\n-\n-#define DPT_THREAD_PRIORITY_LOWEST 0x00\n-#define DPT_THREAD_PRIORITY_NORMAL 0x01\n-#define DPT_THREAD_PRIORITY_HIGHEST 0x02\n-\n-uCHAR osdSetThreadPriority(uLONG tid, uCHAR priority);\n-\n-#ifdef __cplusplus\n-   }    /* end the xtern \"C\" declaration */\n-#endif\n-\n-#endif  /* osd_util_h */"
        },
        {
          "filename": "drivers/scsi/dpt/sys_info.h",
          "status": "removed",
          "additions": 0,
          "deletions": 417,
          "patch": "@@ -1,417 +0,0 @@\n-/*\tBSDI sys_info.h,v 1.6 1998/06/03 19:14:59 karels Exp\t*/\n-\n-/*\n- * Copyright (c) 1996-1999 Distributed Processing Technology Corporation\n- * All rights reserved.\n- *\n- * Redistribution and use in source form, with or without modification, are\n- * permitted provided that redistributions of source code must retain the\n- * above copyright notice, this list of conditions and the following disclaimer.\n- *\n- * This software is provided `as is' by Distributed Processing Technology and\n- * any express or implied warranties, including, but not limited to, the\n- * implied warranties of merchantability and fitness for a particular purpose,\n- * are disclaimed. In no event shall Distributed Processing Technology be\n- * liable for any direct, indirect, incidental, special, exemplary or\n- * consequential damages (including, but not limited to, procurement of\n- * substitute goods or services; loss of use, data, or profits; or business\n- * interruptions) however caused and on any theory of liability, whether in\n- * contract, strict liability, or tort (including negligence or otherwise)\n- * arising in any way out of the use of this driver software, even if advised\n- * of the possibility of such damage.\n- *\n- */\n-\n-#ifndef         __SYS_INFO_H\n-#define         __SYS_INFO_H\n-\n-/*File - SYS_INFO.H\n- ****************************************************************************\n- *\n- *Description:\n- *\n- *      This file contains structure definitions for the OS dependent\n- *layer system information buffers.\n- *\n- *Copyright Distributed Processing Technology, Corp.\n- *        140 Candace Dr.\n- *        Maitland, Fl. 32751   USA\n- *        Phone: (407) 830-5522  Fax: (407) 260-5366\n- *        All Rights Reserved\n- *\n- *Author:       Don Kemper\n- *Date:         5/10/94\n- *\n- *Editors:\n- *\n- *Remarks:\n- *\n- *\n- *****************************************************************************/\n-\n-\n-/*Include Files ------------------------------------------------------------- */\n-\n-#include        \"osd_util.h\"\n-\n-#ifndef NO_PACK\n-#if defined (_DPT_AIX)\n-#pragma options align=packed\n-#else\n-#pragma pack(1)\n-#endif  /* aix */\n-#endif  // no unpack\n-\n-\n-/*struct - driveParam_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the drive parameters seen during\n- *booting.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-#ifdef  __cplusplus\n-   struct driveParam_S {\n-#else\n-   typedef struct  {\n-#endif\n-\n-   uSHORT       cylinders;      /* Up to 1024 */\n-   uCHAR        heads;          /* Up to 255 */\n-   uCHAR        sectors;        /* Up to 63 */\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } driveParam_S;\n-#endif\n-/*driveParam_S - end */\n-\n-\n-/*struct - sysInfo_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the command system information that\n- *should be returned by every OS dependent layer.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-/*flags - bit definitions */\n-#define SI_CMOS_Valid           0x0001\n-#define SI_NumDrivesValid       0x0002\n-#define SI_ProcessorValid       0x0004\n-#define SI_MemorySizeValid      0x0008\n-#define SI_DriveParamsValid     0x0010\n-#define SI_SmartROMverValid     0x0020\n-#define SI_OSversionValid       0x0040\n-#define SI_OSspecificValid      0x0080  /* 1 if OS structure returned */\n-#define SI_BusTypeValid         0x0100\n-\n-#define SI_ALL_VALID            0x0FFF  /* All Std SysInfo is valid */\n-#define SI_NO_SmartROM          0x8000\n-\n-/*busType - definitions */\n-#define SI_ISA_BUS      0x00\n-#define SI_MCA_BUS      0x01\n-#define SI_EISA_BUS     0x02\n-#define SI_PCI_BUS      0x04\n-\n-#ifdef  __cplusplus\n-   struct sysInfo_S {\n-#else\n-   typedef struct  {\n-#endif\n-\n-   uCHAR        drive0CMOS;             /* CMOS Drive 0 Type */\n-   uCHAR        drive1CMOS;             /* CMOS Drive 1 Type */\n-   uCHAR        numDrives;              /* 0040:0075 contents */\n-   uCHAR        processorFamily;        /* Same as DPTSIG's definition */\n-   uCHAR        processorType;          /* Same as DPTSIG's definition */\n-   uCHAR        smartROMMajorVersion;\n-   uCHAR        smartROMMinorVersion;   /* SmartROM version */\n-   uCHAR        smartROMRevision;\n-   uSHORT       flags;                  /* See bit definitions above */\n-   uSHORT       conventionalMemSize;    /* in KB */\n-   uINT         extendedMemSize;        /* in KB */\n-   uINT         osType;                 /* Same as DPTSIG's definition */\n-   uCHAR        osMajorVersion;\n-   uCHAR        osMinorVersion;         /* The OS version */\n-   uCHAR        osRevision;\n-#ifdef _SINIX_ADDON\n-   uCHAR        busType;                /* See defininitions above */\n-   uSHORT       osSubRevision;\n-   uCHAR        pad[2];                 /* For alignment */\n-#else\n-   uCHAR        osSubRevision;\n-   uCHAR        busType;                /* See defininitions above */\n-   uCHAR        pad[3];                 /* For alignment */\n-#endif\n-   driveParam_S drives[16];             /* SmartROM Logical Drives */\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } sysInfo_S;\n-#endif\n-/*sysInfo_S - end */\n-\n-\n-/*struct - DOS_Info_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the system information specific to a\n- *DOS workstation.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-/*flags - bit definitions */\n-#define DI_DOS_HIGH             0x01    /* DOS is loaded high */\n-#define DI_DPMI_VALID           0x02    /* DPMI version is valid */\n-\n-#ifdef  __cplusplus\n-   struct DOS_Info_S {\n-#else\n-   typedef struct {\n-#endif\n-\n-   uCHAR        flags;          /* See bit definitions above */\n-   uSHORT       driverLocation; /* SmartROM BIOS address */\n-   uSHORT       DOS_version;\n-   uSHORT       DPMI_version;\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } DOS_Info_S;\n-#endif\n-/*DOS_Info_S - end */\n-\n-\n-/*struct - Netware_Info_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the system information specific to a\n- *Netware machine.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-#ifdef  __cplusplus\n-   struct Netware_Info_S {\n-#else\n-   typedef struct {\n-#endif\n-\n-   uCHAR        driverName[13];         /* ie PM12NW31.DSK */\n-   uCHAR        serverName[48];\n-   uCHAR        netwareVersion;         /* The Netware OS version */\n-   uCHAR        netwareSubVersion;\n-   uCHAR        netwareRevision;\n-   uSHORT       maxConnections;         /* Probably  250 or 1000 */\n-   uSHORT       connectionsInUse;\n-   uSHORT       maxVolumes;\n-   uCHAR        unused;\n-   uCHAR        SFTlevel;\n-   uCHAR        TTSlevel;\n-\n-   uCHAR        clibMajorVersion;       /* The CLIB.NLM version */\n-   uCHAR        clibMinorVersion;\n-   uCHAR        clibRevision;\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } Netware_Info_S;\n-#endif\n-/*Netware_Info_S - end */\n-\n-\n-/*struct - OS2_Info_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the system information specific to an\n- *OS/2 machine.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-#ifdef  __cplusplus\n-   struct OS2_Info_S {\n-#else\n-   typedef struct {\n-#endif\n-\n-   uCHAR        something;\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } OS2_Info_S;\n-#endif\n-/*OS2_Info_S - end */\n-\n-\n-/*struct - WinNT_Info_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the system information specific to a\n- *Windows NT machine.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-#ifdef  __cplusplus\n-   struct WinNT_Info_S {\n-#else\n-   typedef struct {\n-#endif\n-\n-   uCHAR        something;\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } WinNT_Info_S;\n-#endif\n-/*WinNT_Info_S - end */\n-\n-\n-/*struct - SCO_Info_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the system information specific to an\n- *SCO UNIX machine.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-#ifdef  __cplusplus\n-   struct SCO_Info_S {\n-#else\n-   typedef struct {\n-#endif\n-\n-   uCHAR        something;\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } SCO_Info_S;\n-#endif\n-/*SCO_Info_S - end */\n-\n-\n-/*struct - USL_Info_S - start\n- *===========================================================================\n- *\n- *Description:\n- *\n- *      This structure defines the system information specific to a\n- *USL UNIX machine.\n- *\n- *---------------------------------------------------------------------------*/\n-\n-#ifdef  __cplusplus\n-   struct USL_Info_S {\n-#else\n-   typedef struct {\n-#endif\n-\n-   uCHAR        something;\n-\n-#ifdef  __cplusplus\n-\n-//---------- Portability Additions ----------- in sp_sinfo.cpp\n-#ifdef DPT_PORTABLE\n-\tuSHORT\t\tnetInsert(dptBuffer_S *buffer);\n-\tuSHORT\t\tnetExtract(dptBuffer_S *buffer);\n-#endif // DPT PORTABLE\n-//--------------------------------------------\n-\n-   };\n-#else\n-   } USL_Info_S;\n-#endif\n-/*USL_Info_S - end */\n-\n-\n-  /* Restore default structure packing */\n-#ifndef NO_UNPACK\n-#if defined (_DPT_AIX)\n-#pragma options align=reset\n-#elif defined (UNPACK_FOUR)\n-#pragma pack(4)\n-#else\n-#pragma pack()\n-#endif  /* aix */\n-#endif  // no unpack\n-\n-#endif  // __SYS_INFO_H\n-"
        },
        {
          "filename": "drivers/scsi/dpt_i2o.c",
          "status": "removed",
          "additions": 0,
          "deletions": 3545,
          "patch": null
        },
        {
          "filename": "drivers/scsi/dpti.h",
          "status": "removed",
          "additions": 0,
          "deletions": 331,
          "patch": "@@ -1,331 +0,0 @@\n-/* SPDX-License-Identifier: GPL-2.0-or-later */\n-/***************************************************************************\n-                          dpti.h  -  description\n-                             -------------------\n-    begin                : Thu Sep 7 2000\n-    copyright            : (C) 2001 by Adaptec\n-\n-    See Documentation/scsi/dpti.rst for history, notes, license info\n-    and credits\n- ***************************************************************************/\n-\n-/***************************************************************************\n- *                                                                         *\n- *                                                                         *\n- ***************************************************************************/\n-\n-#ifndef _DPT_H\n-#define _DPT_H\n-\n-#define MAX_TO_IOP_MESSAGES   (255)\n-#define MAX_FROM_IOP_MESSAGES (255)\n-\n-\n-/*\n- * SCSI interface function Prototypes\n- */\n-\n-static int adpt_detect(struct scsi_host_template * sht);\n-static int adpt_queue(struct Scsi_Host *h, struct scsi_cmnd * cmd);\n-static int adpt_abort(struct scsi_cmnd * cmd);\n-static int adpt_reset(struct scsi_cmnd* cmd);\n-static int adpt_slave_configure(struct scsi_device *);\n-\n-static const char *adpt_info(struct Scsi_Host *pSHost);\n-static int adpt_bios_param(struct scsi_device * sdev, struct block_device *dev,\n-\t\tsector_t, int geom[]);\n-\n-static int adpt_bus_reset(struct scsi_cmnd* cmd);\n-static int adpt_device_reset(struct scsi_cmnd* cmd);\n-\n-\n-/*\n- * struct scsi_host_template (see scsi/scsi_host.h)\n- */\n-\n-#define DPT_DRIVER_NAME\t\"Adaptec I2O RAID\"\n-\n-#ifndef HOSTS_C\n-\n-#include \"dpt/sys_info.h\"\n-#include <linux/wait.h>\n-#include \"dpt/dpti_i2o.h\"\n-#include \"dpt/dpti_ioctl.h\"\n-\n-#define DPT_I2O_VERSION \"2.4 Build 5go\"\n-#define DPT_VERSION     2\n-#define DPT_REVISION    '4'\n-#define DPT_SUBREVISION '5'\n-#define DPT_BETA\t\"\"\n-#define DPT_MONTH      8 \n-#define DPT_DAY        7\n-#define DPT_YEAR        (2001-1980)\n-\n-#define DPT_DRIVER\t\"dpt_i2o\"\n-#define DPTI_I2O_MAJOR\t(151)\n-#define DPT_ORGANIZATION_ID (0x1B)        /* For Private Messages */\n-#define DPTI_MAX_HBA\t(16)\n-#define MAX_CHANNEL     (5)\t// Maximum Channel # Supported\n-#define MAX_ID        \t(128)\t// Maximum Target ID Supported\n-\n-/* Sizes in 4 byte words */\n-#define REPLY_FRAME_SIZE  (17)\n-#define MAX_MESSAGE_SIZE  (128)\n-#define SG_LIST_ELEMENTS  (56)\n-\n-#define EMPTY_QUEUE           0xffffffff\n-#define I2O_INTERRUPT_PENDING_B   (0x08)\n-\n-#define PCI_DPT_VENDOR_ID         (0x1044)\t// DPT PCI Vendor ID\n-#define PCI_DPT_DEVICE_ID         (0xA501)\t// DPT PCI I2O Device ID\n-#define PCI_DPT_RAPTOR_DEVICE_ID  (0xA511)\t\n-\n-/* Debugging macro from Linux Device Drivers - Rubini */\n-#undef PDEBUG\n-#ifdef DEBUG\n-//TODO add debug level switch\n-#  define PDEBUG(fmt, args...)  printk(KERN_DEBUG \"dpti: \" fmt, ##args)\n-#  define PDEBUGV(fmt, args...) printk(KERN_DEBUG \"dpti: \" fmt, ##args)\n-#else\n-# define PDEBUG(fmt, args...) /* not debugging: nothing */\n-# define PDEBUGV(fmt, args...) /* not debugging: nothing */\n-#endif\n-\n-#define PERROR(fmt, args...) printk(KERN_ERR fmt, ##args)\n-#define PWARN(fmt, args...) printk(KERN_WARNING fmt, ##args)\n-#define PINFO(fmt, args...) printk(KERN_INFO fmt, ##args)\n-#define PCRIT(fmt, args...) printk(KERN_CRIT fmt, ##args)\n-\n-#define SHUTDOWN_SIGS\t(sigmask(SIGKILL)|sigmask(SIGINT)|sigmask(SIGTERM))\n-\n-// Command timeouts\n-#define FOREVER\t\t\t(0)\n-#define TMOUT_INQUIRY \t\t(20)\n-#define TMOUT_FLUSH\t\t(360/45)\n-#define TMOUT_ABORT\t\t(30)\n-#define TMOUT_SCSI\t\t(300)\n-#define TMOUT_IOPRESET\t\t(360)\n-#define TMOUT_GETSTATUS\t\t(15)\n-#define TMOUT_INITOUTBOUND\t(15)\n-#define TMOUT_LCT\t\t(360)\n-\n-\n-#define I2O_SCSI_DEVICE_DSC_MASK                0x00FF\n-\n-#define I2O_DETAIL_STATUS_UNSUPPORTED_FUNCTION  0x000A\n-\n-#define I2O_SCSI_DSC_MASK                   0xFF00\n-#define I2O_SCSI_DSC_SUCCESS                0x0000\n-#define I2O_SCSI_DSC_REQUEST_ABORTED        0x0200\n-#define I2O_SCSI_DSC_UNABLE_TO_ABORT        0x0300\n-#define I2O_SCSI_DSC_COMPLETE_WITH_ERROR    0x0400\n-#define I2O_SCSI_DSC_ADAPTER_BUSY           0x0500\n-#define I2O_SCSI_DSC_REQUEST_INVALID        0x0600\n-#define I2O_SCSI_DSC_PATH_INVALID           0x0700\n-#define I2O_SCSI_DSC_DEVICE_NOT_PRESENT     0x0800\n-#define I2O_SCSI_DSC_UNABLE_TO_TERMINATE    0x0900\n-#define I2O_SCSI_DSC_SELECTION_TIMEOUT      0x0A00\n-#define I2O_SCSI_DSC_COMMAND_TIMEOUT        0x0B00\n-#define I2O_SCSI_DSC_MR_MESSAGE_RECEIVED    0x0D00\n-#define I2O_SCSI_DSC_SCSI_BUS_RESET         0x0E00\n-#define I2O_SCSI_DSC_PARITY_ERROR_FAILURE   0x0F00\n-#define I2O_SCSI_DSC_AUTOSENSE_FAILED       0x1000\n-#define I2O_SCSI_DSC_NO_ADAPTER             0x1100\n-#define I2O_SCSI_DSC_DATA_OVERRUN           0x1200\n-#define I2O_SCSI_DSC_UNEXPECTED_BUS_FREE    0x1300\n-#define I2O_SCSI_DSC_SEQUENCE_FAILURE       0x1400\n-#define I2O_SCSI_DSC_REQUEST_LENGTH_ERROR   0x1500\n-#define I2O_SCSI_DSC_PROVIDE_FAILURE        0x1600\n-#define I2O_SCSI_DSC_BDR_MESSAGE_SENT       0x1700\n-#define I2O_SCSI_DSC_REQUEST_TERMINATED     0x1800\n-#define I2O_SCSI_DSC_IDE_MESSAGE_SENT       0x3300\n-#define I2O_SCSI_DSC_RESOURCE_UNAVAILABLE   0x3400\n-#define I2O_SCSI_DSC_UNACKNOWLEDGED_EVENT   0x3500\n-#define I2O_SCSI_DSC_MESSAGE_RECEIVED       0x3600\n-#define I2O_SCSI_DSC_INVALID_CDB            0x3700\n-#define I2O_SCSI_DSC_LUN_INVALID            0x3800\n-#define I2O_SCSI_DSC_SCSI_TID_INVALID       0x3900\n-#define I2O_SCSI_DSC_FUNCTION_UNAVAILABLE   0x3A00\n-#define I2O_SCSI_DSC_NO_NEXUS               0x3B00\n-#define I2O_SCSI_DSC_SCSI_IID_INVALID       0x3C00\n-#define I2O_SCSI_DSC_CDB_RECEIVED           0x3D00\n-#define I2O_SCSI_DSC_LUN_ALREADY_ENABLED    0x3E00\n-#define I2O_SCSI_DSC_BUS_BUSY               0x3F00\n-#define I2O_SCSI_DSC_QUEUE_FROZEN           0x4000\n-\n-\n-#ifndef TRUE\n-#define TRUE                  1\n-#define FALSE                 0\n-#endif\n-\n-#define HBA_FLAGS_INSTALLED_B       0x00000001\t// Adapter Was Installed\n-#define HBA_FLAGS_BLINKLED_B        0x00000002\t// Adapter In Blink LED State\n-#define HBA_FLAGS_IN_RESET\t0x00000040\t/* in reset */\n-#define HBA_HOSTRESET_FAILED\t0x00000080\t/* adpt_resethost failed */\n-\n-\n-// Device state flags\n-#define DPTI_DEV_ONLINE    0x00\n-#define DPTI_DEV_UNSCANNED 0x01\n-#define DPTI_DEV_RESET\t   0x02\n-#define DPTI_DEV_OFFLINE   0x04\n-\n-\n-struct adpt_device {\n-\tstruct adpt_device* next_lun;\n-\tu32\tflags;\n-\tu32\ttype;\n-\tu32\tcapacity;\n-\tu32\tblock_size;\n-\tu8\tscsi_channel;\n-\tu8\tscsi_id;\n-\tu64\tscsi_lun;\n-\tu8\tstate;\n-\tu16\ttid;\n-\tstruct i2o_device* pI2o_dev;\n-\tstruct scsi_device *pScsi_dev;\n-};\n-\n-struct adpt_channel {\n-\tstruct adpt_device* device[MAX_ID];\t/* used as an array of 128 scsi ids */\n-\tu8\tscsi_id;\n-\tu8\ttype;\n-\tu16\ttid;\n-\tu32\tstate;\n-\tstruct i2o_device* pI2o_dev;\n-};\n-\n-// HBA state flags\n-#define DPTI_STATE_RESET\t(0x01)\n-\n-typedef struct _adpt_hba {\n-\tstruct _adpt_hba *next;\n-\tstruct pci_dev *pDev;\n-\tstruct Scsi_Host *host;\n-\tu32 state;\n-\tspinlock_t state_lock;\n-\tint unit;\n-\tint host_no;\t\t/* SCSI host number */\n-\tu8 initialized;\n-\tu8 in_use;\t\t/* is the management node open*/\n-\n-\tchar name[32];\n-\tchar detail[55];\n-\n-\tvoid __iomem *base_addr_virt;\n-\tvoid __iomem *msg_addr_virt;\n-\tulong base_addr_phys;\n-\tvoid __iomem *post_port;\n-\tvoid __iomem *reply_port;\n-\tvoid __iomem *irq_mask;\n-\tu16  post_count;\n-\tu32  post_fifo_size;\n-\tu32  reply_fifo_size;\n-\tu32* reply_pool;\n-\tdma_addr_t reply_pool_pa;\n-\tu32  sg_tablesize;\t// Scatter/Gather List Size.       \n-\tu8  top_scsi_channel;\n-\tu8  top_scsi_id;\n-\tu64  top_scsi_lun;\n-\tu8  dma64;\n-\n-\ti2o_status_block* status_block;\n-\tdma_addr_t status_block_pa;\n-\ti2o_hrt* hrt;\n-\tdma_addr_t hrt_pa;\n-\ti2o_lct* lct;\n-\tdma_addr_t lct_pa;\n-\tuint lct_size;\n-\tstruct i2o_device* devices;\n-\tstruct adpt_channel channel[MAX_CHANNEL];\n-\tstruct proc_dir_entry* proc_entry;\t/* /proc dir */\n-\n-\tvoid __iomem *FwDebugBuffer_P;\t// Virtual Address Of FW Debug Buffer\n-\tu32   FwDebugBufferSize;\t// FW Debug Buffer Size In Bytes\n-\tvoid __iomem *FwDebugStrLength_P;// Virtual Addr Of FW Debug String Len\n-\tvoid __iomem *FwDebugFlags_P;\t// Virtual Address Of FW Debug Flags \n-\tvoid __iomem *FwDebugBLEDflag_P;// Virtual Addr Of FW Debug BLED\n-\tvoid __iomem *FwDebugBLEDvalue_P;// Virtual Addr Of FW Debug BLED\n-\tu32 FwDebugFlags;\n-\tu32 *ioctl_reply_context[4];\n-} adpt_hba;\n-\n-struct sg_simple_element {\n-   u32  flag_count;\n-   u32 addr_bus;\n-}; \n-\n-/*\n- * Function Prototypes\n- */\n-\n-static void adpt_i2o_sys_shutdown(void);\n-static int adpt_init(void);\n-static int adpt_i2o_build_sys_table(void);\n-static irqreturn_t adpt_isr(int irq, void *dev_id);\n-\n-static void adpt_i2o_report_hba_unit(adpt_hba* pHba, struct i2o_device *d);\n-static int adpt_i2o_query_scalar(adpt_hba* pHba, int tid, \n-\t\t\tint group, int field, void *buf, int buflen);\n-#ifdef DEBUG\n-static const char *adpt_i2o_get_class_name(int class);\n-#endif\n-static int adpt_i2o_issue_params(int cmd, adpt_hba* pHba, int tid, \n-\t\t  void *opblk, dma_addr_t opblk_pa, int oplen,\n-\t\t  void *resblk, dma_addr_t resblk_pa, int reslen);\n-static int adpt_i2o_post_wait(adpt_hba* pHba, u32* msg, int len, int timeout);\n-static int adpt_i2o_lct_get(adpt_hba* pHba);\n-static int adpt_i2o_parse_lct(adpt_hba* pHba);\n-static int adpt_i2o_activate_hba(adpt_hba* pHba);\n-static int adpt_i2o_enable_hba(adpt_hba* pHba);\n-static int adpt_i2o_install_device(adpt_hba* pHba, struct i2o_device *d);\n-static s32 adpt_i2o_post_this(adpt_hba* pHba, u32* data, int len);\n-static s32 adpt_i2o_quiesce_hba(adpt_hba* pHba);\n-static s32 adpt_i2o_status_get(adpt_hba* pHba);\n-static s32 adpt_i2o_init_outbound_q(adpt_hba* pHba);\n-static s32 adpt_i2o_hrt_get(adpt_hba* pHba);\n-static s32 adpt_scsi_to_i2o(adpt_hba* pHba, struct scsi_cmnd* cmd, struct adpt_device* dptdevice);\n-static void adpt_i2o_scsi_complete(void __iomem *reply, struct scsi_cmnd *cmd);\n-static s32 adpt_scsi_host_alloc(adpt_hba* pHba,struct scsi_host_template * sht);\n-static s32 adpt_hba_reset(adpt_hba* pHba);\n-static s32 adpt_i2o_reset_hba(adpt_hba* pHba);\n-static s32 adpt_rescan(adpt_hba* pHba);\n-static s32 adpt_i2o_reparse_lct(adpt_hba* pHba);\n-static s32 adpt_send_nop(adpt_hba*pHba,u32 m);\n-static void adpt_i2o_delete_hba(adpt_hba* pHba);\n-static void adpt_inquiry(adpt_hba* pHba);\n-static struct adpt_device* adpt_find_device(adpt_hba* pHba, u32 chan, u32 id, u64 lun);\n-static int adpt_install_hba(struct scsi_host_template* sht, struct pci_dev* pDev) ;\n-static int adpt_i2o_online_hba(adpt_hba* pHba);\n-static void adpt_i2o_post_wait_complete(u32, int);\n-static int adpt_i2o_systab_send(adpt_hba* pHba);\n-\n-static int adpt_ioctl(struct inode *inode, struct file *file, uint cmd, ulong arg);\n-static int adpt_open(struct inode *inode, struct file *file);\n-static int adpt_close(struct inode *inode, struct file *file);\n-\n-\n-#ifdef UARTDELAY\n-static void adpt_delay(int millisec);\n-#endif\n-\n-#define PRINT_BUFFER_SIZE     512\n-\n-#define HBA_FLAGS_DBG_FLAGS_MASK         0xffff0000\t// Mask for debug flags\n-#define HBA_FLAGS_DBG_KERNEL_PRINT_B     0x00010000\t// Kernel Debugger Print\n-#define HBA_FLAGS_DBG_FW_PRINT_B         0x00020000\t// Firmware Debugger Print\n-#define HBA_FLAGS_DBG_FUNCTION_ENTRY_B   0x00040000\t// Function Entry Point\n-#define HBA_FLAGS_DBG_FUNCTION_EXIT_B    0x00080000\t// Function Exit\n-#define HBA_FLAGS_DBG_ERROR_B            0x00100000\t// Error Conditions\n-#define HBA_FLAGS_DBG_INIT_B             0x00200000\t// Init Prints\n-#define HBA_FLAGS_DBG_OS_COMMANDS_B      0x00400000\t// OS Command Info\n-#define HBA_FLAGS_DBG_SCAN_B             0x00800000\t// Device Scan\n-\n-#define FW_DEBUG_STR_LENGTH_OFFSET 0\n-#define FW_DEBUG_FLAGS_OFFSET      4\n-#define FW_DEBUG_BLED_OFFSET       8\n-\n-#define FW_DEBUG_FLAGS_NO_HEADERS_B    0x01\n-#endif\t\t\t\t/* !HOSTS_C */\n-#endif\t\t\t\t/* _DPT_H */"
        }
      ],
      "file_patterns": {
        "security_files": 0,
        "config_files": 1,
        "dependency_files": 0,
        "test_files": 0,
        "unique_directories": 4,
        "max_directory_depth": 3
      },
      "context": {
        "surrounding_commits": [
          {
            "sha": "7f5b6a8ec18e3add4c74682f60b90c31bdf849f2",
            "date": "2025-01-14T19:32:14Z",
            "author_login": "torvalds"
          },
          {
            "sha": "c3812b15000cc5b7b17c7238f8b12f6a22df0b1d",
            "date": "2025-01-14T18:07:40Z",
            "author_login": "torvalds"
          },
          {
            "sha": "79a1d390f879563119bf2848b621bc7eed228c7d",
            "date": "2025-01-14T17:54:57Z",
            "author_login": "torvalds"
          },
          {
            "sha": "c45323b7560ec87c37c729b703c86ee65f136d75",
            "date": "2025-01-13T17:03:18Z",
            "author_login": "torvalds"
          },
          {
            "sha": "34c8e74cd6667ef5da90d448a1af702c4b873bd3",
            "date": "2025-01-13T08:52:08Z",
            "author_login": "YageGeng"
          }
        ]
      }
    }
  },
  "vulnerability_details": {
    "cvss_score": 7.8,
    "cvss_vector": "CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H",
    "cwe_id": "CWE-367",
    "description": "The specific flaw exists within the DPT I2O Controller driver. The issue results from the lack of proper locking when performing operations on an object. An attacker can leverage this in conjunction with other vulnerabilities to escalate privileges and execute arbitrary code in the context of the kernel.",
    "attack_vector": "LOCAL",
    "attack_complexity": "LOW"
  },
  "temporal_data": {
    "published_date": "2023-04-24T23:15:18.877",
    "last_modified": "2024-11-21T07:57:45.283",
    "fix_date": "2022-06-24T15:52:25Z"
  },
  "references": [
    {
      "url": "https://github.com/torvalds/linux/commit/b04e75a4a8a81887386a0d2dbf605a48e779d2a0",
      "source": "secalert@redhat.com",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://lists.debian.org/debian-lts-announce/2023/07/msg00030.html",
      "source": "secalert@redhat.com",
      "tags": [
        "Mailing List",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://lists.debian.org/debian-lts-announce/2023/10/msg00027.html",
      "source": "secalert@redhat.com",
      "tags": [
        "Mailing List",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://security.netapp.com/advisory/ntap-20240119-0011/",
      "source": "secalert@redhat.com",
      "tags": [
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://www.debian.org/security/2023/dsa-5480",
      "source": "secalert@redhat.com",
      "tags": [
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/torvalds/linux/commit/b04e75a4a8a81887386a0d2dbf605a48e779d2a0",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://lists.debian.org/debian-lts-announce/2023/07/msg00030.html",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Mailing List",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://lists.debian.org/debian-lts-announce/2023/10/msg00027.html",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Mailing List",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://security.netapp.com/advisory/ntap-20240119-0011/",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://www.debian.org/security/2023/dsa-5480",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Third Party Advisory"
      ]
    }
  ],
  "collection_metadata": {
    "collected_at": "2025-01-11T23:05:11.832494",
    "processing_status": "raw"
  },
  "repository_context": {
    "name": "linux",
    "owner": "torvalds",
    "created_at": "2011-09-04T22:48:12Z",
    "updated_at": "2025-01-14T12:39:03Z",
    "pushed_at": "2025-01-13T17:27:04Z",
    "size": 5361369,
    "stars": 185823,
    "forks": 54743,
    "open_issues": 437,
    "watchers": 185823,
    "has_security_policy": false,
    "default_branch": "master",
    "protected_branches": [],
    "languages": {
      "C": 1326937103,
      "Assembly": 9568292,
      "Shell": 5072004,
      "Python": 2974128,
      "Makefile": 2713905,
      "Perl": 1253637,
      "Rust": 807711,
      "Roff": 202277,
      "C++": 173382,
      "SmPL": 165946,
      "Yacc": 127472,
      "Lex": 71321,
      "Awk": 69539,
      "Jinja": 30138,
      "UnrealScript": 16848,
      "Gherkin": 10172,
      "M4": 3329,
      "MATLAB": 2482,
      "sed": 2433,
      "Clojure": 2411,
      "XS": 1239,
      "RPC": 962
    },
    "commit_activity": {
      "total_commits_last_year": 46007,
      "avg_commits_per_week": 884.75,
      "days_active_last_year": 359
    },
    "security_features": {
      "has_security_policy": false,
      "has_protected_branches": false,
      "has_wiki": false,
      "has_issues": false,
      "allow_forking": true,
      "is_template": false,
      "license": "other"
    },
    "collected_at": "2025-01-14T12:53:59.486675"
  }
}