{
  "cve_id": "CVE-2023-4448",
  "github_data": {
    "repository": "OpenRapid/rapidcms",
    "fix_commit": "4dff387283060961c362d50105ff8da8ea40bcbe",
    "related_commits": [
      "4dff387283060961c362d50105ff8da8ea40bcbe",
      "4dff387283060961c362d50105ff8da8ea40bcbe"
    ],
    "patch_url": "https://github.com/OpenRapid/rapidcms/commit/4dff387283060961c362d50105ff8da8ea40bcbe.patch",
    "fix_commit_details": {
      "sha": "4dff387283060961c362d50105ff8da8ea40bcbe",
      "commit_date": "2023-07-11T14:59:19Z",
      "author": {
        "login": "codewyx",
        "type": "User",
        "stats": null
      },
      "commit_message": {
        "title": "1.3.1.2",
        "length": 7,
        "has_description": false,
        "references_issue": false
      },
      "stats": {
        "total": 4101,
        "additions": 1324,
        "deletions": 2777
      },
      "files": [
        {
          "filename": "admin/about.php",
          "status": "removed",
          "additions": 0,
          "deletions": 71,
          "patch": "@@ -1,71 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-    * {\n-        font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-    }\n-</style>\n-<div class=\"medium\" style=\" text-align:center;display: flex;gap: 47px;\">\n-    <img style=\"Border-radius:10px\" width=\"200px\" src=\"../../../upload/logo.png\">\n-    <div>\n-        <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n-            <h1 style=\"font-weight: bold;\">RapidCMS</h1>\n-        </div>\n-        <div style=\"color:black;font-size: 10px;\" class=\"mdui-typo\">\n-            <h1>\u7b80\u5355\u597d\u7528\u7684\u5b98\u7f51CMS\u7cfb\u7edf</h1>\n-        </div>\n-    </div>\n-</div>\n-\n-<script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-<script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/admin_user/login.php",
          "status": "renamed",
          "additions": 0,
          "deletions": 25,
          "patch": "@@ -1,29 +1,4 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-  \n-}else{\n-    Header(\"Location: index.php\");\n-}\n \n ?>\n "
        },
        {
          "filename": "admin/admin_user/loginout.php",
          "status": "added",
          "additions": 11,
          "deletions": 0,
          "patch": "@@ -0,0 +1,11 @@\n+<?php\n+//Cookie\u6d88\u6389\n+setcookie(\"admin\", \"\", time()-3600,'/');\n+\n+//\u83b7\u53d6\u8fd4\u56de\u4f4d\u7f6e\n+\n+      $goto=\"login.php\";\n+\n+//\u76f4\u63a5\u8fd4\u56de\n+echo\"<script type=\".\"\\\"\".\"text/javascript\".\"\\\"\".\">\".\"window.location=\".\"\\\"\".$goto.\"\\\"\".\"</script>\";\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/admin_user/movepass.php",
          "status": "added",
          "additions": 41,
          "deletions": 0,
          "patch": "@@ -0,0 +1,41 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+        <div class=\"mdui-card\">\n+\n+            <div class=\"mdui-card-primary\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u4fee\u6539\u7ba1\u7406\u5458\u5bc6\u7801</div>\n+            </div>\n+            <form method=\"post\" action=\"run-movepass.php\">\n+                <m-scrollbar style=\"height: 300px;width:900px\">\n+                    <div class=\"mdui-card-content\" style=\"font-size:15px;text-align:left\">\n+                        <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n+                            <label class=\"mdui-textfield-label\">\u8f93\u5165\u5bc6\u7801</label>\n+                            <input class=\"mdui-textfield-input\" name=\"password\" type=\"password\"\n+                              required=\"\">\n+                              <div class=\"mdui-textfield-error\">\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</div>\n+                        </div>\n+                        <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n+                            <label class=\"mdui-textfield-label\">\u91cd\u590d\u5bc6\u7801</label>\n+                            <input class=\"mdui-textfield-input\" name=\"password2\" type=\"password\"\n+                               required=\"\">\n+                               <div class=\"mdui-textfield-error\">\u91cd\u590d\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</div>\n+                        </div>\n+                      \n+                        <button class=\"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent\">\u63d0\u4ea4</button>\n+\n+                    </div>\n+                </m-scrollbar>\n+            </form>\n+        </div>\n+       \n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/admin_user/run-movepass.php",
          "status": "renamed",
          "additions": 2,
          "deletions": 2,
          "patch": "@@ -1,9 +1,9 @@\n \n <?php\n-include(\"../resource/variable.php\");\n+include(\"../check.php\");\n \n header(\"Content-type:text/html;charset=utf-8\");\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n $dataxxx = json_decode($json_string, true);\n $link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword']);\n "
        },
        {
          "filename": "admin/admin_user/runlogin.php",
          "status": "renamed",
          "additions": 3,
          "deletions": 3,
          "patch": "@@ -1,8 +1,8 @@\n <?php\n-include(\"../resource/variable.php\");\n+include(\"../../variable.php\");\n \n header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n $dataxxx = json_decode($json_string, true);\n $link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n \n@@ -30,7 +30,7 @@ function encode($string = '', $skey = 'cxphp')\n         }\n \n setcookie(\"admin\", encode('admin',$password) ,time()+3600000,'/');\n-Header(\"Location: index.php\");\n+Header(\"Location: ../index.php\");\n \n \n       }else{ "
        },
        {
          "filename": "admin/article-add-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 44,
          "patch": "@@ -1,44 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-    $timenow = date('Y-m-d H:i:s');\n-    $cont2=rawurlencode(htmlspecialchars($_POST[\"content\"]));\n-      $str='INSERT INTO `rapidcmspage`(`id`, `title`, `content`, `time`, `categoryid`) VALUES (\"'.$_POST[\"id\"].'\",\"'.rawurlencode($_POST[\"title\"]).'\",\"'.$cont2.'\",\"'.$timenow.'\",\"'.$_POST[\"categoryid\"].'\")';\n-\n-\t  $result=mysqli_query($link,$str);\n-    sendalert(\"\u589e\u52a0\u6210\u529f\uff01\");\n-     \n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article-chat-delete.php",
          "status": "removed",
          "additions": 0,
          "deletions": 42,
          "patch": "@@ -1,42 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-\n-      $str=\"DELETE FROM `rapidcmschat` WHERE id='\".$_GET[\"id\"].\"'\";\n-\t  $result=mysqli_query($link,$str);\n-      echo \"<script>window.opener=null;window.open('','_self');window.close();</script>\";\n-    \n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article-del.php",
          "status": "removed",
          "additions": 0,
          "deletions": 41,
          "patch": "@@ -1,41 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-\n-      $str=\"DELETE FROM `rapidcmspage` WHERE id='\".$_GET[\"id\"].\"'\";\n-\t  $result=mysqli_query($link,$str);\n-      sendalert(\"\u5220\u9664\u6210\u529f\uff01\u8bf7\u5237\u65b0\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article-edit-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 44,
          "patch": "@@ -1,44 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-    $timenow = date('Y-m-d H:i:s');\n-    $cont2=rawurlencode(htmlspecialchars($_POST[\"content\"]));\n-       \n-    $str='  UPDATE `rapidcmspage` SET `title`=\"'.rawurlencode($_POST[\"title\"]).'\",`content`=\"'.$cont2.'\",`time`=\"'.$timenow.'\" WHERE `id`=\"'.$_POST[\"id\"].'\"';\n-\n-\t  $result=mysqli_query($link,$str);\n-      sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article/article-add-run.php",
          "status": "added",
          "additions": 22,
          "deletions": 0,
          "patch": "@@ -0,0 +1,22 @@\n+<?php\n+include(\"../check.php\");\n+\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+    $timenow = date('Y-m-d H:i:s');\n+    $cont2=rawurlencode(htmlspecialchars($_POST[\"content\"]));\n+      $str='INSERT INTO `rapidcmspage`(`id`, `title`, `content`, `time`, `categoryid`) VALUES (\"'.$_POST[\"id\"].'\",\"'.rawurlencode($_POST[\"title\"]).'\",\"'.$cont2.'\",\"'.$timenow.'\",\"'.$_POST[\"categoryid\"].'\")';\n+\t  $result=mysqli_query($link,$str);\n+    sendalert(\"\u589e\u52a0\u6210\u529f\uff01\");\n+     \n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article/article-add.php",
          "status": "renamed",
          "additions": 16,
          "deletions": 35,
          "patch": "@@ -1,27 +1,5 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n+include(\"../check.php\");\n ?>\n \n <!DOCTYPE html>\n@@ -37,7 +15,7 @@ function encode($string = '', $skey = 'cxphp')\n     <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n     <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n     <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n+\n \n     <style>\n         .editor {\n@@ -65,8 +43,16 @@ function encode($string = '', $skey = 'cxphp')\n         <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n     </div>\n \n-    <? include(\"drawer.php\"); ?>\n-    <script>\n+\n+    <? include(\"../drawer.php\"); ?>\n+\n+    <style>\n+        * {\n+            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n+        }\n+    </style>\n+   \n+   <script>\n         function randomString(length, ) {\n             var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n             var result = '';\n@@ -81,11 +67,6 @@ function resetnum() {\n             resetnum()\n         }\n     </script>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\">\n@@ -122,14 +103,14 @@ function resetnum() {\n                             header(\"Content-type:text/html;charset=utf-8\");\n                             $table_name = \"rapidcmscategory\";\n \n-                            $json_string = file_get_contents('../install/sql-config/sql.json');\n+                            $json_string = file_get_contents('../../install/sql-config/sql.json');\n                             $data = json_decode($json_string, true);\n                             $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n                             $sql = 'select * from `' . $table_name . '` ORDER BY num DESC';\n                             $res = mysqli_query($conn, $sql);\n                             $colums = mysqli_num_fields($res);\n                             while ($row = mysqli_fetch_row($res)) {\n-                                echo '<option value=\"' . $row[0] . '\">' . $row[1] . '</option>';\n+                                echo '<option value=\"' . $row[0] . '\">' .  urldecode($row[1]) . '</option>';\n                             }\n                             ?>\n                         </select>\n@@ -157,7 +138,7 @@ function resetnum() {\n         </div>\n \n     </div>\n-    <script src=\"mdui-editor/js/editor.js\"></script>\n+    <script src=\"../src/mdui-editor/js/editor.js\"></script>\n     <script>\n         function sub1(){\n             document.getElementById(\"area\").innerHTML= document.getElementById(\"content\").innerHTML;\n@@ -166,7 +147,7 @@ function sub1(){\n         var editor = new Editor('#toolbar', '#content', {\n             autoSave: true,\n             imageUploadUrl: 'upload.php',\n-            imageUploadSuffix: ['png'],\n+            imageUploadSuffix: ['png','jpg','gif','jpeg'],\n         });\n     </script>\n     <script src=\"../../../../../../resource/js/mtu.min.js\"></script>"
        },
        {
          "filename": "admin/article/article-chat-delete.php",
          "status": "added",
          "additions": 20,
          "deletions": 0,
          "patch": "@@ -0,0 +1,20 @@\n+<?php\n+include(\"../check.php\");\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+\n+      $str=\"DELETE FROM `rapidcmschat` WHERE id='\".$_GET[\"id\"].\"'\";\n+\t  $result=mysqli_query($link,$str);\n+      echo \"<script>window.opener=null;window.open('','_self');window.close();</script>\";\n+    \n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article/article-chat.php",
          "status": "renamed",
          "additions": 19,
          "deletions": 50,
          "patch": "@@ -1,30 +1,5 @@\n      <?php\n-\n-use PhpMyAdmin\\Charsets;\n-\n-        include(\"../resource/variable.php\");\n-        function encode($string = '', $skey = 'cxphp')\n-        {\n-            $strArr = str_split(base64_encode($string));\n-            $strCount = count($strArr);\n-            foreach (str_split($skey) as $key => $value)\n-                $key < $strCount && $strArr[$key] .= $value;\n-            return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-        }\n-\n-        define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-        define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-        $json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-        $dataxxx = json_decode($json_string, true);\n-        $link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-        $sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-        $result = mysqli_query($link, $sql);\n-        $pass = mysqli_fetch_row($result);\n-        $pa = $pass[0];\n-\n-        if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-            Header(\"Location: login.php\");\n-        }\n+        include(\"../check.php\");\n         ?>\n \n      <!DOCTYPE html>\n@@ -40,11 +15,8 @@ function encode($string = '', $skey = 'cxphp')\n          <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n          <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n          <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-         \n \n-         <link rel=\"stylesheet\" href=\"http://kindeditor.net/ke4/themes/default/default.css\" />\n-         <script charset=\"utf-8\" src=\"http://kindeditor.net/ke4/kindeditor-min.js\"></script>\n-         <script charset=\"utf-8\" src=\"http://kindeditor.net/ke4/lang/zh-CN.js\"></script>\n+\n          <script>\n              var editor;\n              KindEditor.ready(function(K) {\n@@ -58,12 +30,12 @@ function encode($string = '', $skey = 'cxphp')\n      </head>\n \n      <body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n+         <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n+             <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n+             <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n+         </div>\n \n-    <? include(\"drawer.php\"); ?>\n+         <? include(\"../drawer.php\"); ?>\n \n          <script>\n              function randomString(length, ) {\n@@ -72,8 +44,6 @@ function randomString(length, ) {\n                  for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n                  return result;\n              }\n-\n-\n          </script>\n          <script>\n              function copyText(text) {\n@@ -107,7 +77,7 @@ function sendaddgood(uid, articleid) {\n                  font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n              }\n          </style>\n-         <div class=\"mdui-container\"  id=\"page-question\" style=\"margin:auto;\">\n+         <div class=\"mdui-container\" id=\"page-question\" style=\"margin:auto;\">\n \n \n \n@@ -119,34 +89,33 @@ function sendaddgood(uid, articleid) {\n                 error_reporting(0);\n                 header(\"Content-type:text/html;charset=utf-8\");\n                 $table_name = \"rapidcmschat\";\n-                define('BASE_PATH2', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-                define('BASE_PATH3', str_replace('\\\\', '/', realpath(dirname(BASE_PATH2) . '/')) . \"/\");\n-                $json_string = file_get_contents(BASE_PATH3 . '/install/sql-config/sql.json');\n+\n+                $json_string = file_get_contents('../../install/sql-config/sql.json');\n                 $data = json_decode($json_string, true);\n                 $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n                 $sql = 'select * from `' . $table_name . '` WHERE articleid=\"' . $_GET[\"id\"] . '\" ORDER BY time DESC';\n                 $res = mysqli_query($conn, $sql);\n                 $colums = mysqli_num_fields($res);\n                 $row = mysqli_num_rows($res);\n-         \n-                    echo '<div class=\"mdui-card answers\">          <h1  style=\"text-align:center;\">\n+\n+                echo '<div class=\"mdui-card answers\">          <h1  style=\"text-align:center;\">\n                     \u6b64\u6587\u7ae0\u4e0b\u6240\u6709\u8bc4\u8bba</h1>  ';\n-        \n+\n \n                 while ($row = mysqli_fetch_row($res)) {\n-                    echo '<div class=\"item\" id=\"chat_'.$row[0].'\"><div class=\"mc-user-line\"><div class=\"mc-user-popover\"><a class=\"avatar user-popover-trigger\"><i class=\"mdui-list-item-icon mdui-icon material-icons\">people</i></a>    ';\n+                    echo '<div class=\"item\" id=\"chat_' . $row[0] . '\"><div class=\"mc-user-line\"><div class=\"mc-user-popover\"><a class=\"avatar user-popover-trigger\"><i class=\"mdui-list-item-icon mdui-icon material-icons\">people</i></a>    ';\n                     echo '<a class=\"username user-popover-trigger mdui-text-color-theme-text\">' . $row[1] . '</a>    ';\n                     echo '<div class=\"more\"><span class=\"time mdui-text-color-theme-secondary\" >' . $row[4] . '</span></div>';\n-                    echo '</div></div><div class=\"content mdui-typo\"><p>' . $row[2] . '</p>';\n+                    echo '</div></div><div class=\"content mdui-typo\"><p>' . urldecode($row[2]) . '<div class=\"mdui-typo-caption-opacity\">\u70b9\u8d5e\u6570\uff1a' . $row[3] . '</div></p>';\n                     echo '</div><div class=\"actions\"><div class=\"mc-vote\">    ';\n-                      echo '</div><div class=\"flex-grow\"></div><div class=\"mc-options-button\">    ';\n+                    echo '</div><div class=\"flex-grow\"></div><div class=\"mc-options-button\">    ';\n                     echo '<button mdui-menu=\"{target: \\'#attr_' . $row[0] . '\\',position:\\'top\\',align:\\'right\\',covered:false}\" class=\"mdui-btn mdui-btn-icon mdui-text-color-theme-icon mdui-ripple\"><i class=\"mdui-icon material-icons\">more_vert</i></button>    ';\n                     echo '<ul class=\"mdui-menu \" id=\"attr_' . $row[0] . '\" style=\"top: 7px; left: 597px; transform-origin: 100% 100%; position: absolute;\">    ';\n-                    echo '<li class=\"mdui-menu-item\"><a onclick=\"copyText(\\'' . $row[0] . '\\')\" class=\"mdui-ripple\">\u590d\u5236\u8bc4\u8bbaID</a></li><li class=\"mdui-menu-item\"><a target=\"_blank\" onclick=\"document.getElementById(\\'chat_'.$row[0].'\\').style.display=\\'none\\';\" href=\"article-chat-delete.php?id='.$row[0].'\" class=\"mdui-ripple\">\u5220\u9664\u8bc4\u8bba</a></li></ul></div></div></div>    ';\n+                    echo '<li class=\"mdui-menu-item\"><a onclick=\"copyText(\\'' . $row[0] . '\\')\" class=\"mdui-ripple\">\u590d\u5236\u8bc4\u8bbaID</a></li><li class=\"mdui-menu-item\"><a target=\"_blank\" onclick=\"document.getElementById(\\'chat_' . $row[0] . '\\').style.display=\\'none\\';\" href=\"article-chat-delete.php?id=' . $row[0] . '\" class=\"mdui-ripple\">\u5220\u9664\u8bc4\u8bba</a></li></ul></div></div></div>    ';\n                 }\n \n-                    echo '</div>';\n-             \n+                echo '</div>';\n+\n \n                 ?>\n "
        },
        {
          "filename": "admin/article/article-del.php",
          "status": "added",
          "additions": 19,
          "deletions": 0,
          "patch": "@@ -0,0 +1,19 @@\n+<?php\n+include(\"../check.php\");\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+\n+      $str=\"DELETE FROM `rapidcmspage` WHERE id='\".$_GET[\"id\"].\"'\";\n+\t  $result=mysqli_query($link,$str);\n+      sendalert(\"\u5220\u9664\u6210\u529f\uff01\u8bf7\u5237\u65b0\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article/article-edit-run.php",
          "status": "added",
          "additions": 22,
          "deletions": 0,
          "patch": "@@ -0,0 +1,22 @@\n+<?php\n+include(\"../check.php\");\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+    $timenow = date('Y-m-d H:i:s');\n+    $cont2=rawurlencode(htmlspecialchars($_POST[\"content\"]));\n+       \n+    $str='  UPDATE `rapidcmspage` SET `title`=\"'.rawurlencode($_POST[\"title\"]).'\",`content`=\"'.$cont2.'\",`time`=\"'.$timenow.'\" WHERE `id`=\"'.$_POST[\"id\"].'\"';\n+\n+\t  $result=mysqli_query($link,$str);\n+      sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article/article-edit.php",
          "status": "renamed",
          "additions": 11,
          "deletions": 33,
          "patch": "@@ -1,27 +1,5 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n+include(\"../check.php\");\n ?>\n \n <!DOCTYPE html>\n@@ -66,7 +44,7 @@ function encode($string = '', $skey = 'cxphp')\n     </div>\n \n \n-    <? include(\"drawer.php\"); ?>\n+    <? include(\"../drawer.php\"); ?>\n \n     <style>\n         * {\n@@ -101,15 +79,15 @@ function encode($string = '', $skey = 'cxphp')\n                             error_reporting(0);\n                             header(\"Content-type:text/html;charset=utf-8\");\n                             $table_name = \"rapidcmspage\";\n-                            $json_string = file_get_contents('../install/sql-config/sql.json');\n+                            $json_string = file_get_contents('../../install/sql-config/sql.json');\n                             $data = json_decode($json_string, true);\n                             $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n                             $sql = 'select * from `' . $table_name . '` WHERE `id`= \\''.$_GET[\"id\"].'\\'';\n                        \n                             $res = mysqli_query($conn, $sql);\n                             $colums = mysqli_num_fields($res);\n                             while ($row = mysqli_fetch_row($res)) {\n-                                echo $row[1];\n+                                echo urldecode($row[1]);\n                             }\n \n                             ?>\" type=\"text\" name=\"title\" required=\"\">\n@@ -125,17 +103,17 @@ function encode($string = '', $skey = 'cxphp')\n                             error_reporting(0);\n                             header(\"Content-type:text/html;charset=utf-8\");\n                             $table_name = \"rapidcmscategory\";\n-                            $json_string = file_get_contents('../install/sql-config/sql.json');\n+                            $json_string = file_get_contents('../../install/sql-config/sql.json');\n                             $data = json_decode($json_string, true);\n                             $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n                             $sql = 'select * from `' . $table_name . '` ORDER BY num DESC';\n                             $res = mysqli_query($conn, $sql);\n                             $colums = mysqli_num_fields($res);\n                             while ($row = mysqli_fetch_row($res)) {\n                                 if ($row[0] == $cat3) {\n-                                    echo '<option selected=\"selected\" value=\"' . $row[0] . '\">' . $row[1] . '</option>';\n+                                    echo '<option selected=\"selected\" value=\"' . $row[0] . '\">' . urldecode($row[1]) . '</option>';\n                                 } else {\n-                                    echo '<option value=\"' . $row[0] . '\">' . $row[1] . '</option>';\n+                                    echo '<option value=\"' . $row[0] . '\">' .  urldecode($row[1]) . '</option>';\n                                 }\n                             }\n                             ?>\n@@ -166,16 +144,16 @@ function encode($string = '', $skey = 'cxphp')\n         </div>\n \n     </div>\n-    <script src=\"mdui-editor/js/editor.js\"></script>\n+    <script src=\"../src/mdui-editor/js/editor.js\"></script>\n     <script>\n-        function sub1() {\n-            document.getElementById(\"area\").innerHTML = document.getElementById(\"content\").innerHTML;\n+        function sub1(){\n+            document.getElementById(\"area\").innerHTML= document.getElementById(\"content\").innerHTML;\n             document.getElementById(\"form\").submit()\n         }\n         var editor = new Editor('#toolbar', '#content', {\n             autoSave: true,\n             imageUploadUrl: 'upload.php',\n-            imageUploadSuffix: ['png'],\n+            imageUploadSuffix: ['png','jpg','gif','jpeg'],\n         });\n     </script>\n     <script src=\"../../../../../../resource/js/mtu.min.js\"></script>"
        },
        {
          "filename": "admin/article/article.php",
          "status": "renamed",
          "additions": 4,
          "deletions": 56,
          "patch": "@@ -1,54 +1,7 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n+include(\"../header.php\");\n \n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <script type=\"text/javascript\" language=\"javascript\"> \n+?>  <script type=\"text/javascript\" language=\"javascript\"> \n function confirmAct() \n { \n   if(confirm('\u786e\u5b9a\u8981\u5220\u9664\u5417?')) \n@@ -59,11 +12,6 @@ function confirmAct()\n } \n \n </script> \n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\" style=\"overflow:scroll\">\n@@ -90,7 +38,7 @@ function confirmAct()\n                             <?php\n                             $table_name = \"rapidcmspage\";\n \n-                            $json_string = file_get_contents('../install/sql-config/sql.json');\n+                            $json_string = file_get_contents('../../install/sql-config/sql.json');\n                             $data = json_decode($json_string, true);\n                             $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n                             $sql = 'select * from `' . $table_name . '`';\n@@ -100,7 +48,7 @@ function confirmAct()\n                                 echo \"<tr>\";\n                                 echo \"</tr>\";\n                                 echo \"<td>$row[0]</td>\";\n-                                echo \"<td>$row[1]</td>\";\n+                                echo \"<td>\".urldecode($row[1]).\"</td>\";\n                                 echo \"<td>$row[3]</td>\";\n                                 echo \"<td>$row[4]</td>\";\n                                 echo '<td><a href=\"article-edit.php?id='.$row[0].'&name='.urlencode($row[1]).'\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a>';"
        },
        {
          "filename": "admin/article/run-tool.php",
          "status": "added",
          "additions": 30,
          "deletions": 0,
          "patch": "@@ -0,0 +1,30 @@\n+<?php\n+include(\"../check.php\");\n+$data1 = array();\n+if ($_POST[\"tool\"] == \"on\") {\n+    $data1['tool'] = \"true\";\n+} else {\n+    $data1['tool'] = \"false\";\n+}\n+$data1['kind'] = $_POST[\"kind\"];\n+if ($_POST[\"kind\"] == \"one\") {\n+    $data1['content'] = '<center><p id=\"hitokoto\"><a style=\"color:#000000\" href=\"#\" id=\"hitokoto_text\">\u83b7\u53d6\u4e2d...</a></p></center><script>fetch(\\'https://v1.hitokoto.cn\\').then(response => response.json()).then(data => {const hitokoto = document.querySelector(\\'#hitokoto_text\\');hitokoto.href = \\'https://hitokoto.cn/?uuid=\\' + data.uuid;\n+        if (data.from_who == null) {\n+        hitokoto.innerHTML = \"\u300c \" + data.hitokoto + \" \u300d<br>\u2014\u2014\" + data.from;\n+        }else {\n+        hitokoto.innerHTML = \"\u300c \" + data.hitokoto + \" \u300d<br>\u2014\u2014\" + data.from_who + \"\u300c\" + data.from + \"\u300d\"\n+        }}).catch(console.error)\n+        </script>';\n+} else if ($_POST[\"kind\"] == \"time\") {\n+    $data1['content'] = '<center><a  id=\"time_is_link\" rel=\"nofollow\" style=\"display:none\"></a><span id=\"China_z43d\" style=\"font-size:25px;\"></span><script src=\"https://widget.time.is/t.js\"></script><script>time_is_widget.init({China_z43d:{}});</script></center>';\n+} else {\n+    $data1['content'] = $_POST[\"content\"];\n+}\n+\n+\n+$json_string1 = json_encode($data1);\n+$filename1 = '../../resource/config/tool.json';\n+$fp1 = fopen($filename1, \"w\");\n+$len1 = fwrite($fp1, $json_string1);\n+fclose($fp1);\n+echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"tool.php\\\"</script>\";"
        },
        {
          "filename": "admin/article/tool.php",
          "status": "added",
          "additions": 78,
          "deletions": 0,
          "patch": "@@ -0,0 +1,78 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+\n+<div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+    <div class=\"mdui-card\">\n+\n+        <div class=\"mdui-card-primary\">\n+            <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u5c0f\u7ec4\u4ef6\u8bbe\u7f6e</div>\n+        </div>\n+        <form method=\"post\" action=\"run-tool.php\">\n+            <m-scrollbar style=\"height: 620px;width:900px\">\n+                <div class=\"mdui-card-content\" style=\"font-size:15px;text-align:left\">\n+\n+                    <label class=\"mdui-switch\">\n+                        \u5f00\u542f\u5c0f\u7ec4\u4ef6&nbsp;&nbsp;&nbsp;\n+                        <input <?\n+                                if ($data_tool[\"tool\"]  == \"true\") {\n+                                    echo \" checked='true'\";\n+                                }\n+                                ?> name=\"tool\" type=\"checkbox\" />\n+                        <i class=\"mdui-switch-icon\"></i>\n+                    </label> <br>\n+                    <label class=\"mdui-textfield-label\">\u9009\u62e9\u5c0f\u7ec4\u4ef6</label>\n+                    <select class=\"mdui-select\" name=\"kind\" id=\"kind\" onchange=\"kindmove()\" mdui-select>\n+                        <?\n+\n+                        if ($data_tool[\"kind\"] == \"one\") {\n+                            echo ' <option value=\"one\" selected>\u4e00\u8a00</option>';\n+                            echo '   <option value=\"time\" >\u65f6\u95f4</option>';\n+                            echo '   <option value=\"write\" >\u81ea\u5b9a\u4e49</option>';\n+                        } else if ($data_tool[\"kind\"] == \"time\") {\n+                            echo ' <option value=\"one\" >\u4e00\u8a00</option>';\n+                            echo '   <option value=\"time\" selected>\u65f6\u95f4</option>';\n+                            echo '   <option value=\"write\" >\u81ea\u5b9a\u4e49</option>';\n+                        } else {\n+                            echo ' <option value=\"one\" >\u4e00\u8a00</option>';\n+                            echo '   <option value=\"time\" >\u65f6\u95f4</option>';\n+                            echo '   <option value=\"write\" selected>\u81ea\u5b9a\u4e49</option>';\n+                        }\n+                        ?>\n+\n+\n+                    </select> <br> <br>\n+                    <div id=\"con\" style=\"display:none\" class=\"mdui-textfield  mdui-textfield-has-bottom \">\n+                        <label class=\"mdui-textfield-label\">\u8f93\u5165\u5185\u5bb9</label>\n+\n+\n+                        <textarea rows=\"7\" class=\"mdui-textfield-input\" name=\"content\" type=\"text\" required=\"\"><? echo $data_tool[\"content\"]; ?></textarea>\n+                    </div>\n+                    <br>\n+                    <button class=\"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent\">\u63d0\u4ea4</button>\n+\n+                </div>\n+            </m-scrollbar>\n+        </form>\n+    </div>\n+\n+</div>\n+<script>\n+    function kindmove() {\n+        if (document.getElementById(\"kind\").value == \"write\") {\n+            document.getElementById(\"con\").style.display = \"inline\";\n+        } else {\n+            document.getElementById(\"con\").style.display = \"none\";\n+        }\n+    }\n+    window.onload = () => {\n+        kindmove()\n+    }\n+</script>\n+<script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+<script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/article/upload.php",
          "status": "added",
          "additions": 28,
          "deletions": 0,
          "patch": "@@ -0,0 +1,28 @@\n+<?php\n+function isImage($imgPath){\n+if($imgPath==\"jpg\"||$imgPath==\"png\"||$imgPath==\"gif\"||$imgPath==\"jpeg\"){\n+return true;\n+}else{\n+  return false;\n+}\n+}\n+\n+$fileInfo = $_FILES['file'];\n+$name = $fileInfo['name'];\n+$pathname = pathinfo($name)[\"extension\"];\n+$filename =  pathinfo($name, PATHINFO_FILENAME);\n+$filePath = $fileInfo['tmp_name'];\n+if(isImage($pathname)==false){\n+  exit;\n+}\n+ //$name = iconv('utf-8', 'gb2312', $filename);\n+  $str = rand();\n+  $path = \"../../upload/upload_\" . md5($str) . \".\" . $pathname;\n+  move_uploaded_file($filePath, $path);\n+  echo json_encode([\n+    \"code\" => 0,\n+    \"data\" => [\n+      \"url\" => $path,\n+      \"name\" => $name\n+    ]\n+  ]);\n\\ No newline at end of file"
        },
        {
          "filename": "admin/backzip/backup.zip",
          "status": "removed",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "admin/cate-add-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 42,
          "patch": "@@ -1,42 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-\n-      $str='INSERT INTO `rapidcmscategory`(`id`, `name`, `pic`, `num`) VALUES (\"'.$_POST[\"id\"].'\",\"'.rawurlencode($_POST[\"name\"]).'\",\"'.$_POST[\"pic\"].'\",'.$_POST[\"num\"].')';\n-\n-\t  $result=mysqli_query($link,$str);\n-      sendalert(\"\u589e\u52a0\u6210\u529f\uff01\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/cate-add.php",
          "status": "removed",
          "additions": 0,
          "deletions": 121,
          "patch": "@@ -1,121 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-<script>\n-    function randomString(length,) {\n-        var chars='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n-    var result = '';\n-    for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n-    return result;\n-}\n-function resetnum(){\n-    document.getElementById(\"ranid\").value=randomString(10);\n-}\n-window.onload = function () {\n-    resetnum()\n-}\n-\n-\n-    </script>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-        <div class=\"mdui-card\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u5206\u7c7b\u8bbe\u7f6e</div>\n-            </div>\n-           \n-                <m-scrollbar style=\"height: 800px;width:900px;text-align:left \">\n-                <div id=\"login\" class=\"mc-account mc-login mdui-dialog mdui-dialog-open \" style=\"overflow: hidden;z-index:999;display: block; top: 150.104px; height: 700px;\">\n-                <button class=\"mdui-btn mdui-btn-icon close\" onclick=\"window.location.href='category.php'\"><i class=\"mdui-icon material-icons\">close</i></button>\n- \n-<div class=\"mdui-dialog-title\">\u65b0\u589e</div>\n-<form method=\"post\" action=\"cate-add-run.php\">\n-\n-    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n-        <label class=\"mdui-textfield-label\">\u552f\u4e00ID\uff0810\u4f4d\u5b57\u7b26\uff09</label>\n-    <input class=\"mdui-textfield-input\" style=\"width:90%\" type=\"text\" name=\"id\" id=\"ranid\" value=\"onload\" required=\"\">\n-  <i   style=\"cursor:pointer;position: absolute;left: 92%\" onclick=\"resetnum(10)\" class=\"mdui-icon material-icons\">&#xe5d5;</i>\n-</div>\n-    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n-        <label class=\"mdui-textfield-label\">\u540d\u79f0</label>\n-    <input class=\"mdui-textfield-input\" type=\"text\" name=\"name\" required=\"\"></div>\n-    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n-        <label class=\"mdui-textfield-label\">\u56fe\u6807ID\uff08\u5728MDUI\u4e2d\u83b7\u53d6&#XXXX;\uff09</label>\n-    <input class=\"mdui-textfield-input\" style=\"width:90%\" type=\"text\" name=\"pic\" required=\"\">\n-    <i   style=\"cursor:pointer;position: absolute;left: 92%\" onclick=\"window.open('https://www.mdui.org/docs/material_icon')\" class=\"mdui-icon material-icons\">&#xe250;</i>\n-    </div>\n-    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n-        <label class=\"mdui-textfield-label\">\u6743\u91cd\uff08\u5927\u7684\u5728\u524d\u9762\uff09</label>\n-    <input class=\"mdui-textfield-input\" type=\"number\" name=\"num\" required=\"\"></div>\n-\n-    <div class=\"actions mdui-clearfix\">\n-       <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button>\n-    </div>\n-</form>\n-</div>\n-                </m-scrollbar>\n-  \n-        </div>\n-\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n-\n-\n-"
        },
        {
          "filename": "admin/cate-del.php",
          "status": "removed",
          "additions": 0,
          "deletions": 41,
          "patch": "@@ -1,41 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-\n-      $str=\"DELETE FROM `rapidcmscategory` WHERE id='\".$_GET[\"id\"].\"'\";\n-\t  $result=mysqli_query($link,$str);\n-      sendalert(\"\u5220\u9664\u6210\u529f\uff01\u8bf7\u5237\u65b0\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/cate-edit-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 42,
          "patch": "@@ -1,42 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-  \n-      $str='  UPDATE `rapidcmscategory` SET `name`=\"'.rawurlencode($_POST[\"name\"]).'\",`pic`=\"'.$_POST[\"pic\"].'\",`num`='.$_POST[\"num\"].' WHERE `id`=\"'.$_POST[\"id\"].'\"';\n-        echo $str;\n-\t  $result=mysqli_query($link,$str);\n-      sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/category/cate-add-run.php",
          "status": "added",
          "additions": 21,
          "deletions": 0,
          "patch": "@@ -0,0 +1,21 @@\n+<?php\n+include(\"../check.php\");\n+\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+\n+      $str='INSERT INTO `rapidcmscategory`(`id`, `name`, `pic`, `num`) VALUES (\"'.$_POST[\"id\"].'\",\"'.rawurlencode($_POST[\"name\"]).'\",\"'.$_POST[\"pic\"].'\",'.$_POST[\"num\"].')';\n+\n+\t  $result=mysqli_query($link,$str);\n+      sendalert(\"\u589e\u52a0\u6210\u529f\uff01\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/category/cate-add.php",
          "status": "added",
          "additions": 71,
          "deletions": 0,
          "patch": "@@ -0,0 +1,71 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+\n+\n+<script>\n+    function randomString(length, ) {\n+        var chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'\n+        var result = '';\n+        for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n+        return result;\n+    }\n+\n+    function resetnum() {\n+        document.getElementById(\"ranid\").value = randomString(10);\n+    }\n+    window.onload = function() {\n+        resetnum()\n+    }\n+</script>\n+<div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+    <div class=\"mdui-card\">\n+\n+        <div class=\"mdui-card-primary\">\n+            <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u5206\u7c7b\u8bbe\u7f6e</div>\n+        </div>\n+\n+        <m-scrollbar style=\"height: 800px;width:900px;text-align:left \">\n+            <div id=\"login\" class=\"mc-account mc-login mdui-dialog mdui-dialog-open \" style=\"overflow: hidden;z-index:999;display: block; top: 150.104px; height: 700px;\">\n+                <button class=\"mdui-btn mdui-btn-icon close\" onclick=\"window.location.href='category.php'\"><i class=\"mdui-icon material-icons\">close</i></button>\n+\n+                <div class=\"mdui-dialog-title\">\u65b0\u589e</div>\n+                <form method=\"post\" action=\"cate-add-run.php\">\n+\n+                    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n+                        <label class=\"mdui-textfield-label\">\u552f\u4e00ID\uff0810\u4f4d\u5b57\u7b26\uff09</label>\n+                        <input class=\"mdui-textfield-input\" style=\"width:90%\" type=\"text\" name=\"id\" id=\"ranid\" value=\"onload\" required=\"\">\n+                        <i style=\"cursor:pointer;position: absolute;left: 92%\" onclick=\"resetnum(10)\" class=\"mdui-icon material-icons\">&#xe5d5;</i>\n+                    </div>\n+                    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n+                        <label class=\"mdui-textfield-label\">\u540d\u79f0</label>\n+                        <input class=\"mdui-textfield-input\" type=\"text\" name=\"name\" required=\"\">\n+                    </div>\n+                    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n+                        <label class=\"mdui-textfield-label\">\u56fe\u6807ID\uff08\u5728MDUI\u4e2d\u83b7\u53d6&#XXXX;\uff09</label>\n+                        <input class=\"mdui-textfield-input\" style=\"width:90%\" type=\"text\" name=\"pic\" required=\"\">\n+                        <i style=\"cursor:pointer;position: absolute;left: 92%\" onclick=\"window.open('https://www.mdui.org/docs/material_icon')\" class=\"mdui-icon material-icons\">&#xe250;</i>\n+                    </div>\n+                    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n+                        <label class=\"mdui-textfield-label\">\u6743\u91cd\uff08\u5927\u7684\u5728\u524d\u9762\uff09</label>\n+                        <input class=\"mdui-textfield-input\" type=\"number\" name=\"num\" required=\"\">\n+                    </div>\n+\n+                    <div class=\"actions mdui-clearfix\">\n+                        <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button>\n+                    </div>\n+                </form>\n+            </div>\n+        </m-scrollbar>\n+\n+    </div>\n+\n+</div>\n+\n+<script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+<script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/category/cate-del.php",
          "status": "added",
          "additions": 20,
          "deletions": 0,
          "patch": "@@ -0,0 +1,20 @@\n+<?php\n+include(\"../check.php\");\n+\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+\n+      $str=\"DELETE FROM `rapidcmscategory` WHERE id='\".$_GET[\"id\"].\"'\";\n+\t  $result=mysqli_query($link,$str);\n+      sendalert(\"\u5220\u9664\u6210\u529f\uff01\u8bf7\u5237\u65b0\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/category/cate-edit-run.php",
          "status": "added",
          "additions": 21,
          "deletions": 0,
          "patch": "@@ -0,0 +1,21 @@\n+<?php\n+include(\"../check.php\");\n+\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+  \n+      $str='  UPDATE `rapidcmscategory` SET `name`=\"'.rawurlencode($_POST[\"name\"]).'\",`pic`=\"'.$_POST[\"pic\"].'\",`num`='.$_POST[\"num\"].' WHERE `id`=\"'.$_POST[\"id\"].'\"';\n+      \n+\t  $result=mysqli_query($link,$str);\n+      sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/category/cate-edit.php",
          "status": "renamed",
          "additions": 4,
          "deletions": 53,
          "patch": "@@ -1,35 +1,14 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH2',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH3',str_replace('\\\\','/',realpath(dirname(BASE_PATH2).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH3.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n+include(\"../header.php\");\n \n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n ?>\n+\n         <?php\n error_reporting(0);\n header(\"Content-type:text/html;charset=utf-8\");\n $table_name = \"rapidcmscategory\";\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n+\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n $data = json_decode($json_string, true);\n $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n $sql = 'select * from `'.$table_name .'` WHERE id=\"'.$_GET[\"id\"].'\"';\n@@ -42,35 +21,7 @@ function encode($string = '', $skey = 'cxphp')\n }\n \n ?>\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n \n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\">"
        },
        {
          "filename": "admin/category/category.php",
          "status": "renamed",
          "additions": 4,
          "deletions": 52,
          "patch": "@@ -1,53 +1,10 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n+include(\"../header.php\");\n \n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n ?>\n \n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n \n-    <? include(\"drawer.php\"); ?>\n-    <script type=\"text/javascript\" language=\"javascript\"> \n+<script type=\"text/javascript\" language=\"javascript\"> \n function confirmAct() \n { \n   if(confirm('\u786e\u5b9a\u8981\u5220\u9664\u5417?')) \n@@ -58,11 +15,6 @@ function confirmAct()\n } \n \n </script> \n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\" style=\"overflow:scroll\">\n@@ -88,7 +40,7 @@ function confirmAct()\n \n                     <?php\n                     $table_name = \"rapidcmscategory\";\n-                    $json_string = file_get_contents('../install/sql-config/sql.json');\n+                    $json_string = file_get_contents('../../install/sql-config/sql.json');\n                     $data = json_decode($json_string, true);\n                     $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n                     $sql = 'select * from `' . $table_name . '`';\n@@ -98,7 +50,7 @@ function confirmAct()\n                        echo \"<tr>\";\n                         echo \"</tr>\";\n                         echo \"<td>$row[0]</td>\";\n-                        echo \"<td>$row[1]</td>\";\n+                        echo \"<td>\".urldecode($row[1]).\"</td>\";\n                         echo \"<td><i class='mdui-list-item-icon mdui-icon material-icons'>$row[2]</i></td>\";\n                         echo \"<td>$row[3]</td>\";\n                         echo '<td><a href=\"cate-edit.php?id='.$row[0].'\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a>';"
        },
        {
          "filename": "admin/check.php",
          "status": "added",
          "additions": 24,
          "deletions": 0,
          "patch": "@@ -0,0 +1,24 @@\n+<?php\n+include(\"../../resource/variable.php\");\n+function encode($string = '', $skey = 'cxphp')\n+{\n+    $strArr = str_split(base64_encode($string));\n+    $strCount = count($strArr);\n+    foreach (str_split($skey) as $key => $value)\n+        $key < $strCount && $strArr[$key] .= $value;\n+    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n+}\n+\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n+$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n+$result = mysqli_query($link, $sql);\n+$pass = mysqli_fetch_row($result);\n+$pa = $pass[0];\n+\n+if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n+    Header(\"Location: ../admin_user/login.php\");\n+}\n+\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/config/mail.php",
          "status": "renamed",
          "additions": 1,
          "deletions": 55,
          "patch": "@@ -1,58 +1,4 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple  mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n+<? include(\"../header.php\"); ?>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\">"
        },
        {
          "filename": "admin/config/rewrite.php",
          "status": "renamed",
          "additions": 1,
          "deletions": 54,
          "patch": "@@ -1,57 +1,4 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-\n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary:79, 55, 139; --color-accent: 79, 55, 139;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n+<? include(\"../header.php\"); ?>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\">"
        },
        {
          "filename": "admin/config/run-close.php",
          "status": "added",
          "additions": 19,
          "deletions": 0,
          "patch": "@@ -0,0 +1,19 @@\n+<?php\n+include(\"../check.php\");\n+\n+$data1 = array();\n+if($_POST[\"close\"]==\"on\"){\n+    $data1['close'] = \"true\";\n+}else{\n+    $data1['close'] = \"false\";\n+}\n+$data1['template'] = $data_index[\"template\"];\n+$data1['version'] = $data_index[\"version\"];\n+$data1['rewrite'] = $data_index[\"rewrite\"];\n+\n+$json_string1 = json_encode($data1);\n+$filename1 = '../../resource/config/index.json';\n+$fp1 = fopen($filename1, \"w\");\n+$len1 = fwrite($fp1, $json_string1);\n+fclose($fp1);\n+echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"server.php\\\"</script>\";\n\\ No newline at end of file"
        },
        {
          "filename": "admin/config/run-mail.php",
          "status": "added",
          "additions": 20,
          "deletions": 0,
          "patch": "@@ -0,0 +1,20 @@\n+<?php\n+include(\"../check.php\");\n+\n+$data1 = array();\n+if($_POST[\"logonwithmail\"]==\"on\"){\n+    $data1['logonwithmail'] = \"true\";\n+}else{\n+    $data1['logonwithmail'] = \"false\";\n+}\n+$data1['smtp'] = $_POST[\"smtp\"];\n+$data1['secure'] = $_POST[\"secure\"];\n+$data1['port'] = $_POST[\"port\"];\n+$data1['username'] = $_POST[\"username\"];\n+$data1['password'] = $_POST[\"password\"];\n+$json_string1 = json_encode($data1);\n+$filename1 = '../../resource/config/mail.json';\n+$fp1 = fopen($filename1, \"w\");\n+$len1 = fwrite($fp1, $json_string1);\n+fclose($fp1);\n+echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"mail.php\\\"</script>\";\n\\ No newline at end of file"
        },
        {
          "filename": "admin/config/run-rewrite.php",
          "status": "added",
          "additions": 19,
          "deletions": 0,
          "patch": "@@ -0,0 +1,19 @@\n+<?php\n+include(\"../check.php\");\n+\n+$data1 = array();\n+if($_POST[\"rewrite\"]==\"on\"){\n+    $data1['rewrite'] = \"true\";\n+}else{\n+    $data1['rewrite'] = \"false\";\n+}\n+$data1['template'] = $data_index[\"template\"];\n+$data1['version'] = $data_index[\"version\"];\n+$data1['close'] = $data_index[\"close\"];\n+\n+$json_string1 = json_encode($data1);\n+$filename1 = '../../resource/config/index.json';\n+$fp1 = fopen($filename1, \"w\");\n+$len1 = fwrite($fp1, $json_string1);\n+fclose($fp1);\n+echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"rewrite.php\\\"</script>\";"
        },
        {
          "filename": "admin/config/run-setting.php",
          "status": "added",
          "additions": 16,
          "deletions": 0,
          "patch": "@@ -0,0 +1,16 @@\n+<?php\n+include(\"../check.php\");\n+$data1 = array();\n+$data1['headname'] = $_POST[\"headname\"];\n+$data1['title'] = $_POST[\"title\"];\n+$data1['icon'] =  $data_header[\"icon\"];\n+$data1['description'] = $_POST[\"description\"];\n+$data1['keywords'] = $_POST[\"keywords\"];\n+$data1['introduce'] = $_POST[\"introduce\"];\n+$data1['con'] = $_POST[\"con\"];\n+$json_string1 = json_encode($data1);\n+$filename1 = '../../resource/config/header.json';\n+$fp1 = fopen($filename1, \"w\");\n+$len1 = fwrite($fp1, $json_string1);\n+fclose($fp1);\n+echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"setting.php\\\"</script>\";\n\\ No newline at end of file"
        },
        {
          "filename": "admin/config/server.php",
          "status": "added",
          "additions": 34,
          "deletions": 0,
          "patch": "@@ -0,0 +1,34 @@\n+<? include(\"../header.php\"); ?>\n+    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+\n+        <div class=\"mdui-card\" style=\"width:900px\">\n+\n+            <div class=\"mdui-card-primary\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u7f51\u7ad9\u670d\u52a1\u8bbe\u7f6e</div>\n+            </div>\n+            <form method=\"post\" action=\"run-close.php\">\n+            <div class=\"mdui-card-content\" style=\"font-size:15px;text-align:left\">\n+            <label class=\"mdui-switch\">\n+                            \u542f\u7528\u7f51\u9875\u7ef4\u62a4&nbsp;&nbsp;&nbsp;\n+                            <input <?\n+                                    if ($data_index[\"close\"]  == \"true\") {\n+                                        echo \" checked='true'\";\n+                                    }\n+                                    ?> name=\"close\" type=\"checkbox\" />\n+                            <i class=\"mdui-switch-icon\"></i>\n+                        </label> \n+                        <br> <br>\n+                        <button class=\"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent\">\u786e\u8ba4</button>\n+                  \n+            </div>\n+            </form>\n+        </div>\n+        <br>\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/config/setting.php",
          "status": "renamed",
          "additions": 1,
          "deletions": 53,
          "patch": "@@ -1,57 +1,5 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n+<? include(\"../header.php\"); ?>\n \n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary:79, 55, 139; --color-accent: 79, 55, 139;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n     <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n \n         <div class=\"mdui-card\">"
        },
        {
          "filename": "admin/config/uploadicon.php",
          "status": "renamed",
          "additions": 4,
          "deletions": 4,
          "patch": "@@ -1,5 +1,5 @@\n <?php\n-include(\"../resource/variable.php\");\n+include(\"../check.php\");\n \n $fileInfo = $_FILES['file'];\n $name = $fileInfo['name'];\n@@ -43,7 +43,7 @@ function isImg($fileName)\n   //$name = iconv('utf-8', 'gb2312', $filename);\n   $str = rand();\n   $path1 = \"upload/upload_\" . md5($str) . \".\" . $pathname;\n-  $path = \"../\" . $path1;\n+  $path = \"../../\" . $path1;\n   move_uploaded_file($filePath, $path);\n \n \n@@ -56,12 +56,12 @@ function isImg($fileName)\n   $data1['introduce'] = $data_header[\"introduce\"];\n   $data1['con'] = $data_header[\"con\"];\n   $json_string1 = json_encode($data1);\n-  $filename1 = '../resource/config/header.json';\n+  $filename1 = '../../resource/config/header.json';\n   $fp1 = fopen($filename1, \"w\");\n   $len1 = fwrite($fp1, $json_string1);\n   fclose($fp1);\n \n-  sendalert(\"\u4e0a\u4f20\u6210\u529f\");\n+  echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"setting.php\\\"</script>\";\n \n }\n "
        },
        {
          "filename": "admin/download-plugin.php",
          "status": "removed",
          "additions": 0,
          "deletions": 100,
          "patch": "@@ -1,100 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../plugin/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div class=\"medium\" style=\" text-align:center;display: flex\">\n-\n-        <div>\n-            <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n-                <h1 style=\"font-weight: bold;\">\u63d2\u4ef6\u83b7\u53d6</h1>\n-                <h5>\u63d2\u4ef6\u540d\u79f0\uff1a<?php echo $_GET[\"name\"]; ?> </h5>\n-                \n-                <br>\n-\n-\n-                <?php\n-\n-$arrContextOptions=array(\n-    \"ssl\"=>array(\n-        \"verify_peer\"=>false,\n-        \"verify_peer_name\"=>false,\n-    ),\n-);  \n-file_put_contents(\"../plugin/\".$_GET[\"name\"].\".zip\", file_get_contents(\"http://cdn.jsdelivr.net/gh/codewyx/cmscdn/plugin/\".$_GET[\"name\"].\".zip\", false, stream_context_create($arrContextOptions)));\n-            \n-                require_once('pclzip.lib.php');\n-\n-                $zip = new PclZip(\"../plugin/\".$_GET[\"name\"].\".zip\");\n-                $result = $zip->extract(PCLZIP_OPT_PATH, \"../plugin/\");\n-                if ($result == 0) {\n-                    echo '<br>\u8f93\u5165\u9519\u8bef';\n-                    unlink(\"../plugin/\" . $_GET[\"name\"] . \".zip\");\n-                } else {\n-                    echo '<br>\u5bfc\u5165\u6210\u529f';\n-                    unlink(\"../plugin/\" . $_GET[\"name\"] . \".zip\");\n-                }\n-\n-                ?>\n-            </div>\n-\n-        </div>\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/download-template.php",
          "status": "removed",
          "additions": 0,
          "deletions": 100,
          "patch": "@@ -1,100 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div class=\"medium\" style=\" text-align:center;display: flex\">\n-\n-        <div>\n-            <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n-                <h1 style=\"font-weight: bold;\">\u6a21\u677f\u83b7\u53d6</h1>\n-                <h5>\u6a21\u677f\u540d\u79f0\uff1a<?php echo $_GET[\"name\"]; ?> </h5>\n-                \n-                <br>\n-\n-\n-                <?php\n-\n-$arrContextOptions=array(\n-    \"ssl\"=>array(\n-        \"verify_peer\"=>false,\n-        \"verify_peer_name\"=>false,\n-    ),\n-);  \n-file_put_contents(\"../template/\".$_GET[\"name\"].\".zip\", file_get_contents(\"http://cdn.jsdelivr.net/gh/codewyx/cmscdn/\".$_GET[\"name\"].\".zip\", false, stream_context_create($arrContextOptions)));\n-            \n-                require_once('pclzip.lib.php');\n-\n-                $zip = new PclZip(\"../template/\" .$_GET[\"name\"].\".zip\");\n-                $result = $zip->extract(PCLZIP_OPT_PATH, \"../template/\");\n-                if ($result == 0) {\n-                    echo '<br>\u8f93\u5165\u9519\u8bef';\n-                    unlink(\"../template/\" . $_GET[\"name\"] . \".zip\");\n-                } else {\n-                    echo '<br>\u5bfc\u5165\u6210\u529f';\n-                    unlink(\"../template/\" . $_GET[\"name\"] . \".zip\");\n-                }\n-\n-                ?>\n-            </div>\n-\n-        </div>\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/drawer.php",
          "status": "modified",
          "additions": 36,
          "deletions": 24,
          "patch": "@@ -1,7 +1,7 @@\n \n <div style=\"color:black;\" class=\"mdui-drawer mdui-drawer-open mc-drawer\" id=\"drawer\">\n     <ul class=\"mdui-list\">\n-        <a href=\"index.php\">\n+        <a href=\"../../admin/index.php\">\n             <li class=\"mdui-list-item mdui-ripple\" style=\"font-size:15px!important\">\n                 <i class=\"mdui-list-item-icon mdui-icon material-icons\">&#xe88a;</i>\n                 <div class=\"mdui-list-item-content\" style=\"font-size:15px!important\">\u9996\u9875</div>\n@@ -19,17 +19,17 @@\n                     </li>\n                 </div>\n                 <div class=\"mdui-collapse-item-body mdui-list\">\n-                <a href=\"setting.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u57fa\u672c\u8bbe\u7f6e</a>\n-                <a href=\"server.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u670d\u52a1\u8bbe\u7f6e</a>\n-                <a href=\"mail.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u90ae\u4ef6\u8bbe\u7f6e</a>\n-                <a href=\"rewrite.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u4f2a\u9759\u6001\u8bbe\u7f6e</a>\n+                <a href=\"../../admin/config/setting.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u57fa\u672c\u8bbe\u7f6e</a>\n+                <a href=\"../../admin/config/server.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u670d\u52a1\u8bbe\u7f6e</a>\n+                <a href=\"../../admin/config/mail.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u90ae\u4ef6\u8bbe\u7f6e</a>\n+                <a href=\"../../admin/config/rewrite.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u4f2a\u9759\u6001\u8bbe\u7f6e</a>\n                 </div>\n             </div>\n         </div>\n \n         <div class=\"mdui-divider\"></div>\n \n-        <a href=\"user.php\">\n+        <a href=\"../../admin/user/user.php\">\n             <li class=\"mdui-list-item mdui-ripple\" style=\"font-size:15px!important\">\n             <i class=\"mdui-list-item-icon mdui-icon material-icons\">&#xe853;</i>\n                 <div class=\"mdui-list-item-content\" style=\"font-size:15px!important\">\u7528\u6237</div>\n@@ -47,8 +47,8 @@\n                     </li>\n                 </div>\n                 <div class=\"mdui-collapse-item-body mdui-list\">\n-                <a href=\"category.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u67e5\u770b\u5206\u7c7b</a>\n-                <a href=\"cate-add.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u65b0\u589e\u5206\u7c7b</a>\n+                <a href=\"../../admin/category/category.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u67e5\u770b\u5206\u7c7b</a>\n+                <a href=\"../../admin/category/cate-add.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u65b0\u589e\u5206\u7c7b</a>\n                 </div>\n             </div>\n         </div>\n@@ -65,34 +65,46 @@\n                     </li>\n                 </div>\n                 <div class=\"mdui-collapse-item-body mdui-list\">\n-                <a href=\"article.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u67e5\u770b\u6587\u7ae0</a>\n-                <a href=\"article-add.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u65b0\u589e\u6587\u7ae0</a>\n-                <a href=\"tool.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u5c0f\u7ec4\u4ef6</a>\n+                <a href=\"../../admin/article/article.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u67e5\u770b\u6587\u7ae0</a>\n+                <a href=\"../../admin/article/article-add.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u65b0\u589e\u6587\u7ae0</a>\n+                <a href=\"../../admin/article/tool.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u5c0f\u7ec4\u4ef6</a>\n                 </div>\n             </div>\n         </div>\n \n-        <a href=\"temp.php\">\n+        <a href=\"../../admin/function/temp.php\">\n             <li class=\"mdui-list-item mdui-ripple\" style=\"font-size:15px!important\">\n                 <i class=\"mdui-list-item-icon mdui-icon material-icons\">&#xeb3f;</i>\n                 <div class=\"mdui-list-item-content\" style=\"font-size:15px!important\">\u6a21\u677f</div>\n             </li>\n         </a>\n         \n-        <a href=\"plugin.php\">\n+        <a href=\"../../admin/function/plugin.php\">\n             <li class=\"mdui-list-item mdui-ripple\" style=\"font-size:15px!important\">\n                 <i class=\"mdui-list-item-icon mdui-icon material-icons\">&#xe8b0;</i>\n                 <div class=\"mdui-list-item-content\" style=\"font-size:15px!important\">\u63d2\u4ef6</div>\n             </li>\n         </a>\n \n         <div class=\"mdui-divider\"></div>\n-        <a href=\"movepass.php\">\n-            <li class=\"mdui-list-item mdui-ripple\" style=\"font-size:15px!important\">\n-                <i class=\"mdui-list-item-icon mdui-icon material-icons\">&#xe22b;</i>\n-                <div class=\"mdui-list-item-content\" style=\"font-size:15px!important\">\u4fee\u6539\u5bc6\u7801</div>\n-            </li>\n-        </a>\n+        <div class=\"mdui-collapse\" mdui-collapse>\n+            <div class=\"mdui-collapse-item\">\n+                <div class=\"mdui-collapse-item-header\">\n+                    <li class=\"mdui-collapse-item-header mdui-list-item mdui-ripple\" style=\"font-size:15px!important\">\n+                    <i class=\"mdui-list-item-icon mdui-icon material-icons\">assignment_ind</i>\n+                        <div class=\"mdui-list-item-content\" style=\"font-size:15px!important\">\u8d26\u6237</div>\n+                        <div class=\"mdui-collapse-item-arrow\">\n+                            <i class=\"mdui-collapse-item-arrow mdui-icon material-icons\">keyboard_arrow_down</i>\n+                        </div>\n+                    </li>\n+                </div>\n+                <div class=\"mdui-collapse-item-body mdui-list\">\n+                <a href=\"../../admin/admin_user/movepass.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u4fee\u6539\u5bc6\u7801</a>\n+                <a href=\"../../admin/admin_user/loginout.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u9000\u51fa\u767b\u5f55</a>\n+                </div>\n+            </div>\n+        </div>\n+\n         <div class=\"mdui-collapse\" mdui-collapse>\n             <div class=\"mdui-collapse-item\">\n                 <div class=\"mdui-collapse-item-header\">\n@@ -105,17 +117,17 @@\n                     </li>\n                 </div>\n                 <div class=\"mdui-collapse-item-body mdui-list\">\n-                <a href=\"update.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u68c0\u67e5\u66f4\u65b0</a>\n-                <a href=\"plus.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u9ad8\u7ea7\u529f\u80fd</a>\n-                <a href=\"about.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u5173\u4e8e</a>\n+                <a href=\"../../admin/system/update.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u68c0\u67e5\u66f4\u65b0</a>\n+                <a href=\"../../admin/function/plus.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u9ad8\u7ea7\u529f\u80fd</a>\n+                <a href=\"../../admin/system/about.php\" style=\"padding-left: 72px;\" class=\"mdui-list-item mdui-ripple\">\u5173\u4e8e</a>\n                 </div>\n             </div>\n         </div>\n-\n+      \n     </ul>\n     <div class=\"mdui-typo\" style=\"   padding: 20px 16px;\">\n         <h4> <small>\u00a9 2023 RapidTeam</small><br> <small>Powered by RapidTeam\n             </small></h4>\n \n     </div>\n-</div>\n\\ No newline at end of file\n+</div>"
        },
        {
          "filename": "admin/function/backzip/backup.zip",
          "status": "added",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "admin/function/download-plugin.php",
          "status": "added",
          "additions": 48,
          "deletions": 0,
          "patch": "@@ -0,0 +1,48 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <div class=\"medium\" style=\" text-align:center;display: flex\">\n+\n+        <div>\n+            <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n+                <h1 style=\"font-weight: bold;\">\u63d2\u4ef6\u83b7\u53d6</h1>\n+                <h5>\u63d2\u4ef6\u540d\u79f0\uff1a<?php echo $_GET[\"name\"]; ?> </h5>\n+                \n+                <br>\n+\n+\n+                <?php\n+\n+$arrContextOptions=array(\n+    \"ssl\"=>array(\n+        \"verify_peer\"=>false,\n+        \"verify_peer_name\"=>false,\n+    ),\n+);  \n+file_put_contents(\"../../plugin/\".$_GET[\"name\"].\".zip\", file_get_contents(\"http://cdn.jsdelivr.net/gh/codewyx/cmscdn/plugin/\".$_GET[\"name\"].\".zip\", false, stream_context_create($arrContextOptions)));\n+            \n+require_once('../src/pclzip.lib.php');\n+\n+                $zip = new PclZip(\"../plugin/\".$_GET[\"name\"].\".zip\");\n+                $result = $zip->extract(PCLZIP_OPT_PATH, \"../plugin/\");\n+                if ($result == 0) {\n+                    echo '<br>\u8f93\u5165\u9519\u8bef';\n+                    unlink(\"../../plugin/\" . $_GET[\"name\"] . \".zip\");\n+                } else {\n+                    echo '<br>\u5bfc\u5165\u6210\u529f';\n+                    unlink(\"../../plugin/\" . $_GET[\"name\"] . \".zip\");\n+                }\n+\n+                ?>\n+            </div>\n+\n+        </div>\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/download-template.php",
          "status": "added",
          "additions": 48,
          "deletions": 0,
          "patch": "@@ -0,0 +1,48 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <div class=\"medium\" style=\" text-align:center;display: flex\">\n+\n+        <div>\n+            <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n+                <h1 style=\"font-weight: bold;\">\u6a21\u677f\u83b7\u53d6</h1>\n+                <h5>\u6a21\u677f\u540d\u79f0\uff1a<?php echo $_GET[\"name\"]; ?> </h5>\n+                \n+                <br>\n+\n+\n+                <?php\n+\n+$arrContextOptions=array(\n+    \"ssl\"=>array(\n+        \"verify_peer\"=>false,\n+        \"verify_peer_name\"=>false,\n+    ),\n+);  \n+file_put_contents(\"../../template/\".$_GET[\"name\"].\".zip\", file_get_contents(\"http://cdn.jsdelivr.net/gh/codewyx/cmscdn/\".$_GET[\"name\"].\".zip\", false, stream_context_create($arrContextOptions)));\n+            \n+                require_once('../src/pclzip.lib.php');\n+\n+                $zip = new PclZip(\"../../template/\" .$_GET[\"name\"].\".zip\");\n+                $result = $zip->extract(PCLZIP_OPT_PATH, \"../template/\");\n+                if ($result == 0) {\n+                    echo '<br>\u8f93\u5165\u9519\u8bef';\n+                    unlink(\"../../template/\" . $_GET[\"name\"] . \".zip\");\n+                } else {\n+                    echo '<br>\u5bfc\u5165\u6210\u529f';\n+                    unlink(\"../../template/\" . $_GET[\"name\"] . \".zip\");\n+                }\n+\n+                ?>\n+            </div>\n+\n+        </div>\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/plugin-del.php",
          "status": "added",
          "additions": 19,
          "deletions": 0,
          "patch": "@@ -0,0 +1,19 @@\n+<?php\n+include(\"../check.php\");\n+function removeDir($dirName)\n+{\n+    if (!is_dir($dirName)) {\n+        return false;\n+    }\n+    $handle = @opendir($dirName);\n+    while (($file = @readdir($handle)) !== false) {\n+        if ($file != '.' && $file != '..') {\n+            $dir = $dirName . '/' . $file;\n+            is_dir($dir) ? removeDir($dir) : @unlink($dir);\n+        }\n+    }\n+    closedir($handle);\n+    @rmdir($dirName);\n+}\n+removeDir('../../plugin/' . $_GET[\"id\"]);\n+echo \"<script type='text/javascript'>window.location.href='plugin.php'</script>\";\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/plugin-move.php",
          "status": "added",
          "additions": 28,
          "deletions": 0,
          "patch": "@@ -0,0 +1,28 @@\n+<?php\n+include(\"../check.php\");\n+$json_string=file_get_contents('../../plugin/'. $_GET[\"id\"].\"/version.json\");\n+$row = json_decode($json_string, true);\n+if($row[\"use\"]==true){\n+    $data = array();\n+    $data['key'] =$row[\"key\"];\n+    $data['name'] = $row[\"name\"];\n+    $data['version'] = $row[\"version\"];\n+    $data['author'] = $row[\"author\"];\n+    $data['use'] = false;\n+    $json_string = json_encode($data);\n+    \n+    file_put_contents('../../plugin/'. $_GET[\"id\"].\"/version.json\", $json_string);\n+\n+   }else{\n+    $data = array();\n+    $data['key'] =$row[\"key\"];\n+    $data['name'] = $row[\"name\"];\n+    $data['version'] = $row[\"version\"];\n+    $data['author'] = $row[\"author\"];\n+    $data['use'] = true;\n+    $json_string = json_encode($data);\n+    \n+    file_put_contents('../../plugin/'. $_GET[\"id\"].\"/version.json\", $json_string);\n+   }\n+   echo \"<script type='text/javascript'>window.location.href='plugin.php'</script>\"\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/plugin.php",
          "status": "added",
          "additions": 120,
          "deletions": 0,
          "patch": "@@ -0,0 +1,120 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+<script type=\"text/javascript\" language=\"javascript\">\n+    function confirmAct() {\n+        if (confirm('\u786e\u5b9a\u8981\u5220\u9664\u63d2\u4ef6\u5417?')) {\n+            return true;\n+        }\n+        return false;\n+    }\n+\n+    function confirmAct1() {\n+        if (confirm('\u786e\u5b9a\u8981\u7981\u7528\u63d2\u4ef6\u5417?')) {\n+            return true;\n+        }\n+        return false;\n+    }\n+\n+    function confirmAct2() {\n+        if (confirm('\u786e\u5b9a\u8981\u542f\u7528\u63d2\u4ef6\u5417?')) {\n+            return true;\n+        }\n+        return false;\n+    }\n+</script>\n+<div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+    <div class=\"mdui-card\" style=\"overflow:scroll\">\n+\n+        <div class=\"mdui-card-primary\">\n+            <div class=\"mdui-card-primary-title\" style=\"font-size:30px;\">\u63d2\u4ef6\u8bbe\u7f6e</div>\n+\n+        </div>\n+        <div class=\"mdui-divider\"></div> <br>\n+        <m-scrollbar style=\"height: 650px;width:900px;\">\n+\n+            <form method=\"get\" action=\"download-plugin.php\" style=\"text-align:left;padding:0 0 0 250px\">\n+                <div style=\"  display: flex;gap: 47px;\">\n+\n+                    <div>\u8f93\u5165Key\u52a0\u8f7d\u63d2\u4ef6\uff1a<input style=\"width:300px\" class=\"mdui-textfield-input\" name=\"name\" type=\"text\" value=\"\" required=\"\"> </div>\n+                    <div><button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button><br><br>\n+                    </div>\n+\n+\n+\n+\n+                </div>\n+            </form>\n+            <br>\n+            <div class=\"mdui-divider\"></div> <br>\n+            <div style=\"width:90%;position: absolute;left: 50%;    transform: translateX(-50%  );\" class=\"mdui-table-fluid\">\n+\n+                <table class=\"mdui-table\">\n+                    <thead>\n+                        <tr>\n+                            <th>ID-Key</th>\n+                            <th>\u540d\u79f0</th>\n+                            <th>\u7248\u672c</th>\n+                            <th>\u4f5c\u8005</th>\n+                            <th>\u72b6\u6001</th>\n+                            <th class=\"mdui-table-col-numeric\"> </th>\n+                        </tr>\n+                    </thead>\n+                    <tbody>\n+\n+                        <?php\n+\n+\n+\n+\n+                        $file = scandir(\"../../plugin\");\n+\n+                        for ($i = 2; $i < count($file); $i++) {\n+                            if ($file[$i] == \".gitkeep\") {\n+                            } else {\n+                                $json_string = file_get_contents('../../plugin/' . $file[$i] . \"/version.json\");\n+                                $row = json_decode($json_string, true);\n+                                echo \"<tr>\";\n+                                echo \"</tr>\";\n+                                echo \"<td>\" . $row[\"key\"] . \"</td>\";\n+                                echo \"<td>\" . $row[\"name\"] . \"</td>\";\n+                                echo \"<td>\" . $row[\"version\"] . \"</td>\";\n+                                echo \"<td>\" . $row[\"author\"] . \"</td>\";\n+                                if ($row[\"use\"] == true) {\n+                                    echo \"<td style='color:green'><strong>\u542f\u7528</strong></td>\";\n+                                    echo '<td><a target=\"_blank\" href=\"' . '../../plugin/' . $file[$i] . \"/setting.php\" . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a>';\n+                                    echo '<a onclick=\"return confirmAct1();\" href=\"plugin-move.php?id=' . $file[$i] . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe644;</i></button></a>';\n+                                } else {\n+                                    echo \"<td style='color:red'><strong>\u7981\u7528</strong></td>\";\n+                                    echo '<td><a target=\"_blank\" href=\"' . '../../plugin/' . $file[$i] . \"/setting.php\" . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a>';\n+                                    echo '<a onclick=\"return confirmAct2();\" href=\"plugin-move.php?id=' . $file[$i] . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe86c;</i></button></a>';\n+                                }\n+\n+\n+                                echo '<a onclick=\"return confirmAct();\" href=\"plugin-del.php?id=' . $file[$i] . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe872;</i></button></a>&nbsp;';\n+\n+                                echo \"</td>\";\n+                            }\n+                        }\n+\n+\n+\n+                        ?>\n+\n+\n+                    </tbody>\n+                </table>\n+            </div>\n+        </m-scrollbar>\n+\n+    </div>\n+\n+</div>\n+\n+<script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+<script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/plus-back-run.php",
          "status": "renamed",
          "additions": 3,
          "deletions": 25,
          "patch": "@@ -2,29 +2,7 @@\n deldir('./backzip/');\n rmdir('./backzip/');\n \n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n+include(\"../check.php\");\n $ran12 = rand() * 10;\n $dir = './backup/';\n mkdir($dir);\n@@ -34,7 +12,7 @@ function encode($string = '', $skey = 'cxphp')\n header(\"Content-type:text/html;charset=utf-8\");\n \n \n-$json_string = file_get_contents(BASE_PATH1 . 'install/sql-config/sql.json');\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n $data = json_decode($json_string, true);\n $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n $sql = 'select * from `rapidcmschat` ORDER BY time DESC';\n@@ -119,7 +97,7 @@ function deldir($path)\n $dir1 = 'backzip';\n mkdir($dir1);\n chmod($dir1, 0755);\n-copydir(\"../resource/config\", $dir . \"config\");\n+copydir(\"../../resource/config\", $dir . \"config\");\n \n \n "
        },
        {
          "filename": "admin/function/plus-back-upload-sql.php",
          "status": "renamed",
          "additions": 3,
          "deletions": 2,
          "patch": "@@ -1,6 +1,7 @@\n <?php\n-include(\"../resource/variable.php\");\n-require_once('pclzip.lib.php');\n+\n+include(\"../check.php\");\n+require_once('../src/pclzip.lib.php');\n \n \n $json_string = file_get_contents('../install/sql-config/sql.json');"
        },
        {
          "filename": "admin/function/plus-back-upload.php",
          "status": "renamed",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -1,5 +1,5 @@\n <?php\n-require_once('pclzip.lib.php');\n+require_once('../src/pclzip.lib.php');\n $fileInfo = $_FILES['file'];\n $name = $fileInfo['name'];\n $pathname = pathinfo($name)[\"extension\"];"
        },
        {
          "filename": "admin/function/plus-shark-run.php",
          "status": "renamed",
          "additions": 3,
          "deletions": 2,
          "patch": "@@ -1,9 +1,10 @@\n <?php\n-include(\"../resource/variable.php\");\n+\n+include(\"../check.php\");\n error_reporting(0);\n header(\"Content-type:text/html;charset=utf-8\");\n $table_name = \"sk_content\";\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n $data = json_decode($json_string, true);\n $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n $sql = 'select * from `' . $table_name . '`';"
        },
        {
          "filename": "admin/function/plus-shark.php",
          "status": "added",
          "additions": 37,
          "deletions": 0,
          "patch": "@@ -0,0 +1,37 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <br><br>\n+    <div style=\" position:  relative;left:15%\">\n+        <div class=\"mdui-card\" style=\"width:70%;height:300px; \">\n+            <div class=\"mdui-card-primary\" style=\"text-align:center;\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u4eceSharkCMS\u8fc1\u79fb\u6570\u636e</div>\n+            </div>\n+            <br>\n+            <label class=\"mdui-textfield-label\">&nbsp;&nbsp;&nbsp;\u9009\u62e9\u5bfc\u5165\u65b9\u5f0f</label>\n+            &nbsp;&nbsp;&nbsp;\n+            <label class=\"mdui-radio\">\n+                <input type=\"radio\" name=\"group1\" checked />\n+                <i class=\"mdui-radio-icon\"></i>\n+                \u4ece\u672c\u7a0b\u5e8f\u6240\u5728\u6570\u636e\u5e93\u5bfc\u5165\n+            </label>\n+\n+            <label class=\"mdui-radio\">\n+                <input type=\"radio\" name=\"group1\" disabled />\n+                <i class=\"mdui-radio-icon\"></i>\n+                \u4ece\u5176\u4ed6\u6570\u636e\u5e93\u5bfc\u5165\uff08\u6682\u4e0d\u652f\u6301\uff09\n+            </label>\n+            <br>  <br>\n+            &nbsp;&nbsp;&nbsp;<a href=\"plus-shark-run.php\"><button name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-text-color-black action-btn\">\u4e00\u952e\u5bfc\u5165\u6587\u7ae0</button></a>\n+       \n+        </div>\n+    </div>\n+    <br>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/plus.php",
          "status": "added",
          "additions": 40,
          "deletions": 0,
          "patch": "@@ -0,0 +1,40 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <br><br>\n+    <div style=\" position:  relative;left:15%\">\n+        <div class=\"mdui-card\" style=\"width:70%;height:300px; \">\n+            <div class=\"mdui-card-primary\" style=\"text-align:center;\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u6570\u636e\u8bbe\u7f6e</div>\n+            </div>\n+            <div class=\"mdui-tab\" mdui-tab>\n+                <a href=\"#move1\" class=\"mdui-ripple\">\u5907\u4efd\u6570\u636e</a>\n+                <a href=\"#move2\" class=\"mdui-ripple\">\u5bfc\u5165\u5907\u4efd</a>\n+           <a href=\"#move3\" class=\"mdui-ripple\">\u8fc1\u79fb\u6570\u636e</a> \n+            </div>\n+            <div id=\"move1\" class=\"mdui-p-a-2\">\n+            <label class=\"mdui-textfield-label\">\u5907\u4efd\u7cfb\u7edf\u6570\u636e\uff0c\u6811\u7acb\u5b89\u5168\u610f\u8bc6</label>\n+               \n+                <a href=\"plus-back-run.php\"><button name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u5907\u4efd\u6570\u636e</button></a>\n+           </div>\n+            <div id=\"move2\" class=\"mdui-p-a-2\">\n+            <label class=\"mdui-textfield-label\">\u914d\u7f6e\u6587\u4ef6\u6682\u4e0d\u652f\u6301\uff0c\u8bf7\u89e3\u538b\u540e\u624b\u52a8\u590d\u5236\u7c98\u8d34</label>\n+            \n+           <!--    <form enctype=\"multipart/form-data\" id=\"fileupdateform\" method=\"post\" action=\"plus-back-upload-sql.php\"><button for=\"file\" onclick=\"document.getElementById('file').click()\" type=\"button\" style=\"color:black\" class=\"mdui-btn mdui-btn-raised  action-btn\">\u5bfc\u5165.sql\u6587\u4ef6</button><br>                    <input style=\"display: none;\" onchange=\"document.getElementById('fileupdateform').submit()\"   name=\"file\"  id=\"file\" type=\"file\" required=\"\"></form>\n+    --></div>\n+           <div id=\"move3\" class=\"mdui-p-a-2\">\n+            <label class=\"mdui-textfield-label\">\u8fc1\u79fb\u5176\u4ed6\u6570\u636e\uff0c\u4fbf\u6377\u5bfc\u5165\u5185\u5bb9</label>\n+                   <a href=\"plus-shark.php\"><button name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-text-color-black action-btn\">\u4eceSharkCMS\u8fc1\u79fb\u6570\u636e</button></a>\n+       \n+            </div>\n+         </div>\n+    </div>\n+    <br>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/temp-run.php",
          "status": "added",
          "additions": 13,
          "deletions": 0,
          "patch": "@@ -0,0 +1,13 @@\n+<?php\n+include(\"../check.php\");\n+$data1 = array();\n+$data1['template'] = $_POST[\"template\"];\n+$data1['version'] = $data_index[\"version\"];\n+$data1['rewrite'] = $data_index[\"rewrite\"];\n+$data1['close'] = $data_index[\"close\"];\n+$json_string1 = json_encode($data1);\n+$filename1 = '../../resource/config/index.json';\n+$fp1 = fopen($filename1, \"w\");\n+$len1 = fwrite($fp1, $json_string1);\n+fclose($fp1);\n+sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n\\ No newline at end of file"
        },
        {
          "filename": "admin/function/temp.php",
          "status": "added",
          "additions": 55,
          "deletions": 0,
          "patch": "@@ -0,0 +1,55 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <div style=\" position:  relative;left:25%;top:10%\">\n+\n+\n+        <div class=\"mdui-card\" style=\"width:600px\">\n+\n+            <div class=\"mdui-card-primary\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u8bbe\u7f6e\u6a21\u677f</div>\n+            </div>\n+            <m-scrollbar style=\"font-size:15px;height: 400px\">\n+                <div class=\"mdui-card-content\" style=\"font-size:18px;text-align:left\">\n+                    \u5f53\u524d\u6a21\u677f\uff1a<? echo $data_index[\"template\"] ?>\n+                    &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;     <a  target=\"_blank\" href=\"../../../../template/<? echo $data_index[\"template\"] ?>/setting.php\"><button type=\"button\" style=\"color:black\" class=\"mdui-btn mdui-btn-raised  action-btn\">\u6a21\u677f\u5355\u72ec\u8bbe\u7f6e</button></a><br><br>\n+                    <form method=\"post\" action=\"temp-run.php\"> \u5207\u6362\u6a21\u677f\uff1a\n+                        <select class=\"mdui-select\" name=\"template\" mdui-select>\n+\n+\n+\n+                            <?php\n+\n+                            $file = scandir(\"../../template\");\n+\n+                            for ($i = 2; $i < count($file); $i++) {\n+                                echo '  <option value=\"' . $file[$i] . '\">' . $file[$i] . '</option>';\n+                            }\n+                            ?></select>\n+                        &nbsp;&nbsp;&nbsp;\n+                        <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button><br><br>\n+                    </form>\n+                    <form method=\"get\" action=\"download-template.php\"> \u8f93\u5165Key\u52a0\u8f7d\u6a21\u677f\uff1a\n+                      <div style=\"display: inline;\">  \n+                    <input style=\"width:300px\" class=\"mdui-textfield-input\" name=\"name\" type=\"text\"\n+                                value=\"\" required=\"\">\n+                                <br>\n+                        <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button><br><br>\n+                        </div>\n+                    </form>\n+                    <a  target=\"_blank\" href=\"https://www.yuque.com/rapid/cms/yo0y1er0vg6rl86g\"><button type=\"button\" style=\"color:black\" class=\"mdui-btn mdui-btn-raised  action-btn\">\u8fdb\u5165\u6587\u6863\u83b7\u53d6\u6a21\u677f</button><br><br></a>\n+                     \n+\n+                </div>\n+            </m-scrollbar>\n+\n+        </div>\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/header.php",
          "status": "added",
          "additions": 30,
          "deletions": 0,
          "patch": "@@ -0,0 +1,30 @@\n+<? include(\"check.php\"); ?>\n+\n+<!DOCTYPE html>\n+<html lang=\"zh-cn\">\n+\n+<head>\n+    <meta charset=\"utf-8\">\n+    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n+    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n+    <link rel=\"shortcut icon\"\" href=\" ../../../resource/img/icon.png\" type=\"image/x-icon\" />\n+    <link rel=\"stylesheet\" href=\"../../../../resource/css/mdui.min.css\" />\n+    <link rel=\"stylesheet\" href=\"../../../resource/css/mtu.min.css\">\n+    <link rel=\"stylesheet\" href=\"../../../resource/css/style.css\">\n+    <link rel=\"stylesheet\" href=\"../../../template/default/theme.css\">\n+    \n+</head>\n+\n+<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary:79, 55, 139; --color-accent: 79, 55, 139;\">\n+    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n+        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n+        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n+    </div>\n+\n+    <? include(\"../drawer.php\"); ?>\n+    <style>\n+        * {\n+            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n+        }\n+    </style>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 4,
          "patch": "@@ -9,9 +9,7 @@ function encode($string = '', $skey = 'cxphp')\n     return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n }\n \n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n+$json_string = file_get_contents('../install/sql-config/sql.json');\n $dataxxx = json_decode($json_string, true);\n $link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n $sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n@@ -20,7 +18,7 @@ function encode($string = '', $skey = 'cxphp')\n $pa = $pass[0];\n \n if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: ./login.php\");\n+    Header(\"Location: admin_user/login.php\");\n }\n \n ?>"
        },
        {
          "filename": "admin/movepass.php",
          "status": "removed",
          "additions": 0,
          "deletions": 91,
          "patch": "@@ -1,91 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary:79, 55, 139; --color-accent: 79, 55, 139;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-        <div class=\"mdui-card\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u4fee\u6539\u7ba1\u7406\u5458\u5bc6\u7801</div>\n-            </div>\n-            <form method=\"post\" action=\"run-movepass.php\">\n-                <m-scrollbar style=\"height: 300px;width:900px\">\n-                    <div class=\"mdui-card-content\" style=\"font-size:15px;text-align:left\">\n-                        <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n-                            <label class=\"mdui-textfield-label\">\u8f93\u5165\u5bc6\u7801</label>\n-                            <input class=\"mdui-textfield-input\" name=\"password\" type=\"password\"\n-                              required=\"\">\n-                              <div class=\"mdui-textfield-error\">\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</div>\n-                        </div>\n-                        <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \">\n-                            <label class=\"mdui-textfield-label\">\u91cd\u590d\u5bc6\u7801</label>\n-                            <input class=\"mdui-textfield-input\" name=\"password2\" type=\"password\"\n-                               required=\"\">\n-                               <div class=\"mdui-textfield-error\">\u91cd\u590d\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</div>\n-                        </div>\n-                      \n-                        <button class=\"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent\">\u63d0\u4ea4</button>\n-\n-                    </div>\n-                </m-scrollbar>\n-            </form>\n-        </div>\n-       \n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/plugin-del.php",
          "status": "removed",
          "additions": 0,
          "deletions": 42,
          "patch": "@@ -1,42 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-\n-function removeDir($dirName)\n-{\n-    if (!is_dir($dirName)) {\n-        return false;\n-    }\n-    $handle = @opendir($dirName);\n-    while (($file = @readdir($handle)) !== false) {\n-        if ($file != '.' && $file != '..') {\n-            $dir = $dirName . '/' . $file;\n-            is_dir($dir) ? removeDir($dir) : @unlink($dir);\n-        }\n-    }\n-    closedir($handle);\n-    @rmdir($dirName);\n-}\n-removeDir('../plugin/' . $_GET[\"id\"]);\n-echo \"<script type='text/javascript'>window.location.href='plugin.php'</script>\";\n\\ No newline at end of file"
        },
        {
          "filename": "admin/plugin-move.php",
          "status": "removed",
          "additions": 0,
          "deletions": 50,
          "patch": "@@ -1,50 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-$json_string=file_get_contents('../plugin/'. $_GET[\"id\"].\"/version.json\");\n-$row = json_decode($json_string, true);\n-if($row[\"use\"]==true){\n-    $data = array();\n-    $data['key'] =$row[\"key\"];\n-    $data['name'] = $row[\"name\"];\n-    $data['version'] = $row[\"version\"];\n-    $data['author'] = $row[\"author\"];\n-    $data['use'] = false;\n-    $json_string = json_encode($data);\n-    \n-    file_put_contents('../plugin/'. $_GET[\"id\"].\"/version.json\", $json_string);\n-\n-   }else{\n-    $data = array();\n-    $data['key'] =$row[\"key\"];\n-    $data['name'] = $row[\"name\"];\n-    $data['version'] = $row[\"version\"];\n-    $data['author'] = $row[\"author\"];\n-    $data['use'] = true;\n-    $json_string = json_encode($data);\n-    \n-    file_put_contents('../plugin/'. $_GET[\"id\"].\"/version.json\", $json_string);\n-   }\n-   echo \"<script type='text/javascript'>window.location.href='plugin.php'</script>\"\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/plugin.php",
          "status": "removed",
          "additions": 0,
          "deletions": 174,
          "patch": "@@ -1,174 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <script type=\"text/javascript\" language=\"javascript\">\n-        function confirmAct() {\n-            if (confirm('\u786e\u5b9a\u8981\u5220\u9664\u63d2\u4ef6\u5417?')) {\n-                return true;\n-            }\n-            return false;\n-        }\n-\n-        function confirmAct1() {\n-            if (confirm('\u786e\u5b9a\u8981\u7981\u7528\u63d2\u4ef6\u5417?')) {\n-                return true;\n-            }\n-            return false;\n-        }\n-\n-        function confirmAct2() {\n-            if (confirm('\u786e\u5b9a\u8981\u542f\u7528\u63d2\u4ef6\u5417?')) {\n-                return true;\n-            }\n-            return false;\n-        }\n-    </script>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    \n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-        <div class=\"mdui-card\" style=\"overflow:scroll\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px;\">\u63d2\u4ef6\u8bbe\u7f6e</div>\n-\n-            </div> \n-            <div class=\"mdui-divider\"></div> <br>\n-            <m-scrollbar style=\"height: 650px;width:900px;\">\n-          \n-            <form method=\"get\" action=\"download-plugin.php\" style=\"text-align:left;padding:0 0 0 250px\">\n-                    <div style=\"  display: flex;gap: 47px;\">\n-\n-                        <div>\u8f93\u5165Key\u52a0\u8f7d\u63d2\u4ef6\uff1a<input style=\"width:300px\" class=\"mdui-textfield-input\" name=\"name\" type=\"text\" value=\"\" required=\"\"> </div>\n-                        <div><button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button><br><br>\n-                        </div>\n-\n-\n-\n-\n-                    </div>\n-                </form>\n-                <br>\n-                <div class=\"mdui-divider\"></div>  <br>\n-                <div style=\"width:90%;position: absolute;left: 50%;    transform: translateX(-50%  );\" class=\"mdui-table-fluid\">\n-\n-                    <table class=\"mdui-table\">\n-                        <thead>\n-                            <tr>\n-                                <th>ID-Key</th>\n-                                <th>\u540d\u79f0</th>\n-                                <th>\u7248\u672c</th>\n-                                <th>\u4f5c\u8005</th>\n-                                <th>\u72b6\u6001</th>\n-                                <th class=\"mdui-table-col-numeric\"> </th>\n-                            </tr>\n-                        </thead>\n-                        <tbody>\n-\n-                            <?php\n-\n-\n-\n-\n-                            $file = scandir(\"../plugin\");\n-\n-                            for ($i = 2; $i < count($file); $i++) {\n-                                if($file[$i]==\".gitkeep\"){\n-                                    \n-                                }else{\n-                                    $json_string = file_get_contents('../plugin/' . $file[$i] . \"/version.json\");\n-                                    $row = json_decode($json_string, true);\n-                                    echo \"<tr>\";\n-                                    echo \"</tr>\";\n-                                    echo \"<td>\" . $row[\"key\"] . \"</td>\";\n-                                    echo \"<td>\" . $row[\"name\"] . \"</td>\";\n-                                    echo \"<td>\" . $row[\"version\"] . \"</td>\";\n-                                    echo \"<td>\" . $row[\"author\"] . \"</td>\";\n-                                    if ($row[\"use\"] == true) {\n-                                        echo \"<td style='color:green'><strong>\u542f\u7528</strong></td>\";\n-                                        echo '<td><a target=\"_blank\" href=\"' . '../plugin/' . $file[$i] . \"/setting.php\" . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a>';\n-                                        echo '<a onclick=\"return confirmAct1();\" href=\"plugin-move.php?id=' . $file[$i] . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe644;</i></button></a>';\n-                                    } else {\n-                                        echo \"<td style='color:red'><strong>\u7981\u7528</strong></td>\";\n-                                        echo '<td><a target=\"_blank\" href=\"' . '../plugin/' . $file[$i] . \"/setting.php\" . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a>';\n-                                        echo '<a onclick=\"return confirmAct2();\" href=\"plugin-move.php?id=' . $file[$i] . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe86c;</i></button></a>';\n-                                    }\n-    \n-    \n-                                    echo '<a onclick=\"return confirmAct();\" href=\"plugin-del.php?id=' . $file[$i] . '\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe872;</i></button></a>&nbsp;';\n-    \n-                                    echo \"</td>\";\n-                                }\n-                         \n-                            }\n-\n-\n-\n-                            ?>\n-\n-\n-                        </tbody>\n-                    </table>\n-                </div>\n-            </m-scrollbar>\n-\n-        </div>\n-\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/plus-shark.php",
          "status": "removed",
          "additions": 0,
          "deletions": 87,
          "patch": "@@ -1,87 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-\n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <br><br>\n-    <div style=\" position:  relative;left:15%\">\n-        <div class=\"mdui-card\" style=\"width:70%;height:300px; \">\n-            <div class=\"mdui-card-primary\" style=\"text-align:center;\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u4eceSharkCMS\u8fc1\u79fb\u6570\u636e</div>\n-            </div>\n-            <br>\n-            <label class=\"mdui-textfield-label\">&nbsp;&nbsp;&nbsp;\u9009\u62e9\u5bfc\u5165\u65b9\u5f0f</label>\n-            &nbsp;&nbsp;&nbsp;\n-            <label class=\"mdui-radio\">\n-                <input type=\"radio\" name=\"group1\" checked />\n-                <i class=\"mdui-radio-icon\"></i>\n-                \u4ece\u672c\u7a0b\u5e8f\u6240\u5728\u6570\u636e\u5e93\u5bfc\u5165\n-            </label>\n-\n-            <label class=\"mdui-radio\">\n-                <input type=\"radio\" name=\"group1\" disabled />\n-                <i class=\"mdui-radio-icon\"></i>\n-                \u4ece\u5176\u4ed6\u6570\u636e\u5e93\u5bfc\u5165\uff08\u6682\u4e0d\u652f\u6301\uff09\n-            </label>\n-            <br>  <br>\n-            &nbsp;&nbsp;&nbsp;<a href=\"plus-shark-run.php\"><button name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-text-color-black action-btn\">\u4e00\u952e\u5bfc\u5165\u6587\u7ae0</button></a>\n-       \n-        </div>\n-    </div>\n-    <br>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/plus.php",
          "status": "removed",
          "additions": 0,
          "deletions": 90,
          "patch": "@@ -1,90 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-\n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <br><br>\n-    <div style=\" position:  relative;left:15%\">\n-        <div class=\"mdui-card\" style=\"width:70%;height:300px; \">\n-            <div class=\"mdui-card-primary\" style=\"text-align:center;\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u6570\u636e\u8bbe\u7f6e</div>\n-            </div>\n-            <div class=\"mdui-tab\" mdui-tab>\n-                <a href=\"#move1\" class=\"mdui-ripple\">\u5907\u4efd\u6570\u636e</a>\n-                <a href=\"#move2\" class=\"mdui-ripple\">\u5bfc\u5165\u5907\u4efd</a>\n-           <a href=\"#move3\" class=\"mdui-ripple\">\u8fc1\u79fb\u6570\u636e</a> \n-            </div>\n-            <div id=\"move1\" class=\"mdui-p-a-2\">\n-            <label class=\"mdui-textfield-label\">\u5907\u4efd\u7cfb\u7edf\u6570\u636e\uff0c\u6811\u7acb\u5b89\u5168\u610f\u8bc6</label>\n-               \n-                <a href=\"plus-back-run.php\"><button name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u5907\u4efd\u6570\u636e</button></a>\n-           </div>\n-            <div id=\"move2\" class=\"mdui-p-a-2\">\n-            <label class=\"mdui-textfield-label\">\u914d\u7f6e\u6587\u4ef6\u6682\u4e0d\u652f\u6301\uff0c\u8bf7\u89e3\u538b\u540e\u624b\u52a8\u590d\u5236\u7c98\u8d34</label>\n-            \n-           <!--    <form enctype=\"multipart/form-data\" id=\"fileupdateform\" method=\"post\" action=\"plus-back-upload-sql.php\"><button for=\"file\" onclick=\"document.getElementById('file').click()\" type=\"button\" style=\"color:black\" class=\"mdui-btn mdui-btn-raised  action-btn\">\u5bfc\u5165.sql\u6587\u4ef6</button><br>                    <input style=\"display: none;\" onchange=\"document.getElementById('fileupdateform').submit()\"   name=\"file\"  id=\"file\" type=\"file\" required=\"\"></form>\n-    --></div>\n-           <div id=\"move3\" class=\"mdui-p-a-2\">\n-            <label class=\"mdui-textfield-label\">\u8fc1\u79fb\u5176\u4ed6\u6570\u636e\uff0c\u4fbf\u6377\u5bfc\u5165\u5185\u5bb9</label>\n-                   <a href=\"plus-shark.php\"><button name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-text-color-black action-btn\">\u4eceSharkCMS\u8fc1\u79fb\u6570\u636e</button></a>\n-       \n-            </div>\n-         </div>\n-    </div>\n-    <br>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/run-close.php",
          "status": "removed",
          "additions": 0,
          "deletions": 40,
          "patch": "@@ -1,40 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-$data1 = array();\n-if($_POST[\"close\"]==\"on\"){\n-    $data1['close'] = \"true\";\n-}else{\n-    $data1['close'] = \"false\";\n-}\n-$data1['template'] = $data_index[\"template\"];\n-$data1['version'] = $data_index[\"version\"];\n-$data1['rewrite'] = $data_index[\"rewrite\"];\n-\n-$json_string1 = json_encode($data1);\n-$filename1 = '../resource/config/index.json';\n-$fp1 = fopen($filename1, \"w\");\n-$len1 = fwrite($fp1, $json_string1);\n-fclose($fp1);\n-sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n\\ No newline at end of file"
        },
        {
          "filename": "admin/run-mail.php",
          "status": "removed",
          "additions": 0,
          "deletions": 41,
          "patch": "@@ -1,41 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-$data1 = array();\n-if($_POST[\"logonwithmail\"]==\"on\"){\n-    $data1['logonwithmail'] = \"true\";\n-}else{\n-    $data1['logonwithmail'] = \"false\";\n-}\n-$data1['smtp'] = $_POST[\"smtp\"];\n-$data1['secure'] = $_POST[\"secure\"];\n-$data1['port'] = $_POST[\"port\"];\n-$data1['username'] = $_POST[\"username\"];\n-$data1['password'] = $_POST[\"password\"];\n-$json_string1 = json_encode($data1);\n-$filename1 = '../resource/config/mail.json';\n-$fp1 = fopen($filename1, \"w\");\n-$len1 = fwrite($fp1, $json_string1);\n-fclose($fp1);\n-sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n\\ No newline at end of file"
        },
        {
          "filename": "admin/run-rewrite.php",
          "status": "removed",
          "additions": 0,
          "deletions": 40,
          "patch": "@@ -1,40 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-$data1 = array();\n-if($_POST[\"rewrite\"]==\"on\"){\n-    $data1['rewrite'] = \"true\";\n-}else{\n-    $data1['rewrite'] = \"false\";\n-}\n-$data1['template'] = $data_index[\"template\"];\n-$data1['version'] = $data_index[\"version\"];\n-$data1['close'] = $data_index[\"close\"];\n-\n-$json_string1 = json_encode($data1);\n-$filename1 = '../resource/config/index.json';\n-$fp1 = fopen($filename1, \"w\");\n-$len1 = fwrite($fp1, $json_string1);\n-fclose($fp1);\n-sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n\\ No newline at end of file"
        },
        {
          "filename": "admin/run-setting.php",
          "status": "removed",
          "additions": 0,
          "deletions": 38,
          "patch": "@@ -1,38 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-$data1 = array();\n-$data1['headname'] = $_POST[\"headname\"];\n-$data1['title'] = $_POST[\"title\"];\n-$data1['icon'] =  $data_header[\"icon\"];\n-$data1['description'] = $_POST[\"description\"];\n-$data1['keywords'] = $_POST[\"keywords\"];\n-$data1['introduce'] = $_POST[\"introduce\"];\n-$data1['con'] = $_POST[\"con\"];\n-$json_string1 = json_encode($data1);\n-$filename1 = '../resource/config/header.json';\n-$fp1 = fopen($filename1, \"w\");\n-$len1 = fwrite($fp1, $json_string1);\n-fclose($fp1);\n-sendalert(\"\u4fee\u6539\u6210\u529f\");"
        },
        {
          "filename": "admin/run-tool.php",
          "status": "removed",
          "additions": 0,
          "deletions": 50,
          "patch": "@@ -1,50 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-$data1 = array();\n-if($_POST[\"tool\"]==\"on\"){\n-    $data1['tool'] = \"true\";\n-}else{\n-    $data1['tool'] = \"false\";\n-}\n-$data1['kind'] = $_POST[\"kind\"];\n-if ($_POST[\"kind\"] == \"one\") {\n-    $data1['content'] = '<center><p id=\"hitokoto\"><a style=\"color:#000000\" href=\"#\" id=\"hitokoto_text\">\u83b7\u53d6\u4e2d...</a></p></center><script>fetch(\\'https://v1.hitokoto.cn\\').then(response => response.json()).then(data => {const hitokoto = document.querySelector(\\'#hitokoto_text\\');hitokoto.href = \\'https://hitokoto.cn/?uuid=\\' + data.uuid;\n-        if (data.from_who == null) {\n-        hitokoto.innerHTML = \"\u300c \" + data.hitokoto + \" \u300d<br>\u2014\u2014\" + data.from;\n-        }else {\n-        hitokoto.innerHTML = \"\u300c \" + data.hitokoto + \" \u300d<br>\u2014\u2014\" + data.from_who + \"\u300c\" + data.from + \"\u300d\"\n-        }}).catch(console.error)\n-        </script>';\n-} else {\n-    $data1['content'] = $_POST[\"content\"];\n-}\n-\n-\n-$json_string1 = json_encode($data1);\n-$filename1 = '../resource/config/tool.json';\n-$fp1 = fopen($filename1, \"w\");\n-$len1 = fwrite($fp1, $json_string1);\n-fclose($fp1);\n-echo \"<script type=\" . \"\\\"\" . \"text/javascript\" . \"\\\"\" . \">\" . \"window.location=\\\"tool.php\\\"</script>\";"
        },
        {
          "filename": "admin/server.php",
          "status": "removed",
          "additions": 0,
          "deletions": 87,
          "patch": "@@ -1,87 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary:79, 55, 139; --color-accent: 79, 55, 139;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-\n-        <div class=\"mdui-card\" style=\"width:900px\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u7f51\u7ad9\u670d\u52a1\u8bbe\u7f6e</div>\n-            </div>\n-            <form method=\"post\" action=\"run-close.php\">\n-            <div class=\"mdui-card-content\" style=\"font-size:15px;text-align:left\">\n-            <label class=\"mdui-switch\">\n-                            \u542f\u7528\u7f51\u9875\u7ef4\u62a4&nbsp;&nbsp;&nbsp;\n-                            <input <?\n-                                    if ($data_index[\"close\"]  == \"true\") {\n-                                        echo \" checked='true'\";\n-                                    }\n-                                    ?> name=\"close\" type=\"checkbox\" />\n-                            <i class=\"mdui-switch-icon\"></i>\n-                        </label> \n-                        <br> <br>\n-                        <button class=\"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent\">\u786e\u8ba4</button>\n-                  \n-            </div>\n-            </form>\n-        </div>\n-        <br>\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/src/mdui-editor/js/editor.js",
          "status": "renamed",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "admin/src/pclzip.lib.php",
          "status": "renamed",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "admin/system/about.php",
          "status": "added",
          "additions": 21,
          "deletions": 0,
          "patch": "@@ -0,0 +1,21 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+<div class=\"medium\" style=\" text-align:center;display: flex;gap: 47px;\">\n+    <img style=\"Border-radius:10px\" width=\"200px\" src=\"../../../upload/logo.png\">\n+    <div>\n+        <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n+            <h1 style=\"font-weight: bold;\">RapidCMS</h1>\n+        </div>\n+        <div style=\"color:black;font-size: 10px;\" class=\"mdui-typo\">\n+            <h1>\u7b80\u5355\u597d\u7528\u7684\u5b98\u7f51CMS\u7cfb\u7edf</h1>\n+        </div>\n+    </div>\n+</div>\n+\n+<script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+<script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/system/update-run.php",
          "status": "added",
          "additions": 48,
          "deletions": 0,
          "patch": "@@ -0,0 +1,48 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+    <div class=\"medium\" style=\" text-align:center;display: flex\">\n+\n+        <div>\n+            <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n+                <h1 style=\"font-weight: bold;\">\u7248\u672c\u66f4\u65b0</h1>\n+                <h5>\u6b63\u5728\u66f4\u65b0\u4e2d\uff0c\u7248\u672c\uff1a<?php echo $_GET[\"version\"]; ?> </h5>\n+\n+                <br>\n+\n+\n+                <?php\n+\n+                $arrContextOptions = array(\n+                    \"ssl\" => array(\n+                        \"verify_peer\" => false,\n+                        \"verify_peer_name\" => false,\n+                    ),\n+                );\n+                file_put_contents(\"../../upload/\" . $_GET[\"version\"] . \".zip\", file_get_contents(\"http://cdn.jsdelivr.net/gh/codewyx/cmscdn/version/\" . $_GET[\"version\"] . \".zip\", false, stream_context_create($arrContextOptions)));\n+\n+                require_once('../src/pclzip.lib.php');\n+\n+                $zip = new PclZip(\"../../upload/\" . $_GET[\"version\"] . \".zip\");\n+                $result = $zip->extract(PCLZIP_OPT_PATH, \"../\");\n+                if ($result == 0) {\n+                    echo '<br>\u66f4\u65b0\u5931\u8d25';\n+                    unlink(\"../../upload/\" . $_GET[\"version\"] . \".zip\");\n+                } else {\n+                    echo '<br>\u66f4\u65b0\u6210\u529f';\n+                    unlink(\"../../upload/\" . $_GET[\"version\"] . \".zip\");\n+                }\n+\n+                ?>\n+            </div>\n+\n+        </div>\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/system/update.php",
          "status": "renamed",
          "additions": 1,
          "deletions": 52,
          "patch": "@@ -1,58 +1,7 @@\n <?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n+include(\"../header.php\");\n \n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n ?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-\n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n     <div style=\" position:  relative;left:15%\">\n     <br><br>\n         <div class=\"mdui-card\" style=\"width:70%;height:300px; \">"
        },
        {
          "filename": "admin/temp-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 35,
          "patch": "@@ -1,35 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-$data1 = array();\n-$data1['template'] = $_POST[\"template\"];\n-$data1['version'] = $data_index[\"version\"];\n-$data1['rewrite'] = $data_index[\"rewrite\"];\n-$data1['close'] = $data_index[\"close\"];\n-$json_string1 = json_encode($data1);\n-$filename1 = '../resource/config/index.json';\n-$fp1 = fopen($filename1, \"w\");\n-$len1 = fwrite($fp1, $json_string1);\n-fclose($fp1);\n-sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n\\ No newline at end of file"
        },
        {
          "filename": "admin/temp.php",
          "status": "removed",
          "additions": 0,
          "deletions": 106,
          "patch": "@@ -1,106 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\" position:  relative;left:25%;top:10%\">\n-\n-\n-        <div class=\"mdui-card\" style=\"width:600px\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u8bbe\u7f6e\u6a21\u677f</div>\n-            </div>\n-            <m-scrollbar style=\"font-size:15px;height: 400px\">\n-                <div class=\"mdui-card-content\" style=\"font-size:18px;text-align:left\">\n-                    \u5f53\u524d\u6a21\u677f\uff1a<? echo $data_index[\"template\"] ?>\n-                    &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;     <a  target=\"_blank\" href=\"../../../../template/<? echo $data_index[\"template\"] ?>/setting.php\"><button type=\"button\" style=\"color:black\" class=\"mdui-btn mdui-btn-raised  action-btn\">\u6a21\u677f\u5355\u72ec\u8bbe\u7f6e</button></a><br><br>\n-                    <form method=\"post\" action=\"temp-run.php\"> \u5207\u6362\u6a21\u677f\uff1a\n-                        <select class=\"mdui-select\" name=\"template\" mdui-select>\n-\n-\n-\n-                            <?php\n-\n-                            $file = scandir(\"../template\");\n-\n-                            for ($i = 2; $i < count($file); $i++) {\n-                                echo '  <option value=\"' . $file[$i] . '\">' . $file[$i] . '</option>';\n-                            }\n-                            ?></select>\n-                        &nbsp;&nbsp;&nbsp;\n-                        <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button><br><br>\n-                    </form>\n-                    <form method=\"get\" action=\"download-template.php\"> \u8f93\u5165Key\u52a0\u8f7d\u6a21\u677f\uff1a\n-                      <div style=\"display: inline;\">  \n-                    <input style=\"width:300px\" class=\"mdui-textfield-input\" name=\"name\" type=\"text\"\n-                                value=\"\" required=\"\">\n-                                <br>\n-                        <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u786e\u8ba4</button><br><br>\n-                        </div>\n-                    </form>\n-                    <a  target=\"_blank\" href=\"https://www.yuque.com/rapid/cms/yo0y1er0vg6rl86g\"><button type=\"button\" style=\"color:black\" class=\"mdui-btn mdui-btn-raised  action-btn\">\u8fdb\u5165\u6587\u6863\u83b7\u53d6\u6a21\u677f</button><br><br></a>\n-                     \n-\n-                </div>\n-            </m-scrollbar>\n-\n-        </div>\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/tool.php",
          "status": "removed",
          "additions": 0,
          "deletions": 121,
          "patch": "@@ -1,121 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-\n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-deep-purple mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary:79, 55, 139; --color-accent: 79, 55, 139;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-        <div class=\"mdui-card\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u5c0f\u7ec4\u4ef6\u8bbe\u7f6e</div>\n-            </div>\n-            <form method=\"post\" action=\"run-tool.php\">\n-                <m-scrollbar style=\"height: 620px;width:900px\">\n-                    <div class=\"mdui-card-content\" style=\"font-size:15px;text-align:left\">\n-\n-                        <label class=\"mdui-switch\">\n-                            \u5f00\u542f\u5c0f\u7ec4\u4ef6&nbsp;&nbsp;&nbsp;\n-                            <input <?\n-                                    if ($data_tool[\"tool\"]  == \"true\") {\n-                                        echo \" checked='true'\";\n-                                    }\n-                                    ?> name=\"tool\" type=\"checkbox\" />\n-                            <i class=\"mdui-switch-icon\"></i>\n-                        </label> <br>\n-                        <label class=\"mdui-textfield-label\">\u9009\u62e9\u5c0f\u7ec4\u4ef6</label>\n-                        <select class=\"mdui-select\" name=\"kind\" id=\"kind\" onchange=\"kindmove()\" mdui-select>\n-                            <?\n-\n-                            if ($data_tool[\"kind\"] == \"one\") {\n-                                echo ' <option value=\"one\" selected>\u4e00\u8a00</option>';\n-                                echo '   <option value=\"write\" >\u81ea\u5b9a\u4e49</option>';\n-                            } else {\n-                                echo ' <option value=\"one\" >\u4e00\u8a00</option>';\n-                                echo '   <option value=\"write\" selected>\u81ea\u5b9a\u4e49</option>';\n-                            }\n-                            ?>\n-\n-\n-                        </select> <br> <br>\n-                        <div id=\"con\" style=\"display:none\" class=\"mdui-textfield  mdui-textfield-has-bottom \">\n-                            <label class=\"mdui-textfield-label\">\u8f93\u5165\u5185\u5bb9</label>\n-\n-\n-                            <textarea rows=\"7\" class=\"mdui-textfield-input\" name=\"content\" type=\"text\" required=\"\"><? echo $data_tool[\"content\"]; ?></textarea>\n-                        </div>\n-                        <br>\n-                        <button class=\"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent\">\u63d0\u4ea4</button>\n-\n-                    </div>\n-                </m-scrollbar>\n-            </form>\n-        </div>\n-\n-    </div>\n-    <script>\n-        function kindmove(){\n-if(document.getElementById(\"kind\").value==\"write\"){\n-    document.getElementById(\"con\").style.display=\"inline\";\n-}else{\n-    document.getElementById(\"con\").style.display=\"none\";\n-}\n-        }\n-        window.onload=()=>{\n-            kindmove()\n-        }\n-    </script>\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/update-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 100,
          "patch": "@@ -1,100 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-\n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div class=\"medium\" style=\" text-align:center;display: flex\">\n-\n-        <div>\n-            <div style=\"color:black;font-size: 20px;\" class=\"mdui-typo\">\n-                <h1 style=\"font-weight: bold;\">\u7248\u672c\u66f4\u65b0</h1>\n-                <h5>\u6b63\u5728\u66f4\u65b0\u4e2d\uff0c\u7248\u672c\uff1a<?php echo $_GET[\"version\"]; ?> </h5>\n-\n-                <br>\n-\n-\n-                <?php\n-\n-                $arrContextOptions = array(\n-                    \"ssl\" => array(\n-                        \"verify_peer\" => false,\n-                        \"verify_peer_name\" => false,\n-                    ),\n-                );\n-                file_put_contents(\"../upload/\" . $_GET[\"version\"] . \".zip\", file_get_contents(\"http://cdn.jsdelivr.net/gh/codewyx/cmscdn/version/\" . $_GET[\"version\"] . \".zip\", false, stream_context_create($arrContextOptions)));\n-\n-                require_once('pclzip.lib.php');\n-\n-                $zip = new PclZip(\"../upload/\" . $_GET[\"version\"] . \".zip\");\n-                $result = $zip->extract(PCLZIP_OPT_PATH, \"../\");\n-                if ($result == 0) {\n-                    echo '<br>\u66f4\u65b0\u5931\u8d25';\n-                    unlink(\"../upload/\" . $_GET[\"version\"] . \".zip\");\n-                } else {\n-                    echo '<br>\u66f4\u65b0\u6210\u529f';\n-                    unlink(\"../upload/\" . $_GET[\"version\"] . \".zip\");\n-                }\n-\n-                ?>\n-            </div>\n-\n-        </div>\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/upload.php",
          "status": "removed",
          "additions": 0,
          "deletions": 18,
          "patch": "@@ -1,18 +0,0 @@\n-<?php\n-$fileInfo=$_FILES['file'];\n-$name=$fileInfo['name'];\n-$pathname = pathinfo($name)[\"extension\"];\n-$filename =  pathinfo($name, PATHINFO_FILENAME); \n-$filePath=$fileInfo['tmp_name'];\n-//$name = iconv('utf-8', 'gb2312', $filename);\n-$str=rand(); \n-\n-$path=\"../upload/upload_\".md5($str).\".\".$pathname;\n-move_uploaded_file($filePath,$path);\n-echo json_encode([\n-  \"code\" => 0,\n-  \"data\" => [\n-    \"url\" => $path,\n-    \"name\" => $name\n-  ]\n- ]);"
        },
        {
          "filename": "admin/user-del.php",
          "status": "removed",
          "additions": 0,
          "deletions": 42,
          "patch": "@@ -1,42 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-//\u6d4b\u8bd5\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-\n-      $str=\"DELETE FROM `rapidcmsuser` WHERE username='\".$_GET[\"username\"].\"'\";\n-\t  $result=mysqli_query($link,$str);\n-      sendalert(\"\u5220\u9664\u6210\u529f\uff01\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/user-move-run.php",
          "status": "removed",
          "additions": 0,
          "deletions": 42,
          "patch": "@@ -1,42 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-header ( \"Content-type:text/html;charset=utf-8\" );\n-$json_string = file_get_contents('../install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n-\n-if($link)\n-{\n-    $select=mysqli_select_db($link,$dataxxx['dbname']);\n-  if($select)\n-  {\n-    $password1=md5(sha1(md5($_POST[\"password\"])));\n-      $str=\"UPDATE `rapidcmsuser` SET `password`= '\".$password1.\"' WHERE username='\".$_POST[\"username\"].\"'\";\n-\n-\t  $result=mysqli_query($link,$str);\n-    sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n-  }\n-}\n-?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/user-move.php",
          "status": "removed",
          "additions": 0,
          "deletions": 97,
          "patch": "@@ -1,97 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH',str_replace('\\\\','/',realpath(dirname(__FILE__).'/')).\"/\");\n-define('BASE_PATH1',str_replace('\\\\','/',realpath(dirname(BASE_PATH).'/')).\"/\");\n-$json_string = file_get_contents(BASE_PATH1.'/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin',$pa)) {\n-    Header(\"Location: login.php\"); \n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-        <div class=\"mdui-card\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u7528\u6237\u8bbe\u7f6e</div>\n-            </div>\n-           \n-                <m-scrollbar style=\"height: 650px;width:900px;text-align:left \">\n-                <div id=\"login\" class=\"mc-account mc-login mdui-dialog mdui-dialog-open \" style=\"overflow: hidden;z-index:999;display: block; top: 150.104px; height: 540.792px;\">\n-                <button class=\"mdui-btn mdui-btn-icon close\" onclick=\"window.location.href='user.php'\"><i class=\"mdui-icon material-icons\">close</i></button>\n- \n-<div class=\"mdui-dialog-title\">\u4fee\u6539\u7528\u6237\u5bc6\u7801</div>\n-<form method=\"post\" action=\"user-move-run.php\">\n-<div style=\"display:none\" class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \"><label class=\"mdui-textfield-label\">\u7528\u6237\u540d</label><input class=\"mdui-textfield-input\" value=\"<?echo $_GET[\"username\"]?>\"  name=\"username\" type=\"text\" >\n-        <div class=\"mdui-textfield-error\">\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a</div>\n-    </div>\n-    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \"><label class=\"mdui-textfield-label\">\u7528\u6237\u540d</label><input class=\"mdui-textfield-input\" value=\"<?echo $_GET[\"username\"]?>\" type=\"text\" disabled=\"true\">\n-        <div class=\"mdui-textfield-error\">\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a</div>\n-    </div>\n-    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom\"><label class=\"mdui-textfield-label\">\u65b0\u5bc6\u7801</label><input class=\"mdui-textfield-input\" name=\"password\" type=\"password\" required=\"\">\n-        <div class=\"mdui-textfield-error\">\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</div>\n-    </div>\n-    <div class=\"actions mdui-clearfix\">\n-       <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u4fee\u6539</button>\n-    </div>\n-</form>\n-</div>\n-                </m-scrollbar>\n-  \n-        </div>\n-\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n-\n-\n-"
        },
        {
          "filename": "admin/user.php",
          "status": "removed",
          "additions": 0,
          "deletions": 108,
          "patch": "@@ -1,108 +0,0 @@\n-<?php\n-include(\"../resource/variable.php\");\n-function encode($string = '', $skey = 'cxphp')\n-{\n-    $strArr = str_split(base64_encode($string));\n-    $strCount = count($strArr);\n-    foreach (str_split($skey) as $key => $value)\n-        $key < $strCount && $strArr[$key] .= $value;\n-    return str_replace(array('=', '+', '/'), array('O0O0O', 'o000o', 'oo00o'), join('', $strArr));\n-}\n-\n-define('BASE_PATH', str_replace('\\\\', '/', realpath(dirname(__FILE__) . '/')) . \"/\");\n-define('BASE_PATH1', str_replace('\\\\', '/', realpath(dirname(BASE_PATH) . '/')) . \"/\");\n-$json_string = file_get_contents(BASE_PATH1 . '/install/sql-config/sql.json');\n-$dataxxx = json_decode($json_string, true);\n-$link = mysqli_connect($dataxxx['server'], $dataxxx['dbusername'], $dataxxx['dbpassword'], $dataxxx['dbname']);\n-$sql = \"select password from `rapidcmsadmin` where username=\\\"admin\\\"\";\n-$result = mysqli_query($link, $sql);\n-$pass = mysqli_fetch_row($result);\n-$pa = $pass[0];\n-\n-if ($_COOKIE[\"admin\"] != encode('admin', $pa)) {\n-    Header(\"Location: login.php\");\n-}\n-?>\n-\n-<!DOCTYPE html>\n-<html lang=\"zh-cn\">\n-\n-<head>\n-    <meta charset=\"utf-8\">\n-    <title>RapidCMS\u7ba1\u7406\u540e\u53f0</title>\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n-    <link rel=\"shortcut icon\"\" href=\" ../../../../../resource/img/icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mdui.min.css\" />\n-    <link rel=\"stylesheet\" href=\"../../../../../../resource/css/mtu.min.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../resource/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"../../../../../template/default/theme.css\">\n-    \n-</head>\n-\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-deep-purple mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n-        <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n-        <span class=\"mdui-typo-title\">RapidCMS \u7ba1\u7406\u540e\u53f0</span>\n-    </div>\n-\n-    <? include(\"drawer.php\"); ?>\n-\n-    <style>\n-        * {\n-            font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n-        }\n-    </style>\n-    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n-\n-        <div class=\"mdui-card\" style=\"overflow:scroll\">\n-\n-            <div class=\"mdui-card-primary\">\n-                <div class=\"mdui-card-primary-title\" style=\"font-size:30px;\">\u7528\u6237\u8bbe\u7f6e</div>\n-            </div>\n-           \n-                <m-scrollbar style=\"height: 650px;width:900px;\">\n-                    <div style=\"width:80%;position: absolute;left: 50%;    transform: translateX(-50%  );\"  class=\"mdui-table-fluid\">\n-                        <table class=\"mdui-table\">\n-                            <thead>\n-                                <tr>\n-                                    <th>\u7528\u6237\u540d</th>\n-                                    <th>\u7528\u6237\u72b6\u6001</th>\n-                                    <th  class=\"mdui-table-col-numeric\"> </th>\n-                                </tr>\n-                            </thead>\n-                            <tbody>\n-\n-                    <?php\n-                    $table_name = \"rapidcmsuser\";\n-                    $json_string = file_get_contents('../install/sql-config/sql.json');\n-                    $data = json_decode($json_string, true);\n-                    $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n-                    $sql = 'select * from `' . $table_name . '`';\n-                    $res = mysqli_query($conn, $sql);\n-                    $colums = mysqli_num_fields($res);\n-                    while ($row = mysqli_fetch_row($res)) {\n-                       echo \"<tr>\";\n-                        echo \"</tr>\";\n-                        echo \"<td>$row[0]</td>\";\n-                        echo \"<td>$row[2]</td>\";\n-                        echo '<td ><a href=\"user-del.php?username='.$row[0].'\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe872;</i></button></a>&nbsp;&nbsp;&nbsp;&nbsp;';\n-                        echo '<a href=\"user-move.php?username='.$row[0].'\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a></td>';\n-                    }\n-                    ?>\n-                                  \n-                               \n-                            </tbody>\n-                        </table>\n-                    </div>\n-                </m-scrollbar>\n-  \n-        </div>\n-\n-    </div>\n-\n-    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n-    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n-</body>\n-\n-</html>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/user/user-del.php",
          "status": "added",
          "additions": 20,
          "deletions": 0,
          "patch": "@@ -0,0 +1,20 @@\n+<?php\n+include(\"../check.php\");\n+\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+\n+      $str=\"DELETE FROM `rapidcmsuser` WHERE username='\".$_GET[\"username\"].\"'\";\n+\t  $result=mysqli_query($link,$str);\n+      sendalert(\"\u5220\u9664\u6210\u529f\uff01\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/user/user-move-run.php",
          "status": "added",
          "additions": 21,
          "deletions": 0,
          "patch": "@@ -0,0 +1,21 @@\n+<?php\n+include(\"../check.php\");\n+\n+header ( \"Content-type:text/html;charset=utf-8\" );\n+$json_string = file_get_contents('../../install/sql-config/sql.json');\n+$dataxxx = json_decode($json_string, true);\n+$link=mysqli_connect($dataxxx['server'],$dataxxx['dbusername'],$dataxxx['dbpassword']);\n+\n+if($link)\n+{\n+    $select=mysqli_select_db($link,$dataxxx['dbname']);\n+  if($select)\n+  {\n+    $password1=md5(sha1(md5($_POST[\"password\"])));\n+      $str=\"UPDATE `rapidcmsuser` SET `password`= '\".$password1.\"' WHERE username='\".$_POST[\"username\"].\"'\";\n+\n+\t  $result=mysqli_query($link,$str);\n+    sendalert(\"\u4fee\u6539\u6210\u529f\uff01\");\n+  }\n+}\n+?>\n\\ No newline at end of file"
        },
        {
          "filename": "admin/user/user-move.php",
          "status": "added",
          "additions": 47,
          "deletions": 0,
          "patch": "@@ -0,0 +1,47 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+\n+    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+        <div class=\"mdui-card\">\n+\n+            <div class=\"mdui-card-primary\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px\">\u7528\u6237\u8bbe\u7f6e</div>\n+            </div>\n+           \n+                <m-scrollbar style=\"height: 650px;width:900px;text-align:left \">\n+                <div id=\"login\" class=\"mc-account mc-login mdui-dialog mdui-dialog-open \" style=\"overflow: hidden;z-index:999;display: block; top: 150.104px; height: 540.792px;\">\n+                <button class=\"mdui-btn mdui-btn-icon close\" onclick=\"window.location.href='user.php'\"><i class=\"mdui-icon material-icons\">close</i></button>\n+ \n+<div class=\"mdui-dialog-title\">\u4fee\u6539\u7528\u6237\u5bc6\u7801</div>\n+<form method=\"post\" action=\"user-move-run.php\">\n+<div style=\"display:none\" class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \"><label class=\"mdui-textfield-label\">\u7528\u6237\u540d</label><input class=\"mdui-textfield-input\" value=\"<?echo $_GET[\"username\"]?>\"  name=\"username\" type=\"text\" >\n+        <div class=\"mdui-textfield-error\">\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a</div>\n+    </div>\n+    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom \"><label class=\"mdui-textfield-label\">\u7528\u6237\u540d</label><input class=\"mdui-textfield-input\" value=\"<?echo $_GET[\"username\"]?>\" type=\"text\" disabled=\"true\">\n+        <div class=\"mdui-textfield-error\">\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a</div>\n+    </div>\n+    <div class=\"mdui-textfield mdui-textfield-floating-label mdui-textfield-has-bottom\"><label class=\"mdui-textfield-label\">\u65b0\u5bc6\u7801</label><input class=\"mdui-textfield-input\" name=\"password\" type=\"password\" required=\"\">\n+        <div class=\"mdui-textfield-error\">\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a</div>\n+    </div>\n+    <div class=\"actions mdui-clearfix\">\n+       <button type=\"submit\" name=\"sub\" class=\"mdui-btn mdui-btn-raised mdui-color-theme action-btn\">\u4fee\u6539</button>\n+    </div>\n+</form>\n+</div>\n+                </m-scrollbar>\n+  \n+        </div>\n+\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n+\n+\n+"
        },
        {
          "filename": "admin/user/user.php",
          "status": "added",
          "additions": 58,
          "deletions": 0,
          "patch": "@@ -0,0 +1,58 @@\n+<?php\n+include(\"../header.php\");\n+\n+?>\n+\n+    <div style=\"    position: absolute;left: 60%;top:10%;text-align:center;    transform: translateX(-50%  );\">\n+\n+        <div class=\"mdui-card\" style=\"overflow:scroll\">\n+\n+            <div class=\"mdui-card-primary\">\n+                <div class=\"mdui-card-primary-title\" style=\"font-size:30px;\">\u7528\u6237\u8bbe\u7f6e</div>\n+            </div>\n+           \n+                <m-scrollbar style=\"height: 650px;width:900px;\">\n+                    <div style=\"width:80%;position: absolute;left: 50%;    transform: translateX(-50%  );\"  class=\"mdui-table-fluid\">\n+                        <table class=\"mdui-table\">\n+                            <thead>\n+                                <tr>\n+                                    <th>\u7528\u6237\u540d</th>\n+                                    <th>\u7528\u6237\u72b6\u6001</th>\n+                                    <th  class=\"mdui-table-col-numeric\"> </th>\n+                                </tr>\n+                            </thead>\n+                            <tbody>\n+\n+                    <?php\n+                    $table_name = \"rapidcmsuser\";\n+                    $json_string = file_get_contents('../../install/sql-config/sql.json');\n+                    $data = json_decode($json_string, true);\n+                    $conn = mysqli_connect($data['server'], $data['dbusername'], $data['dbpassword'], $data['dbname']);\n+                    $sql = 'select * from `' . $table_name . '`';\n+                    $res = mysqli_query($conn, $sql);\n+                    $colums = mysqli_num_fields($res);\n+                    while ($row = mysqli_fetch_row($res)) {\n+                       echo \"<tr>\";\n+                        echo \"</tr>\";\n+                        echo \"<td>$row[0]</td>\";\n+                        echo \"<td>$row[2]</td>\";\n+                        echo '<td ><a href=\"user-del.php?username='.$row[0].'\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\"><i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe872;</i></button></a>&nbsp;&nbsp;&nbsp;&nbsp;';\n+                        echo '<a href=\"user-move.php?username='.$row[0].'\"><button class=\"mdui-btn mdui-btn-icon mdui-ripple\">   <i style=\"color:#6E6E6E\" class=\"mdui-icon material-icons\">&#xe3c9;</i></button></a></td>';\n+                    }\n+                    ?>\n+                                  \n+                               \n+                            </tbody>\n+                        </table>\n+                    </div>\n+                </m-scrollbar>\n+  \n+        </div>\n+\n+    </div>\n+\n+    <script src=\"../../../../../../resource/js/mtu.min.js\"></script>\n+    <script src=\"../../../../../../resource/js/mdui.min.js\"></script>\n+</body>\n+\n+</html>\n\\ No newline at end of file"
        },
        {
          "filename": "install/install-config/install.json",
          "status": "modified",
          "additions": 1,
          "deletions": 0,
          "patch": "@@ -0,0 +1 @@\n+{\"lock\":\"install\"}\n\\ No newline at end of file"
        },
        {
          "filename": "resource/config/index.json",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -1 +1 @@\n-{\"close\":\"false\",\"template\":\"default\",\"version\":\"1.3.1\",\"rewrite\":\"false\"}\n\\ No newline at end of file\n+{\"template\":\"default\",\"version\":\"1.3.1\",\"rewrite\":\"false\",\"close\":\"false\"}\n\\ No newline at end of file"
        },
        {
          "filename": "resource/config/tool.json",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -1 +1 @@\n-{\"tool\":\"true\",\"kind\":\"one\",\"content\":\"<center><p id=\\\"hitokoto\\\"><a style=\\\"color:#000000\\\" href=\\\"#\\\" id=\\\"hitokoto_text\\\">\\u83b7\\u53d6\\u4e2d...<\\/a><\\/p><\\/center><script>fetch('https:\\/\\/v1.hitokoto.cn').then(response => response.json()).then(data => {const hitokoto = document.querySelector('#hitokoto_text');hitokoto.href = 'https:\\/\\/hitokoto.cn\\/?uuid=' + data.uuid;\\r\\n        if (data.from_who == null) {\\r\\n        hitokoto.innerHTML = \\\"\\u300c \\\" + data.hitokoto + \\\" \\u300d<br>\\u2014\\u2014\\\" + data.from;\\r\\n        }else {\\r\\n        hitokoto.innerHTML = \\\"\\u300c \\\" + data.hitokoto + \\\" \\u300d<br>\\u2014\\u2014\\\" + data.from_who + \\\"\\u300c\\\" + data.from + \\\"\\u300d\\\"\\r\\n        }}).catch(console.error)\\r\\n        <\\/script>\"}\n\\ No newline at end of file\n+{\"tool\":\"true\",\"kind\":\"time\",\"content\":\"<center><a  id=\\\"time_is_link\\\" rel=\\\"nofollow\\\" style=\\\"display:none\\\"><\\/a><span id=\\\"China_z43d\\\" style=\\\"font-size:25px;\\\"><\\/span><script src=\\\"https:\\/\\/widget.time.is\\/t.js\\\"><\\/script><script>time_is_widget.init({China_z43d:{}});<\\/script><\\/center>\"}\n\\ No newline at end of file"
        },
        {
          "filename": "template/default/article.php",
          "status": "modified",
          "additions": 6,
          "deletions": 1,
          "patch": "@@ -1,4 +1,9 @@\n <?php include(\"menu.php\") ?>\n+<style>\n+    * {\n+        font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n+    }\n+</style>\n <div class=\"mdui-container\" style=\"margin:auto;\">\n \n \n@@ -27,7 +32,7 @@\n             <?php\n             if ($data_tool[\"tool\"] == \"true\") {\n                 echo '<div class=\"mdui-card mdui-card-shadow question\"> <br>';\n-                echo ' <div class=\"mdui-typo\" style=\"padding: 10px;\">'.$data_tool[\"content\"].'</div><br></div><br>';\n+                echo ' <div class=\"mdui-typo\" style=\"padding: 10px;\">' . $data_tool[\"content\"] . '</div><br></div><br>';\n             }\n             ?>\n             <script>"
        },
        {
          "filename": "template/default/category.php",
          "status": "modified",
          "additions": 5,
          "deletions": 0,
          "patch": "@@ -1,4 +1,9 @@\n <?php include(\"menu.php\") ?>\n+<style>\n+    * {\n+        font-family: \"MiSans\", system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n+    }\n+</style>\n <div class=\"mdui-container\" style=\"margin:auto;overflow:auto;\">\n \n "
        },
        {
          "filename": "template/default/menu.php",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": "@@ -1,5 +1,5 @@\n-<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-indigo mdui-theme-primary-indigo mdui-text-color-white mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n-    <div class=\"mdui-toolbar mdui-color-theme mdui-text-color-white mdui-appbar mdui-appbar-fixed mdui-headroom\">\n+<body class=\" mdui-appbar-with-toolbar mdui-theme-accent-white  mdui-theme-primary-white mdui-text-color-black mdui-drawer-body-left\" style=\"--color-primary: 63, 81, 181; --color-accent: 63, 81, 181;\">\n+    <div class=\"mdui-toolbar mdui-color-white mdui-text-color-black mdui-appbar mdui-appbar-fixed mdui-headroom\">\n         <button class=\"drawer mdui-btn mdui-btn-icon mdui-ripple\" mdui-drawer=\"{target: '#drawer', swipe: true}\"><i class=\"mdui-icon material-icons\">menu</i></button>\n         <span class=\"mdui-typo-title\"><? echo $data_header[\"title\"]; ?></span>\n         <div class=\"mdui-toolbar-spacer\"></div>"
        },
        {
          "filename": "upload/upload_018b76064b09f369c0b05a7683438816.jpg",
          "status": "added",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "upload/upload_0c90f20de4713ce68725eacc71be4844.png",
          "status": "added",
          "additions": 0,
          "deletions": 0,
          "patch": null
        },
        {
          "filename": "upload/upload_87b28485bd8bf527f6d1348691e3fa51.png",
          "status": "added",
          "additions": 0,
          "deletions": 0,
          "patch": null
        }
      ],
      "file_patterns": {
        "security_files": 0,
        "config_files": 12,
        "dependency_files": 0,
        "test_files": 0,
        "unique_directories": 16,
        "max_directory_depth": 4
      },
      "context": {
        "surrounding_commits": [
          {
            "sha": "3ce881007e9bc86a2ab2b137f2f3b9da78a5148b",
            "date": "2023-08-28T01:42:55Z",
            "author_login": "codewyx"
          },
          {
            "sha": "3ea91bf9460e15d60cf842453182791855852137",
            "date": "2023-07-11T14:59:27Z",
            "author_login": "codewyx"
          },
          {
            "sha": "4dff387283060961c362d50105ff8da8ea40bcbe",
            "date": "2023-07-11T14:59:19Z",
            "author_login": "codewyx"
          },
          {
            "sha": "64ca1355c1b28915d8eb7877fd1e1583db83a32b",
            "date": "2023-06-23T07:22:11Z",
            "author_login": "codewyx"
          },
          {
            "sha": "170c866f6878fb41f1393c413e9b5ceabd25046e",
            "date": "2023-06-23T07:21:11Z",
            "author_login": "codewyx"
          }
        ]
      }
    }
  },
  "vulnerability_details": {
    "cvss_score": 6.3,
    "cvss_vector": "CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:L/A:L",
    "cwe_id": "CWE-640",
    "description": "A vulnerability was found in OpenRapid RapidCMS 1.3.1 and classified as critical. This issue affects some unknown processing of the file admin/run-movepass.php. The manipulation of the argument password/password2 leads to weak password recovery. The attack may be initiated remotely. The exploit has been disclosed to the public and may be used. The identifier of the patch is 4dff387283060961c362d50105ff8da8ea40bcbe. It is recommended to apply a patch to fix this issue. The identifier VDB-237569 was assigned to this vulnerability.",
    "attack_vector": "NETWORK",
    "attack_complexity": "LOW"
  },
  "temporal_data": {
    "published_date": "2023-08-21T02:15:10.227",
    "last_modified": "2024-11-21T08:35:10.783",
    "fix_date": "2023-07-11T14:59:19Z"
  },
  "references": [
    {
      "url": "https://github.com/OpenRapid/rapidcms/commit/4dff387283060961c362d50105ff8da8ea40bcbe#diff-fc57d4c69cf5912c6edb5233c6df069a91106ebd481c115faf1ea124478b26d0",
      "source": "cna@vuldb.com",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://github.com/OpenRapid/rapidcms/issues/5",
      "source": "cna@vuldb.com",
      "tags": [
        "Issue Tracking",
        "Patch"
      ]
    },
    {
      "url": "https://vuldb.com/?ctiid.237569",
      "source": "cna@vuldb.com",
      "tags": [
        "Permissions Required",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://vuldb.com/?id.237569",
      "source": "cna@vuldb.com",
      "tags": [
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/OpenRapid/rapidcms/commit/4dff387283060961c362d50105ff8da8ea40bcbe#diff-fc57d4c69cf5912c6edb5233c6df069a91106ebd481c115faf1ea124478b26d0",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://github.com/OpenRapid/rapidcms/issues/5",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Issue Tracking",
        "Patch"
      ]
    },
    {
      "url": "https://vuldb.com/?ctiid.237569",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Permissions Required",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://vuldb.com/?id.237569",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Third Party Advisory"
      ]
    }
  ],
  "collection_metadata": {
    "collected_at": "2025-01-11T23:06:06.449308",
    "processing_status": "raw"
  },
  "repository_context": {
    "name": "rapidcms",
    "owner": "OpenRapid",
    "created_at": "2023-01-18T08:45:33Z",
    "updated_at": "2024-04-23T10:58:22Z",
    "pushed_at": "2023-12-30T04:19:08Z",
    "size": 3176,
    "stars": 12,
    "forks": 1,
    "open_issues": 15,
    "watchers": 12,
    "has_security_policy": false,
    "default_branch": "main",
    "protected_branches": [],
    "languages": {
      "PHP": 639733,
      "JavaScript": 151049,
      "CSS": 119000,
      "Hack": 10840
    },
    "commit_activity": {
      "total_commits_last_year": 0,
      "avg_commits_per_week": 0,
      "days_active_last_year": 0
    },
    "security_features": {
      "has_security_policy": false,
      "has_protected_branches": false,
      "has_wiki": true,
      "has_issues": true,
      "allow_forking": true,
      "is_template": false,
      "license": "mit"
    },
    "collected_at": "2025-01-14T15:41:45.806934"
  }
}