{
  "cve_id": "CVE-2023-6849",
  "github_data": {
    "repository": "kalcaddle/kodbox",
    "fix_commit": "63a4d5708d210f119c24afd941d01a943e25334c",
    "related_commits": [
      "63a4d5708d210f119c24afd941d01a943e25334c",
      "63a4d5708d210f119c24afd941d01a943e25334c"
    ],
    "patch_url": null,
    "fix_commit_details": {
      "sha": "63a4d5708d210f119c24afd941d01a943e25334c",
      "commit_date": "2023-12-14T17:13:01Z",
      "author": {
        "login": "kalcaddle",
        "type": "User",
        "stats": null
      },
      "commit_message": {
        "title": "1.48.04 release",
        "length": 15,
        "has_description": false,
        "references_issue": false
      },
      "stats": {
        "total": 1553,
        "additions": 1059,
        "deletions": 494
      },
      "files": [
        {
          "filename": "app/controller/admin/log.class.php",
          "status": "modified",
          "additions": 2,
          "deletions": 1,
          "patch": "@@ -183,7 +183,8 @@ public function add($data=false){\n      */\n     private function filterIn(){\n         $in = $this->in;\n-        unset($in['URLrouter'],$in['URLremote'],$in['HTTP_DEBUG_URL'],$in['CSRF_TOKEN'],$in['accessToken'],$in[str_replace(\".\", \"/\", ACTION)]);\n+        unset($in['URLrouter'],$in['URLremote'],$in['HTTP_DEBUG_URL'],$in['CSRF_TOKEN'],\n+\t\t\t$in['safeToken'],$in['accessToken'],$in[str_replace(\".\", \"/\", ACTION)]);\n         return $in;\n     }\n "
        },
        {
          "filename": "app/controller/admin/server.class.php",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -9,7 +9,7 @@ function __construct() {\n \t}\n \n \t// phpinfo\n-\tpublic function srvPhpinfo(){\n+\tpublic function srvPinfo(){\n \t\tphpinfo();exit;\n \t}\n "
        },
        {
          "filename": "app/controller/admin/setting.class.php",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -180,7 +180,7 @@ private function removeFolder($folder,$children=false){\n \tpublic function server(){\r\n \t\t$data = Input::getArray(array(\r\n \t\t\t'tab'\t => array('default'=>'', 'aliasKey'=>'type'),\r\n-\t\t\t'action' => array('check'=>'in', 'param'=>array('get', 'phpinfo', 'save', 'task', 'clear'))\r\n+\t\t\t'action' => array('check'=>'in', 'param'=>array('get', 'pinfo', 'save', 'task', 'clear'))\r\n \t\t));\r\n \t\t$function = ($data['type'] ? $data['type'] : 'srv') . ucfirst($data['action']);\r\n \t\t// srvGet/cacheSave/dbSave/recoverySave\r"
        },
        {
          "filename": "app/controller/explorer/api.class.php",
          "status": "modified",
          "additions": 3,
          "deletions": 1,
          "patch": "@@ -31,7 +31,9 @@ private function setIdentify(){\n \t}\r\n \tpublic function checkAccessToken(){\r\n \t\t$config = Model('Plugin')->getConfig('fileView');\r\n-\t\tif(!$config['apiKey']) return;\r\n+\t\tif(!$config || !$config['apiKey']){\r\n+\t\t\tshow_tips('fileView not open ,or apiKey is empty!');\r\n+\t\t}\r\n \r\n \t\t$timeTo = isset($this->in['timeTo'])?intval($this->in['timeTo']):'';\r\n \t\t$token = md5($this->in['path'].$timeTo.$config['apiKey']);\r"
        },
        {
          "filename": "app/controller/explorer/editor.class.php",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": "@@ -83,8 +83,8 @@ private function contentPage($path,$size){\n \tprivate function fileGetZipContentCheck($path){\r\n \t\tif(!request_url_safe($path)) return;\r\n \t\t$urlInfo = parse_url_query($path);\r\n-\t\tif(!isset($urlInfo['index']) || !isset($urlInfo['path']) || !isset($urlInfo['accessToken'])) return;\r\n-\t\tif(!Action('user.index')->accessTokenCheck($urlInfo['accessToken'])){return;}\r\n+\t\tif(!isset($urlInfo['index']) || !isset($urlInfo['path']) || !isset($urlInfo['safeToken'])) return;\r\n+\t\tif(!Action('user.index')->safeTokenCheck($urlInfo['safeToken'])){return;}\r\n \t\t\r\n \t\t$zipFile  = rawurldecode($urlInfo['path']);\r\n \t\t$indexArr = @json_decode(rawurldecode($urlInfo['index']),true);\r"
        },
        {
          "filename": "app/controller/explorer/fav.class.php",
          "status": "modified",
          "additions": 3,
          "deletions": 1,
          "patch": "@@ -125,10 +125,12 @@ public function rename() {\n \t\t$data = Input::getArray(array(\r\n \t\t\t\"name\"\t\t=> array(\"check\"=>\"require\"),\r\n \t\t\t\"newName\"\t=> array(\"check\"=>\"require\"),\r\n+\t\t\t\"path\"\t\t=> array(\"check\"=>\"require\",\"default\"=>false),\r\n \t\t));\r\n \t\t$res = $this->model->rename($data['name'],$data['newName']);\r\n \t\t$msg = !!$res ? LNG('explorer.success') : LNG('explorer.repeatError');\r\n-\t\tshow_json($msg,!!$res);\r\n+\t\t$info = $res && $data['path'] ? $data['path']:false;\r\n+\t\tshow_json($msg,!!$res,$data['path']);\r\n \t}\r\n \t\r\n \t/**\r"
        },
        {
          "filename": "app/controller/explorer/index.class.php",
          "status": "modified",
          "additions": 10,
          "deletions": 4,
          "patch": "@@ -311,7 +311,10 @@ public function pathAllowCheck($path){\n \t\tif($parse['pathBase']){\r\n \t\t\t$path = $parse['param'];\r\n \t\t}\r\n-\t\t$name = get_path_this($path);\r\n+\t\t$name = trim(get_path_this($path));\r\n+\t\t$name = preg_replace_callback('/./u',function($match){return strlen($match[0]) >= 4 ? '':$match[0];},$name);\r\n+\t\tif(!$name){show_json(LNG('explorer.charNoSupport').'emoji',false);} // \u4e0d\u5141\u8bb8\u7eafemoji\u8868\u60c5; \u65b0\u5efa\u540e\u6587\u4ef6\u540d\u4e0d\u663e\u793a;\r\n+\t\t\r\n \t\t$checkName = str_replace($notAllow,'_',$name);\r\n \t\tif($name != $checkName){\r\n \t\t    show_json(LNG('explorer.charNoSupport').implode(',',$notAllow),false);\r\n@@ -325,7 +328,7 @@ public function pathAllowCheck($path){\n \t}\r\n \t\r\n \tpublic function mkfile(){\r\n-\t\t$this->pathAllowCheck($this->in['path'],true);\r\n+\t\t$this->pathAllowCheck($this->in['path']);\r\n \t\t$info = IO::info($this->in['path']);\r\n \t\tif($info && $info['type'] == 'file'){ //\u7236\u76ee\u5f55\u4e3a\u6587\u4ef6;\r\n \t\t\tshow_json(LNG('explorer.success'),true,IO::pathFather($info['path']));\r\n@@ -841,7 +844,7 @@ public function fileOutBy(){\n \t\t$parse = kodIO::parse($this->in['path']);\r\n \t\t$allow = array('',kodIO::KOD_IO,kodIO::KOD_USER_DRIVER,kodIO::KOD_SHARE_LINK);\r\n \t\tif(in_array($parse['type'],$allow)){\r\n-\t\t\t$distPath = kodIO::pathTrue(get_path_father($parse['path']).'/'.ltrim($add,'/'));\r\n+\t\t\t$distPath = kodIO::pathTrue($parse['path'].'/../'.$add);\r\n \t\t\t$distInfo = IO::info($distPath);\r\n \t\t}else{//KOD_SOURCE KOD_SHARE_ITEM(source,)\r\n \t\t\t$info = IO::info($parse['path']);\r\n@@ -857,13 +860,16 @@ public function fileOutBy(){\n \t\t\t\r\n \t\t\t$displayPathArr = explode('/',trim($info['pathDisplay'],'/'));array_shift($displayPathArr);\r\n \t\t\t$displayPath = $pathRoot.'/'.implode('/',$displayPathArr);\r\n-\t\t\t$distPath = kodIO::pathTrue(get_path_father($displayPath).'/'.$add);\r\n+\t\t\t$distPath = kodIO::pathTrue($displayPath.'/../'.$add);\r\n \t\t\t$distInfo = IO::infoFullSimple($distPath);\r\n \t\t}\r\n \t\t// pr($distPath,$distInfo,$parse,[$pathRoot,$displayPath,$info,$shareInfo]);exit;\r\n \t\tif(!$distInfo || $distInfo['type'] != 'file'){\r\n \t\t\treturn show_json(LNG('common.pathNotExists'),false);\r\n \t\t}\r\n+\t\tif(isset($this->in['type']) && $this->in['type'] == 'getTruePath'){\r\n+\t\t\tshow_json($distInfo['path'],true);\r\n+\t\t}\r\n \t\t\r\n \t\tActionCall('explorer.auth.canView',$distInfo['path']);// \u518d\u6b21\u5224\u65ad\u65b0\u8def\u5f84\u6743\u9650;\r\n \t\t$this->updateLastOpen($distInfo['path']);\r"
        },
        {
          "filename": "app/controller/explorer/list.class.php",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -281,7 +281,7 @@ public function pathCurrent($path,$loadInfo = true){\n \t\t}else if($pathParse['type'] == KodIO::KOD_USER_FILE_TAG){\r\n \t\t\t$list = Action('explorer.tag')->tagList();\r\n \t\t\t$current = $list[$pathParse['id']];\r\n-\t\t\t$current['name'] = LNG('common.tag').' - '.$current['name'];\r\n+\t\t\t$current['name'] = LNG('explorer.userTag.title').' - '.$current['name'];\r\n \t\t}\r\n \t\t$current['type'] = 'folder';\r\n \t\t$current['path'] = $path;\r"
        },
        {
          "filename": "app/controller/explorer/listBlock.class.php",
          "status": "modified",
          "additions": 5,
          "deletions": 4,
          "patch": "@@ -62,7 +62,7 @@ public function blockItems(){\n \t\t\t'files'\t\t=> array('name'=>LNG('common.position'),'open'=>true), \r\n \t\t\t'tools'\t\t=> array('name'=>LNG('common.tools'),'open'=>true),\r\n \t\t\t'fileType'\t=> array('name'=>LNG('common.fileType'),'open'=>false,'children'=>true,'pathDesc'=> LNG('explorer.pathDesc.fileType')),\r\n-\t\t\t'fileTag'\t=> array('name'=>LNG('common.tag'),'open'=>false,'children'=>true,'pathDesc'=> LNG('explorer.pathDesc.tag')),\r\n+\t\t\t'fileTag'\t=> array('name'=>LNG('explorer.userTag.title'),'open'=>false,'children'=>true,'pathDesc'=> LNG('explorer.pathDesc.tag')),\r\n \t\t\t'driver'\t=> array('name'=>LNG('common.mount').' (admin)','open'=>false,'pathDesc'=> LNG('explorer.pathDesc.mount')),\r\n \t\t);\r\n \t\treturn $list;\r\n@@ -120,9 +120,10 @@ private function blockFiles(){\n \t\t// \u6ca1\u6709\u6240\u5728\u90e8\u95e8\u65f6\u4e0d\u663e\u793a;\r\n \t\tif(isset($list['myGroup'])){\r\n \t\t\t$selfGroup \t= Session::get(\"kodUser.groupInfo\");\r\n-\t\t\t$groupArray = array_to_keyvalue($selfGroup,'','groupID');//\u81ea\u5df1\u6240\u5728\u7684\u7ec4\r\n-\t\t\t$group \t\t= array_remove_value($groupArray,$groupInfo['groupID']);\r\n-\t\t\tif(!$group){unset($list['myGroup']);}\r\n+\t\t\t// $groupArray = array_to_keyvalue($selfGroup,'','groupID');//\u81ea\u5df1\u6240\u5728\u7684\u7ec4\r\n+\t\t\t// $group \t\t= array_remove_value($groupArray,$groupInfo['groupID']);\r\n+\t\t\t// if(!$group){unset($list['myGroup']);}\r\n+\t\t\tif(!$selfGroup){unset($list['myGroup']);}\r\n \t\t}\r\n \r\n \t\t$explorer = Action('explorer.list');\r"
        },
        {
          "filename": "app/controller/explorer/listGroup.class.php",
          "status": "modified",
          "additions": 6,
          "deletions": 10,
          "patch": "@@ -114,19 +114,22 @@ private function groupArray($groupArray){\n \t\t$groupArray = array_sort_by($groupArray,'sort');// \u6392\u5e8f\u5904\u7406;\n \t\t$groupArray\t= array_to_keyvalue($groupArray,'groupID');//\u81ea\u5df1\u6240\u5728\u7684\u7ec4\n \t\t$this->_filterDisGroup($groupArray);\t// \u8fc7\u6ee4\u5df2\u7981\u7528\u90e8\u95e8\n-\t\t$group = array_remove_value(array_keys($groupArray),1);\n+\t\t// $group = array_remove_value(array_keys($groupArray),1);\n+\t\t$group = array_keys($groupArray);\n \t\tif(!$group) return array();\n \n \t\t$groupSource = $this->model->sourceRootGroup($group);\n \t\t$groupSource = array_to_keyvalue($groupSource,'targetID');\n \t\t$result = array();\n \t\tforeach($groupArray as $group){ // \u4fdd\u6301\u90e8\u95e8\u67e5\u8be2\u7ed3\u6784\u7684\u987a\u5e8f;\n \t\t\t$groupID = $group['groupID'];\n-\t\t\tif($groupID == '1') continue; // \u53bb\u9664\u6839\u90e8\u95e8\n+\t\t\t// if($groupID == '1') continue; // \u53bb\u9664\u6839\u90e8\u95e8\n \t\t\tif(!isset($groupSource[$groupID])) continue;\n \t\t\t\n-\t\t\t$pathInfo = $groupSource[$groupID];\t\t\t\n+\t\t\t$groupInfo = Model('Group')->getInfo($groupID);\n+\t\t\t$pathInfo  = $groupSource[$groupID];\t\t\t\n \t\t\t$pathInfo['sourceRoot'] = 'groupPath';\n+\t\t\t$pathInfo['hasGroup']   = $groupInfo ? $groupInfo['hasChildren']:0;\n \t\t\t$pathInfo['pathDisplay']= $pathInfo['groupPathDisplay'];\n \t\t\tif(!$pathInfo['auth']){\n \t\t\t\t$pathInfo['auth'] = Model(\"SourceAuth\")->authDeepCheck($pathInfo['sourceID']);\n@@ -138,13 +141,6 @@ private function groupArray($groupArray){\n \t\t\t\t\tcontinue;// \u6ca1\u6709\u6743\u9650;\n \t\t\t\t}\n \t\t\t}\n-\t\t\t\n-\t\t\t// \u6ca1\u6709\u5b50\u6587\u4ef6\u5939; \u5219\u83b7\u53d6\u662f\u5426\u6709\u5b50\u90e8\u95e8;\n-\t\t\t// if( !$pathInfo['hasFolder'] && !$pathInfo['hasFile'] ){\n-\t\t\tif( !$pathInfo['hasFolder'] ){\n-\t\t\t\t$groupInfo = Model('Group')->getInfo($groupID);\n-\t\t\t\t$pathInfo['hasFolder']  = $groupInfo ? $groupInfo['hasChildren']:false;\n-\t\t\t}\n \t\t\t$result[] = $pathInfo;\n \t\t}\n \t\t// pr($result,$groupSource,$group,$groupArray);exit;"
        },
        {
          "filename": "app/controller/explorer/share.class.php",
          "status": "modified",
          "additions": 16,
          "deletions": 5,
          "patch": "@@ -80,7 +80,7 @@ public function linkOut($path,$token=false){\n \t\t\t$etag = substr(md5($info['modifyTime'].$info['size']),0,5);\r\n \t\t}\r\n \t\t$url = urlApi($apiKey,\"path=\".rawurlencode($path).'&et='.$etag.'&name=/'.$name);\r\n-\t\tif($token) $url .= '&accessToken='.Action('user.index')->accessToken();\r\n+\t\tif($token) $url .= '&safeToken='.Action('user.index')->safeToken();\r\n \t\treturn $url;\r\n \t}\r\n \t\r\n@@ -327,9 +327,8 @@ public function pathInfo(){\n \t//\u8f93\u51fa\u6587\u4ef6\r\n \tpublic function fileOut(){\r\n \t\t$path = rawurldecode($this->in['path']);//\u5141\u8bb8\u4e2d\u6587\u7a7a\u683c\u7b49;\r\n-\t\tif(request_url_safe($path)) {\r\n-\t\t\theader('Location:' . $path);exit;\r\n-\t\t} \r\n+\t\tif(request_url_safe($path)){header('Location:'.$path);exit;}\r\n+\t\t\r\n \t\t$path = $this->parsePath($path);\r\n \t\t$isDownload = isset($this->in['download']) && $this->in['download'] == 1;\r\n \t\tHook::trigger('explorer.fileOut', $path);\r\n@@ -349,6 +348,18 @@ public function fileDownload(){\n \t\t$this->in['download'] = 1;\r\n \t\t$this->fileOut();\r\n \t}\r\n+\tpublic function fileOutBy(){\r\n+\t\t$add   = rawurldecode($this->in['add']);\r\n+\t\t$path  = rawurldecode($this->in['path']);\r\n+\t\tif(request_url_safe($path)){header('Location:'.$path);exit;}\r\n+\t\t\r\n+\t\t$distPath = kodIO::pathTrue($path.'/../'.$add);\r\n+\t\t$this->in['path'] = rawurlencode($distPath);\r\n+\t\tif(isset($this->in['type']) && $this->in['type'] == 'getTruePath'){\r\n+\t\t\tshow_json($distPath,true);\r\n+\t\t}\r\n+\t\t$this->fileOut();\r\n+\t}\r\n \t\r\n \tprivate function call($action){\r\n \t\t$this->in['path'] = $this->parsePath($this->in['path'],true);\r\n@@ -384,7 +395,7 @@ public function fileGetHash(){\n \t\t$url = $this->in['path'];\r\n \t\t$urlInfo = parse_url_query($url);\r\n \t\tif( !isset($urlInfo[\"explorer/share/unzipListHash\"]) && \r\n-\t\t\t!isset($urlInfo[\"accessToken\"])){\r\n+\t\t\t!isset($urlInfo[\"safeToken\"])){\r\n \t\t\tshow_json(LNG('common.pathNotExists'),false);\r\n \t\t}\r\n \t\t$index \t  = json_decode(rawurldecode($urlInfo['index']),true);\r"
        },
        {
          "filename": "app/controller/explorer/tag.class.php",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -80,7 +80,7 @@ public function listSource($tags){\n \t\t$result = Model(\"Source\")->listUserTag($tags);\r\n \t\t$tagInfo= $this->tagsInfo($tags);\r\n \t\t$tagInfo['pathAddress'] = array(\r\n-\t\t\tarray(\"name\"=> LNG('common.tag'),\"path\"=>'{block:fileTag}/'),\r\n+\t\t\tarray(\"name\"=> LNG('explorer.userTag.title'),\"path\"=>'{block:fileTag}/'),\r\n \t\t\tarray(\"name\"=> $tagInfo['name'],\"path\"=>$this->in['path']),\r\n \t\t);\r\n \t\t$tagInfo['pathDesc'] = LNG('explorer.tag.pathDesc');\r"
        },
        {
          "filename": "app/controller/explorer/userShare.class.php",
          "status": "modified",
          "additions": 1,
          "deletions": 2,
          "patch": "@@ -537,8 +537,7 @@ private function _getParam($key='shareID'){\n \t\t\tif($options['shareLinkAllow'] == '0'){\r\n \t\t\t\tshow_json(LNG('admin.setting.shareLinkAllowTips'),false);\r\n \t\t\t}\r\n-\t\t\t// \u521d\u59cb\u5316\u4e0d\u68c0\u6d4b\r\n-\t\t\tif($data['shareID'] && $options['shareLinkPasswordAllowEmpty'] == '0' && !$data['password']){\r\n+\t\t\tif($options['shareLinkPasswordAllowEmpty'] == '0' && !$data['password']){\r\n \t\t\t\tshow_json(LNG('user.pwdNotNull'),false);\r\n \t\t\t}\r\n \t\t\tif($options['shareLinkAllowGuest'] == '0'){\r"
        },
        {
          "filename": "app/controller/filter/fileOut.class.php",
          "status": "added",
          "additions": 89,
          "deletions": 0,
          "patch": "@@ -0,0 +1,89 @@\n+<?php \n+/*\n+* @link http://kodcloud.com/\n+* @author warlee | e-mail:kodcloud@qq.com\n+* @copyright warlee 2014.(Shanghai)Co.,Ltd\n+* @license http://kodcloud.com/tools/license/license.txt\n+*/\n+\n+/**\n+ * fileOut\u6570\u636e\u8fc7\u6ee4; fileOutBy \u76f8\u5bf9\u8def\u5f84\u5904\u7406:js-import; css-import.src\u5904\u7406;\n+ */\n+class filterFileOut extends Controller{\n+\tfunction __construct(){\n+\t\tparent::__construct();\n+\t}\n+\t// \u81ea\u52a8\u7ed1\u5b9a\u5904\u7406;\n+\tpublic function bind(){\n+\t\t$action = strtolower(ACTION);\n+\t\t$disableCookie = array(\n+\t\t\t'explorer.index.filedownload',\n+\t\t\t'explorer.index.fileout',\n+\t\t\t'explorer.index.fileoutby',\n+\t\t\t'explorer.share.filedownload',\n+\t\t\t'explorer.share.fileout',\n+\t\t\t'explorer.share.fileoutby',\n+\t\t);\n+\t\tif(in_array($action,$disableCookie)){Cookie::disable(true);allowCROS();}\n+\t\tHook::bind('PathDriverBase.fileOut.before',array($this,'fileOut'));\n+\t}\n+\t\n+\tpublic function fileOut($file,$fileSize,$filename,$ext){\n+\t\tif(!isset($this->in['replaceType']) || !$this->in['replaceType']){return;}\n+\t\tif(!$filename || $fileSize >= 10*1024*1024 || !in_array($ext,array('css','js')) ){return;}\n+\n+\t\t$content = IO::getContent($file);\n+\t\tif($ext == 'css' && $this->in['replaceType'] == 'css-import'){$this->cssParse($content);}\n+\t\tif($ext == 'js'  && $this->in['replaceType'] == 'script-import'){$this->scriptParse($content);}\n+\t\tif($ext == 'js'  && $this->in['replaceType'] == 'script-wasm'){$this->scriptParseWasm($content);}\n+\t}\n+\t\n+\tprivate function cssParse($content){\n+\t\t$self = $this;\n+\t\t$content = preg_replace_callback(\"/url\\s*\\(\\s*['\\\"]*(.*?)['\\\"]*\\s*\\)/\",function($matchs) use($self){\n+\t\t\treturn 'url(\"'.$self->urlFilter($matchs[1]).'\")';\n+\t\t},$content);\n+\t\t$content = preg_replace_callback(\"/@import\\s+['\\\"](.*\\.css)['\\\"]/u\",function($matchs) use($self){\n+\t\t\treturn '@import \"'.$self->urlFilter($matchs[1]).'\"';\n+\t\t},$content);\n+\t\t$this->output($content);\n+\t}\n+\tprivate function scriptParse($content){\n+\t\t$self = $this;\n+\t\t$content = preg_replace_callback(\"/self\\.importScripts\\s*\\(\\s*['\\\"]*(.*?)['\\\"]*\\s*\\)/\",function($matchs) use($self){\n+\t\t\treturn 'self.importScripts(\"'.$self->urlFilter($matchs[1]).'\")';\n+\t\t},$content);\n+\t\t$content = preg_replace_callback(\"/\\s+from\\s+['\\\"](.*?\\.js)['\\\"]/\",function($matchs) use($self){\n+\t\t\treturn ' from \"'.$self->urlFilter($matchs[1]).'\"';\n+\t\t},$content);\n+\t\t$content = preg_replace_callback(\"/import\\s+['\\\"](.*?\\.js)['\\\"]/\",function($matchs) use($self){\n+\t\t\treturn 'import \"'.$self->urlFilter($matchs[1]).'\"';\n+\t\t},$content);\n+\t\t$this->output($content);\n+\t}\n+\tprivate function scriptParseWasm($content){\n+\t\t$self = $this;\n+\t\t$content = preg_replace_callback(\"/=\\s*\\\"([\\w\\.\\-\\_]+\\.wasm)\\\"/\",function($matchs) use($self){\n+\t\t\treturn '=\"'.$self->urlFilter($matchs[1]).'\"';\n+\t\t},$content);\n+\t\t$this->output($content);\n+\t}\n+\t\n+\tprivate function urlFilter($url){\n+\t\tif(strpos($url,'?') > 0){$url = substr($url,0,strpos($url,'?'));}\n+\t\tif(strpos($url,'#') > 0){$url = substr($url,0,strpos($url,'#'));}\n+\t\t\n+\t\t// \u91c7\u7528\u76f8\u5bf9\u8def\u5f84\u91cd\u65b0\u8ba1\u7b97; \u786e\u4fdd\u591a\u4e2a\u4f4d\u7f6eimport \u6700\u540e\u5f15\u7528\u8def\u5f84\u4e00\u81f4; \n+\t\t// \u8def\u5f84\u6709\u53d8\u5316\u65f6js\u591a\u4e2a\u5730\u65b9import\u540c\u4e00\u4e2a\u6587\u4ef6,\u4f46url\u8def\u5f84\u4e0d\u4e00\u81f4,\u65f6\u4f1a\u5bfc\u81f4\u91cd\u590d\u6267\u884c;\n+\t\t$addNew = kodIO::pathTrue($this->in['add'].'/../'.$url);\n+\t\t$param  = '&safeToken='.$this->in['safeToken'].'&replaceType='.$this->in['replaceType'];\n+\t\t$url = APP_HOST.'?'.str_replace('.','/',ACTION);\n+\t\treturn $url.$param.'&path='.rawurlencode($this->in['path']).'&add='.rawurlencode($addNew);\n+\t}\n+\tprivate function output($content){\n+\t\theader('HTTP/1.1 200 OK');\n+\t\theader('Content-Encoding: none');\n+\t\theader('Content-Length:'.strlen($content));\n+\t\techo $content;exit;\n+\t}\n+}\n\\ No newline at end of file"
        },
        {
          "filename": "app/controller/filter/index.class.php",
          "status": "modified",
          "additions": 4,
          "deletions": 0,
          "patch": "@@ -17,6 +17,10 @@ class filterIndex extends Controller{\n \tfunction __construct() {\n \t\tparent::__construct();\n \t}\n+\t\n+\tpublic function bindBefore(){\n+\t\tAction(\"filter.fileOut\")->bind();\n+\t}\n \tpublic function bind(){\n \t\tAction(\"filter.userRequest\")->bind();\n \t\tAction(\"filter.userCheck\")->bind();"
        },
        {
          "filename": "app/controller/filter/post.class.php",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": "@@ -49,7 +49,7 @@ public function check(){\n \t\t\t'explorer.fileview'\t=> 'index',\n \t\t\t'explorer.history'\t=> 'fileOut',\n \t\t\t'explorer.index'\t=> 'fileOut,fileDownload,fileOutBy,fileDownloadRemove',\n-\t\t\t'explorer.share'\t=> 'file,fileOut,fileDownload,zipDownload,fileDownloadRemove',\n+\t\t\t'explorer.share'\t=> 'fileOut,fileDownload,fileOutBy,zipDownload,fileDownloadRemove,file',\n \t\t\t'admin.setting'\t\t=> 'get,server',\n \t\t\t'admin.repair'\t\t=> '*',\n \n@@ -102,7 +102,7 @@ public function check(){\n \t\n \t// csrfToken\u68c0\u6d4b; \u5141\u8bb8UA\u4e3aAPP,PC\u5ba2\u6237\u7aef\u7684\u60c5\u51b5;\n \tprivate function checkCsrfToken(){\n-\t\tif(isset($_REQUEST['accessToken'])) return;\n+\t\tif(isset($_REQUEST['accessToken']) || isset($_REQUEST['safeToken'])) return;\n \t\tif(!$this->in['CSRF_TOKEN'] || $this->in['CSRF_TOKEN'] != Cookie::get('CSRF_TOKEN')){\n \t\t\t$className\t= substr(ACTION,0,strrpos(ACTION,'.'));\n \t\t\tif(!Action($className)){header('HTTP/1.1 404 Not Found');exit;}"
        },
        {
          "filename": "app/controller/filter/userGroup.class.php",
          "status": "modified",
          "additions": 3,
          "deletions": 3,
          "patch": "@@ -92,9 +92,9 @@ private function checkItem($actions){\n \t\tif($allow){$allow = $this->userAuthEditCheck();$err=$allow?$err:1;}\n \t\tif($allow && $check['user']){ $allow = $this->allowChangeUser($this->in[$check['user']]);$err=$allow?$err:2;}\n \t\tif($allow && $check['userRole']){$allow = $this->allowChangeUserRole($this->in[$check['userRole']]);$err=$allow?$err:3;}\n-\t\tif($allow && $check['roleAuth']){$allow = $this->roleActionAllow($this->in[$check['roleAuth']]);$err=$allow?$err:4;}\n+\t\tif($allow && $check['roleAuth'] && isset($this->in['roleID'])){$allow = $this->roleActionAllow($this->in[$check['roleAuth']]);$err=$allow?$err:4;}\n \t\tif($allow && $check['groupArray']){$allow = $this->allowChangeGroupArray($check);$err=$allow?$err:5;}\n-\t\t// pr($err,$allow,$check,$this->in,'GET:',$_REQUEST);exit;\n+\t\t// trace_log([$err,$allow,$check,$this->in,'GET:',$_REQUEST]);\n \t\tif($allow) return true;\n \t\t$this->checkError($check);\n \t}\n@@ -291,7 +291,7 @@ public function allowViewGroup($selfGroup,$groups,$returnAllow=false){\n \n \t// \u6743\u9650\u4fee\u6539\u5220\u9664\u8303\u56f4\u5904\u7406: \u53ea\u80fd\u64cd\u4f5c\u6743\u9650\u5305\u542b\u5185\u5bb9\u5c0f\u4e8e\u7b49\u4e8e\u81ea\u5df1\u6743\u9650\u5305\u542b\u5185\u5bb9\u7684\u7c7b\u578b;  \u8bbe\u7f6e\u7528\u6237\u6743\u9650\u4e5f\u4ee5\u6b64\u4e3a\u6807\u51c6;\n \tpublic function allowChangeUserRole($roleID){\n-\t\tif(_get($GLOBALS,'isRoot')) return true;\n+\t\tif(_get($GLOBALS,'isRoot') || !$roleID) return true;\n \t\t$authInfo = Model('SystemRole')->listData($roleID);\n \t\tif($authInfo && $authInfo['administrator'] == 1) return false; // \u7cfb\u7edf\u7ba1\u7406\u5458\u4e0d\u5141\u8bb8\u975e\u7cfb\u7edf\u7ba1\u7406\u5458\u83b7\u53d6,\u8bbe\u7f6e\n \t\tif(!$this->config[\"ADMIN_ALLOW_ALL_ACTION\"]){return true;} // \u542f\u7528\u4e86\u4e09\u6743\u5206\u7acb,\u5b89\u5168\u4fdd\u5bc6\u5458\u5141\u8bb8\u83b7\u53d6,\u6216\u8bbe\u7f6e\u7528\u6237\u7684\u89d2\u8272;"
        },
        {
          "filename": "app/controller/user/index.class.php",
          "status": "modified",
          "additions": 47,
          "deletions": 39,
          "patch": "@@ -24,6 +24,7 @@ public function init(){\n \t\t\treturn ActionCall('install.index.check');\r\n \t\t}\r\n \t\t$this->initDB();   \t\t//\r\n+\t\tAction('filter.index')->bindBefore();\r\n \t\t$this->initSession();   //\r\n \t\t$this->initSetting();   // \r\n \t\tinit_check_update();\t// \u5347\u7ea7\u68c0\u6d4b\u5904\u7406;\r\n@@ -51,19 +52,29 @@ private function initSession(){\n \t\t$this->apiSignCheck();\r\n \t\t// \u5165\u53e3\u4e0d\u5904\u7406cookie,\u517c\u5bb9\u670d\u52a1\u5668\u542f\u7528\u4e86\u5168GET\u7f13\u5b58\u60c5\u51b5(\u8f93\u51fa\u524d\u4e00\u6b21\u7528\u6237\u767b\u5f55\u7684cookie,\u5bfc\u81f4\u8d26\u53f7\u767b\u5f55\u5f02\u5e38)\r\n \t\t$action= strtolower(ACTION);\r\n-\t\tif( $action == 'user.index.index' || \r\n-\t\t    $action == 'user.view.call'){\r\n+\t\tif( $action == 'user.index.index' || $action == 'user.view.call'){\r\n \t\t\tCookie::disable(true);\r\n \t\t}\r\n \t\t\r\n-\t\t$systemPassword = Model('SystemOption')->get('systemPassword');\r\n-\t\t$accessToken = isset($_REQUEST['accessToken']) ? $_REQUEST['accessToken'] : '';\r\n-\t\tif($accessToken && strlen($accessToken) < 500){\r\n-\t\t\t$pass = substr(md5('kodbox_'.$systemPassword),0,15);\r\n-\t\t\t$sessionSign = Mcrypt::decode($accessToken,$pass);\r\n+\t\t$systemPass = Model('SystemOption')->get('systemPassword');\r\n+\t\tif(isset($_REQUEST['accessToken'])){\r\n+\t\t\t$token = $_REQUEST['accessToken'];\r\n+\t\t\tif(!$token || strlen($token) > 500){show_json('token error!',false);}\r\n+\r\n+\t\t\t$pass = substr(md5('kodbox_'.$systemPass),0,15);\r\n+\t\t\t$sessionSign = Mcrypt::decode($token,$pass);\r\n \t\t\tif(!$sessionSign){show_json(LNG('common.loginTokenError'),ERROR_CODE_LOGOUT);}\r\n-\t\t\t$this->initAccessToken();\r\n+\t\t\tif($action == 'user.index.index'){Cookie::disable(false);} // \u5e26token\u7684url\u8df3\u8f6c\u5165\u53e3\u9875\u9762\u5141\u8bb8cookie\u8f93\u51fa;\r\n \t\t\tSession::sign($sessionSign);\r\n+\t\t}else if(isset($_REQUEST['safeToken'])){\r\n+\t\t\t// \u4ec5\u9650\u5f53\u524dip\u4f7f\u7528\u7684token,\u6709\u6548\u671f1\u5929(\u6587\u4ef6\u4e0b\u8f7d\u7b49\u5904\u4f7f\u7528\u8be5token,\u76f8\u5bf9\u66f4\u5b89\u5168)\r\n+\t\t\t$token = $_REQUEST['safeToken'];\r\n+\t\t\tif(!$token || strlen($token) > 500){show_json('token error!',false);}\r\n+\t\t\t\r\n+\t\t\t$pass = substr(md5('safe_'.get_client_ip().$systemPass),0,15);\r\n+\t\t\t$sessionSign = Mcrypt::decode($token,$pass);\r\n+\t\t\tif(!$sessionSign){show_json('safe token error(timeout or ip error)!',false);}\r\n+\t\t\tif($sessionSign){Session::sign($sessionSign);}\r\n \t\t}\r\n \t\t\r\n \t\tif(!Session::get('kod')){\r\n@@ -75,30 +86,6 @@ private function initSession(){\n \t\tif(!Cookie::get('CSRF_TOKEN')){Cookie::set('CSRF_TOKEN',rand_string(16));}\r\n \t}\r\n \t\r\n-\tpublic function accessTokenCheck($accessToken){\r\n-\t\t$systemPassword = Model('SystemOption')->get('systemPassword');\r\n-\t\tif(!$accessToken || strlen($accessToken) > 500) return false;\r\n-\t\t\r\n-\t\t$pass = substr(md5('kodbox_'.$systemPassword),0,15);\r\n-\t\t$sessionSign = Mcrypt::decode($accessToken,$pass);\r\n-\t\tif(!$sessionSign || $sessionSign != Session::sign()) return false;\r\n-\t\treturn true;\r\n-\t}\r\n-\t\r\n-\t// accesstoken \u767b\u5f55\u524d\u5904\u7406;\r\n-\tprivate function initAccessToken(){\r\n-\t\t$action = strtolower(ACTION);\r\n-\t\t$disableCookie = array(\r\n-\t\t\t'explorer.index.filedownload',\r\n-\t\t\t'explorer.index.fileout',\r\n-\t\t\t'explorer.share.filedownload',\r\n-\t\t\t'explorer.share.fileout',\r\n-\t\t);\r\n-\t\t$enableCookie = array('user.index.index');\r\n-\t\tif(in_array($action,$enableCookie)){Cookie::disable(false);} // \u5e26token\u7684url\u8df3\u8f6c\u5165\u53e3\u9875\u9762\u5141\u8bb8cookie\u8f93\u51fa;\r\n-\t\tif(in_array($action,$disableCookie)){Cookie::disable(true);allowCROS();}\r\n-\t}\r\n-\t\r\n \tprivate function initSetting(){\r\n \t\tif(!defined('STATIC_PATH')){\r\n \t\t\tdefine('STATIC_PATH',$GLOBALS['config']['settings']['staticPath']);\r\n@@ -208,18 +195,39 @@ private function userDataInit() {\n \t}\r\n \r\n \tpublic function accessToken(){\r\n-\t\t$pass = Model('SystemOption')->get('systemPassword');\r\n-\t\t$pass = substr(md5('kodbox_'.$pass),0,15);\r\n-\t\t$token = Mcrypt::encode(Session::sign(),$pass,3600*24*30);\r\n-\t\treturn $token;\r\n+\t\t$systemPass = Model('SystemOption')->get('systemPassword');\r\n+\t\t$pass = substr(md5('kodbox_'.$systemPass),0,15);\r\n+\t\treturn Mcrypt::encode(Session::sign(),$pass,3600*24*30);\r\n \t}\r\n \tpublic function accessTokenGet(){\r\n-\t\tif(!Session::get('kodUser')){\r\n-\t\t\tshow_json('user not login!',ERROR_CODE_LOGOUT);\r\n-\t\t}\r\n+\t\tif(!Session::get('kodUser')){show_json('user not login!',ERROR_CODE_LOGOUT);}\r\n \t\tshow_json($this->accessToken(),true);\r\n+\t}\t\r\n+\tpublic function accessTokenCheck($token){\r\n+\t\tif(!$token || strlen($token) > 500) return false;\r\n+\r\n+\t\t$systemPass = Model('SystemOption')->get('systemPassword');\r\n+\t\t$pass = substr(md5('kodbox_'.$systemPass),0,15);\r\n+\t\t$sessionSign = Mcrypt::decode($token,$pass);\r\n+\t\tif(!$sessionSign || $sessionSign != Session::sign()) return false;\r\n+\t\treturn true;\r\n \t}\r\n \t\r\n+\tpublic function safeToken(){\r\n+\t\t$systemPass = Model('SystemOption')->get('systemPassword');\r\n+\t\t$pass = substr(md5('safe_'.get_client_ip().$systemPass),0,15);\r\n+\t\treturn Mcrypt::encode(Session::sign(),$pass,3600*24);\r\n+\t}\r\n+\tpublic function safeTokenCheck($token){\r\n+\t\tif(!$token || strlen($token) > 500) return false;\r\n+\t\t\r\n+\t\t$systemPass = Model('SystemOption')->get('systemPassword');\r\n+\t\t$pass = substr(md5('safe_'.get_client_ip().$systemPass),0,15);\r\n+\t\t$sessionSign = Mcrypt::decode($token,$pass);\r\n+\t\tif(!$sessionSign || $sessionSign != Session::sign()) return false;\r\n+\t\treturn true;\r\n+\t}\t\r\n+\t\r\n \t// \u767b\u5f55\u6821\u9a8c\u5e76\u81ea\u52a8\u8df3\u8f6c (\u5df2\u767b\u5f55\u5219\u76f4\u63a5\u8df3\u8f6c,\u672a\u767b\u5f55\u5219\u767b\u5f55\u6210\u529f\u540e\u8df3\u8f6c)\r\n \tpublic function autoLogin(){\r\n \t\t$link = $this->in['link'];\r"
        },
        {
          "filename": "app/function/file.function.php",
          "status": "modified",
          "additions": 3,
          "deletions": 8,
          "patch": "@@ -303,14 +303,9 @@ function get_path_father($path){\n function get_path_ext($path){\r\n \t$name = get_path_this($path);\r\n \t$ext = '';\r\n-\tif(strstr($name,'.')){\r\n-\t\t$ext = substr($name,strrpos($name,'.')+1);\r\n-\t\t$ext = strtolower($ext);\r\n-\t}\r\n-\tif (strlen($ext)>3 && preg_match(\"/([\\x81-\\xfe][\\x40-\\xfe])/\", $ext, $match)) {\r\n-\t\t$ext = '';\r\n-\t}\r\n-\treturn htmlspecialchars($ext);\r\n+\tif(strstr($name,'.')){$ext = substr($name,strrpos($name,'.')+1);}\r\n+\t$isMatch = preg_match(\"/[0-9a-zA-Z_]+/\",$ext,$match);// \u53ea\u5141\u8bb8\u6570\u5b57\u5b57\u6bcd\u548c\u4e0b\u5212\u7ebf\r\n+\treturn ($isMatch && $match[0]) ? strtolower($match[0]):'';\r\n }\r\n \r\n \r"
        },
        {
          "filename": "app/function/web.function.php",
          "status": "modified",
          "additions": 6,
          "deletions": 1,
          "patch": "@@ -1279,7 +1279,12 @@ function mime_array(){\n \t\t\"jfif\" => \"image/pipeg\",\r\n \t\t\"jpg\" => \"image/jpeg\",\r\n \t\t\"jpeg\" => \"image/jpeg\",\r\n-\t\t\"jpe\" => \"image/jpeg\",\r\n+\t\t\"jpe\"  => \"image/jpeg\",\r\n+\t\t\"heic\" => \"image/heic\",\r\n+\t\t\"webp\" => \"image/webp\",\r\n+\t\t\"cur\"  => \"image/x-icon\",\r\n+\t\t\"apng\" => \"image/apng\",\r\n+\t\t\"avif\" => \"image/avif\",\r\n \t\t\"js\" => \"application/javascript\",\r\n \t\t\"json\" => \"application/json\",\r\n \t\t\"latex\" => \"application/x-latex\",\r"
        },
        {
          "filename": "app/kod/ImageThumb.class.php",
          "status": "modified",
          "additions": 2,
          "deletions": 1,
          "patch": "@@ -69,7 +69,7 @@ public static function image($file){\n \t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t\t$img = @imagecreatefrompng($file);\n-\t\t\t\timagesavealpha($img,true);\n+\t\t\t\tif ($img) imagesavealpha($img,true);\n \t\t\t\tbreak;\n \t\t\tcase IMAGETYPE_XBM:\n \t\t\t\t$img = imagecreatefromxbm($file);\n@@ -82,6 +82,7 @@ public static function image($file){\n \t\t\t\tbreak;\n \t\t\tdefault:break;\n \t\t}\n+\t\tif (!$img) $img = @imagecreatefromstring(file_get_contents($file));\n \t\treturn $img;\n \t}\n "
        },
        {
          "filename": "app/kod/ZipMake.class.php",
          "status": "modified",
          "additions": 8,
          "deletions": 8,
          "patch": "@@ -102,20 +102,20 @@ public function finish(){\n \tprotected function addFileHeader($name,$zipMethod){\r\n \t\t$name = preg_replace('/^\\\\/+/', '', $name);\r\n \t\t$nlen = strlen($name);\r\n-\t\t$time        = $this->dosTime(time());\r\n-        $fields = array(\r\n+\t\t$time   = $this->dosTime(time());\r\n+        $fields = array(// v=2byte,V=4byte,P=8byte\r\n             array('V', static::FILE_HEADER_SIGNATURE),\r\n             array('v', static::ZIP_VERSION_64),\t\t\t// \u538b\u7f29\u7248\u672c\r\n             array('v', 0b00001000),\t\t\t\t\t\t// General purpose bit flags - data descriptor flag set\r\n-            array('v', $zipMethod),\t\t\t\t\t\t\t// Compression method\r\n-            array('V', $time),\t\t\t\t\t\t\t// Timestamp (DOS Format)\r\n+            array('v', $zipMethod),\t\t\t\t\t\t// Compression method\r\n+            array('V', $time),\t\t\t\t\t\t\t// Timestamp (DOS Format)  time=2byte/date/2byte\r\n             array('V', 0x00000000),\t\t\t\t\t\t// CRC32 of data (0 -> moved to data descriptor footer)\r\n-            array('V', 0xFFFFFFFF),\t\t\t\t\t\t// zip64\u65f6\u51680\r\n+            array('V', 0xFFFFFFFF),\t\t\t\t\t\t// zip64\u65f6\u51681\r\n             array('V', 0xFFFFFFFF),\t\t\t\t\t\t// Length of original data (Forced to 0xFFFFFFFF for 64bit extension)\r\n             array('v', $nlen),\t\t\t\t\t\t\t// Length of filename\r\n             array('v', 32),\t\t\t\t\t\t\t\t// Extra data (32 bytes)\r\n         );\t\r\n-        $fields64 = array(\r\n+        $fields64 = array(// 32Byte;\r\n             array('v', 0x0001),\t\t\t\t\t\t\t// 64Bit Extension\r\n             array('v', 28),\t\t\t\t\t\t\t\t// 28bytes of data follows \r\n             array('P', 0x0000000000000000),\t\t\t\t// Length of original data (0 -> moved to data descriptor footer)\r\n@@ -182,7 +182,7 @@ protected function addCdrFile($args){\n             array('v', static::ZIP_VERSION_64),\t\t\t// Made by version\r\n             array('v', static::ZIP_VERSION_64),\t\t\t// Extract by version\r\n             array('v', 0b00001000),\t\t\t\t\t\t// General purpose bit flags - data descriptor flag set\r\n-            array('v', $zipMethod),\t\t\t\t\t\t\t// Compression method\r\n+            array('v', $zipMethod),\t\t\t\t\t\t// Compression method\r\n             array('V', $time),\t\t\t\t\t\t\t// Timestamp (DOS Format)\r\n             array('V', $crc),\t\t\t\t\t\t\t// CRC32\r\n             array('V', 0xFFFFFFFF),\t\t\t\t\t\t// Compressed Data Length (Forced to 0xFFFFFFFF for 64bit Extension)\r\n@@ -199,7 +199,7 @@ protected function addCdrFile($args){\n             array('v', 0x0001),\t\t\t\t\t\t\t// 64Bit Extension\r\n             array('v', 28),\t\t\t\t\t\t\t\t// 28bytes of data follows \r\n             array('P', $len),\t\t\t\t\t\t\t// Length of original data (0 -> moved to data descriptor footer)\r\n-            array('P', $zipLength),\t\t\t\t\t\t\t// Length of compressed data (0 -> moved to data descriptor footer)\r\n+            array('P', $zipLength),\t\t\t\t\t\t// Length of compressed data (0 -> moved to data descriptor footer)\r\n             array('P', $offset),\t\t\t\t\t\t// Relative Header Offset\r\n             array('V', 0)\t\t\t\t\t\t\t\t// Disk number\r\n         );\r"
        },
        {
          "filename": "app/sdks/ServerInfo.class.php",
          "status": "modified",
          "additions": 27,
          "deletions": 15,
          "patch": "@@ -19,25 +19,37 @@ public function memUsage(){\n         return $this->$action();\n     }\n \n+    // \u83b7\u53d6/proc/xx\u6587\u4ef6\u5185\u5bb9\n+    private static function getFileContent($file){\n+        static $readList = array();\n+        if (!isset($readList[$file])) {\n+            $readList[$file] = @is_readable($file);\n+        }\n+        if ($readList[$file]) {\n+            return file_get_contents($file);\n+        }\n+        return shell_exec('cat '.$file);\n+    }\n+\n     /**\n      * cpu\u4f7f\u7528\u7387-linux\n      * @return void\n      */\n     public function cpuUsageLinux(){\n-        $filePath = ('/proc/stat');\n-        if ( !@is_readable($filePath)) {\n-            return 0;\n-        }\n-        $stat1  = file($filePath);\n+        $filePath = '/proc/stat';\n+        $stat1  = self::getFileContent($filePath);\n+        if (!$stat1) return 0;\n         sleep(1);\n-        $stat2  = file($filePath);\n-        $info1  = explode(' ', preg_replace('!cpu +!', '', $stat1[0]));\n-        $info2  = explode(' ', preg_replace('!cpu +!', '', $stat2[0]));\n-        $total1 = array_sum($info1);\n-        $total2 = array_sum($info2);\n-        $time1  = $total1 - $info1[3];\n-        $time2  = $total2 - $info2[3];\n-        return round(($time2 - $time1) / ($total2 - $total1), 3);\n+        $stat2  = self::getFileContent($filePath);\n+        $info1  = explode(\" \", preg_replace(\"!cpu +!\", \"\", $stat1));\n+        $info2  = explode(\" \", preg_replace(\"!cpu +!\", \"\", $stat2));\n+        $dif    = array();\n+        $dif['user']    = $info2[0] - $info1[0];\n+        $dif['nice']    = $info2[1] - $info1[1];\n+        $dif['sys']     = $info2[2] - $info1[2];\n+        $dif['idle']    = $info2[3] - $info1[3];\n+        $total  = array_sum($dif);\n+        return round(($total - $dif['idle']) / $total, 3);\n     }\n     \n     /**\n@@ -90,11 +102,11 @@ public static function getMemoryUsage($key){\n         static $memInfo = null;\n         if (null === $memInfo) {\n             $memInfoFile = '/proc/meminfo';\n-            if ( !@is_readable($memInfoFile)) {\n+            $memInfo = self::getFileContent($memInfoFile);\n+            if (!$memInfo) {\n                 $memInfo = 0;\n                 return 0;\n             }\n-            $memInfo = file_get_contents($memInfoFile);\n             $memInfo = str_replace(array(\n                 ' kB',\n                 '  ',"
        },
        {
          "filename": "app/sdks/archiveLib/bin/data.bin",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": null
        },
        {
          "filename": "app/sdks/archiveLib/pclzip.class.php",
          "status": "modified",
          "additions": 192,
          "deletions": 145,
          "patch": "@@ -36,7 +36,7 @@\n \r\n   // ----- Constants\r\n   if (!defined('PCLZIP_READ_BLOCK_SIZE')) {\r\n-    define( 'PCLZIP_READ_BLOCK_SIZE', 2048 );\r\n+    define( 'PCLZIP_READ_BLOCK_SIZE', 2048000 );\r\n   }\r\n   \r\n   // ----- File list separator\r\n@@ -1338,6 +1338,7 @@ function errorName($p_with_code=false)\n       $v_value = 'NoName';\r\n     }\r\n \r\n+\t$v_value = $v_value.','.$this->error_string;\r\n     if ($p_with_code) {\r\n       return($v_value.' ('.$this->error_code.')');\r\n     }\r\n@@ -2853,11 +2854,14 @@ function privAddFileUsingTempFile($p_filedescr, &$p_header, &$p_options)\n \r\n     // ----- Read the file by PCLZIP_READ_BLOCK_SIZE octets blocks\r\n     $v_size = filesize($p_filename);\r\n+\t$size_total = $v_size;$size_read = 0;\r\n     while ($v_size != 0) {\r\n       $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);\r\n       $v_buffer = @fread($v_file, $v_read_size);\r\n       //$v_binary_data = pack('a'.$v_read_size, $v_buffer);\r\n       @gzputs($v_file_compressed, $v_buffer, $v_read_size);\r\n+\t  $size_read += strlen($v_buffer);\r\n+\t  $this->zipMessage('zipEncode',$p_filename,$size_read,$size_total);\r\n       $v_size -= $v_read_size;\r\n     }\r\n \r\n@@ -2894,6 +2898,7 @@ function privAddFileUsingTempFile($p_filedescr, &$p_header, &$p_options)\n     //$p_header['mtime'] = $v_data_header['mtime'];\r\n     $p_header['crc'] = $v_data_footer['crc'];\r\n     $p_header['compressed_size'] = filesize($v_gzip_temp_name)-18;\r\n+\t$compressed_size = $p_header['compressed_size']; // \u8bb0\u5f55,privWriteFileHeader\u4e2d\u53ef\u80fd\u88ab\u4fee\u6539;\r\n \r\n     // ----- Close the file\r\n     @fclose($v_file_compressed);\r\n@@ -2912,13 +2917,15 @@ function privAddFileUsingTempFile($p_filedescr, &$p_header, &$p_options)\n \r\n     // ----- Read the file by PCLZIP_READ_BLOCK_SIZE octets blocks\r\n     fseek($v_file_compressed, 10);\r\n-    $v_size = $p_header['compressed_size'];\r\n-    while ($v_size != 0)\r\n+    $v_size = $compressed_size;$size_total = $v_size;$size_read = 0;\r\n+    while ($v_size > 0)\r\n     {\r\n       $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);\r\n       $v_buffer = @fread($v_file_compressed, $v_read_size);\r\n       //$v_binary_data = pack('a'.$v_read_size, $v_buffer);\r\n       @fwrite($this->zip_fd, $v_buffer, $v_read_size);\r\n+\t  $size_read += strlen($v_buffer);\r\n+\t  $this->zipMessage('zipMove',$p_filename,$size_read,$size_total);\r\n       $v_size -= $v_read_size;\r\n     }\r\n \r\n@@ -3064,6 +3071,7 @@ function privWriteFileHeader(&$p_header)\n     $v_date = getdate($p_header['mtime']);\r\n     $v_mtime = ($v_date['hours']<<11) + ($v_date['minutes']<<5) + $v_date['seconds']/2;\r\n     $v_mdate = (($v_date['year']-1980)<<9) + ($v_date['mon']<<5) + $v_date['mday'];\r\n+\t$this->writeZip64ExtraData($p_header);\r\n \r\n     // ----- Packed data\r\n     $v_binary_data = pack(\"VvvvvvVVVvv\", 0x04034b50,\r\n@@ -3110,7 +3118,7 @@ function privWriteCentralFileHeader(&$p_header)\n     $v_date = getdate($p_header['mtime']);\r\n     $v_mtime = ($v_date['hours']<<11) + ($v_date['minutes']<<5) + $v_date['seconds']/2;\r\n     $v_mdate = (($v_date['year']-1980)<<9) + ($v_date['mon']<<5) + $v_date['mday'];\r\n-\r\n+\t$this->writeZip64ExtraData($p_header,true);\r\n \r\n     // ----- Packed data\r\n     $v_binary_data = pack(\"VvvvvvvVVVvvvvvVV\", 0x02014b50,\r\n@@ -3876,7 +3884,7 @@ function privExtractFile(&$p_entry, $p_path, $p_remove_path, $p_remove_all_path,\n \r\n \r\n           // ----- Read the file by PCLZIP_READ_BLOCK_SIZE octets blocks\r\n-          $v_size = $p_entry['compressed_size'];\r\n+          $v_size = $p_entry['compressed_size'];$read_num=0;\r\n           while ($v_size != 0)\r\n           {\r\n             $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);\r\n@@ -3885,7 +3893,9 @@ function privExtractFile(&$p_entry, $p_path, $p_remove_path, $p_remove_all_path,\n             $v_binary_data = pack('a'.$v_read_size, $v_buffer);\r\n             @fwrite($v_dest_file, $v_binary_data, $v_read_size);\r\n             */\r\n-            @fwrite($v_dest_file, $v_buffer, $v_read_size);            \r\n+            @fwrite($v_dest_file, $v_buffer, $v_read_size);  \r\n+\t\t\t$read_num += strlen($v_buffer);\r\n+\t\t\t$this->zipMessage('unzipStream',$p_entry['filename'],$read_num,$p_entry['size']);          \r\n             $v_size -= $v_read_size;\r\n           }\r\n \r\n@@ -3936,6 +3946,7 @@ function privExtractFile(&$p_entry, $p_path, $p_remove_path, $p_remove_all_path,\n \t\t\t\t\tif($buffer !== false){\r\n \t\t\t\t\t\t@fwrite($v_dest_file,$buffer,$chunk);\r\n \t\t\t\t\t}\r\n+\t\t\t\t\t$this->zipMessage('unzipStream',$p_entry['filename'],$read_num,$p_entry['size']);\r\n \t\t\t\t\t$read_num += $chunk;\r\n \t\t\t\t}\r\n \t\t\t\tstream_filter_remove($gz_filter);\r\n@@ -3974,6 +3985,7 @@ function privExtractFile(&$p_entry, $p_path, $p_remove_path, $p_remove_all_path,\n             // ----- Write the uncompressed data\r\n             @fwrite($v_dest_file, $v_file_content, $p_entry['size']);\r\n             unset($v_file_content);\r\n+\t\t\t$this->zipMessage('unzipStream',$p_entry['filename'],strlen($v_file_content),$p_entry['size']);\r\n   \r\n             // ----- Closing the destination file\r\n             @fclose($v_dest_file);\r\n@@ -4048,13 +4060,15 @@ function privExtractFileUsingTempFile(&$p_entry, &$p_options)\n     @fwrite($v_dest_file, $v_binary_data, 10);\r\n \r\n     // ----- Read the file by PCLZIP_READ_BLOCK_SIZE octets blocks\r\n-    $v_size = $p_entry['compressed_size'];\r\n+    $v_size = $p_entry['compressed_size'];$read_num=0;\r\n     while ($v_size != 0)\r\n     {\r\n       $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);\r\n       $v_buffer = @fread($this->zip_fd, $v_read_size);\r\n       //$v_binary_data = pack('a'.$v_read_size, $v_buffer);\r\n       @fwrite($v_dest_file, $v_buffer, $v_read_size);\r\n+\t  $read_num += strlen($v_buffer);\r\n+\t  $this->zipMessage('unzipCopy',$p_entry['filename'],$read_num,$p_entry['size']);  \r\n       $v_size -= $v_read_size;\r\n     }\r\n \r\n@@ -4081,12 +4095,14 @@ function privExtractFileUsingTempFile(&$p_entry, &$p_options)\n \r\n \r\n     // ----- Read the file by PCLZIP_READ_BLOCK_SIZE octets blocks\r\n-    $v_size = $p_entry['size'];\r\n+    $v_size = $p_entry['size'];$read_num=0;\r\n     while ($v_size != 0) {\r\n       $v_read_size = ($v_size < PCLZIP_READ_BLOCK_SIZE ? $v_size : PCLZIP_READ_BLOCK_SIZE);\r\n       $v_buffer = @gzread($v_src_file, $v_read_size);\r\n       //$v_binary_data = pack('a'.$v_read_size, $v_buffer);\r\n       @fwrite($v_dest_file, $v_buffer, $v_read_size);\r\n+\t  $read_num += strlen($v_buffer);\r\n+\t  $this->zipMessage('unzipStream',$p_entry['filename'],$read_num,$p_entry['size']);  \r\n       $v_size -= $v_read_size;\r\n     }\r\n     @fclose($v_dest_file);\r\n@@ -4438,87 +4454,173 @@ function privReadFileHeader(&$p_header)\n     // ----- Return\r\n     return $v_result;\r\n   }\r\n-  // --------------------------------------------------------------------------------\r\n   \r\n-  //zip64 footer:extra data;add by warlee;\r\n-  //64\u4f4d\u6587\u4ef6\u5934\u8bfb\u53d6\u5904\u7406\r\n-  function readZip64ExtraData(&$p_header){\r\n-    $size   = filesize($this->zipname);\r\n-    //\u4e0d\u7b26\u5408zip64 \u7684\u5927\u4e8e4G\u7684\u6587\u4ef6\u5904\u7406\uff1b\u6ea2\u51fa\u5bfb\u627e\u6807\u8bb0\u5934\uff1b\r\n-    if(!$this->zip64 && $size >= 0xFFFFFFFF){\r\n-      $zip  = fopen($this->zipname,'rb');\r\n-      $from = $p_header['offset'];\r\n-      while($from < $size){\r\n-        fseek($zip,$from);\r\n-        $sign = unpack('Vid',@fread($zip, 4));\r\n-        //pr($from,$sign,0x04034b50);\r\n-        if($sign['id'] == 0x04034b50){\r\n-          $p_header['offset'] = $from;\r\n-          break;\r\n-        }else{\r\n-          $from = $from + 0xFFFFFFFF + 1;//\r\n-        }\r\n-      }\r\n-\r\n-      //mac\u4e0b\u538b\u7f29\u5927\u4e8e4G\u7684\u6587\u4ef6\r\n-      $from = 4+26+$p_header['compressed_size']+$p_header['filename_len']+$p_header['extra_len']+$p_header['comment_len']+20;\r\n-      $add  = 0;\r\n-      while($from < $size){\r\n-        fseek($zip,$from);\r\n-        $sign = unpack(\"Vid\",@fread($zip, 4));\r\n-        // pr($from,$p_header,str2hex(file_sub_str($this->zipname,$from,50)) );\r\n-        if($sign['id'] == 0x04034b50 || $sign['id'] == 0x02014b50 || $sign['id'] == 0x06054b50){\r\n-          $p_header['size'] += $add;\r\n-          $p_header['compressed_size'] += $add;\r\n-          break;\r\n-        }else{\r\n-          $add += 0xFFFFFFFF + 1;\r\n-          $from += $add;//\r\n-        }\r\n-      }\r\n-      fclose($zip);\r\n-    }\r\n-\r\n-    if(!$this->zip64 || !$p_header['extra']){\r\n-      return;\r\n-    };\r\n-    //pr(strlen($p_header['extra']),str2hex($p_header['extra']));\r\n-    $p_extra_data = unpack('va/vb/Psize/Pcompressed_size/Poffset',$p_header['extra']);//2+2+8+8+8\r\n-    if(strlen($p_header['extra']) < 28){\r\n-        $p_extra_data = unpack('va/vb/Psize/Pcompressed_size',$p_header['extra']);\r\n-        $p_extra_data['offset'] = 0;\r\n-    }\r\n-    if(strlen($p_header['extra']) < 20){//\u53d8\u957f\r\n-        $p_extra_data = unpack('va/vb/Psize',$p_header['extra']);\r\n-        $p_extra_data['compressed_size'] = 0;\r\n-        $p_extra_data['offset'] = 0;\r\n-    }\r\n-    \r\n-    //01 \u4e3azip64\u6269\u5c55\u6570\u636e\u6807\u8bb0\r\n-    if(!$p_extra_data || $p_extra_data['a'] != 0x01){\r\n-        if($p_header['size'] >= 0xFFFFFFFF){//\u517c\u5bb9\u975ezip64 \u6587\u4ef6\u8d85\u8fc74G\u7684\u6587\u4ef6\u60c5\u51b5\r\n-          $this->privReadEndCentralDirZip4G($p_header);//\u6821\u6b63\u504f\u79fb\u91cf;n*0xFFFFFFFF\r\n-        }\r\n-    \treturn;\r\n-    }\r\n-    if($p_header['offset'] == 0xffffffff){\r\n-        //var_dump(str2hex($v_binary_data),$p_header,str2hex($p_header['extra']),$p_extra_data);\r\n-    }\r\n-    if($p_header['compressed_size'] == 0xffffffff && $p_extra_data['compressed_size'] > 0 ){\r\n-        $p_header['compressed_size'] = $p_extra_data['compressed_size'];\r\n-    }\r\n-    //\u9002\u914d\u7279\u6b8a\u60c5\u51b5; \u987a\u5e8f\u9002\u914d\r\n-    if($p_header['offset'] == 0xffffffff){\r\n-        if( $p_extra_data['offset'] >0 && $p_extra_data['offset']< 1024*1024*1024*1000){\r\n-            $p_header['offset'] = $p_extra_data['offset'];\r\n-        }else if($p_extra_data['size'] >= 0xffffffff){\r\n-            $p_header['offset'] = $p_extra_data['size'];\r\n-        }\r\n-    }\r\n-    if($p_header['size'] == 0xffffffff){\r\n-        $p_header['size'] = $p_extra_data['size'];\r\n-    }\r\n-  }\r\n+\t// --------------------------------------------------------------------------------\r\n+\tfunction zipHeaderLog($type,$header){\r\n+\t\t// write_log(array($type,$header),'zip');\r\n+\t\t// pr($type,$header, str2hex($header['extra']));\r\n+\t}\r\n+\t// \u4e8b\u4ef6\u5904\u7406;zipEncode,zipMove;  unzipCopy,unzipStream\r\n+\tfunction zipMessage($type,$fileName,$sizeFinished,$sizeTotal){\r\n+\t\tHook::trigger('zip.event',$type,$fileName,$sizeFinished,$sizeTotal);\r\n+\t}\r\n+\t\t\r\n+\t// \u5927\u4e8e4G\u6587\u4ef6,\u957f\u5ea6\u548c\u504f\u79fb\u91cf\u5904\u7406;\r\n+\t// \u6587\u4ef6\u5934(30Byte): vversion/vflag/vcompression/vmtime/vmdate/Vcrc/Vcompressed_size/Vsize/vfilename_len/vextra_len\r\n+\t// \u6269\u5c55\u6570\u636e(28Byte): 'va/vb/Psize/Pcompressed_size/Poffset'\r\n+\tfunction writeZip64ExtraData(&$p_header, $isFolder=false){\r\n+\t\tif($p_header['_checked']){return;}\r\n+\t\t\r\n+\t\t$p_header['_checked'] = true;\r\n+\t\t$this->zipHeaderLog('write-start',$p_header);\r\n+\t\t$zip64 = ($p_header['size'] >= 0xFFFFFFFF || $p_header['offset'] >= 0xFFFFFFFF);\r\n+\t\tif(!$zip64){return;}\r\n+\r\n+\t\t// 28byte;\r\n+\t\t$size   = $p_header['size'];\r\n+\t\t$compressed_size = $p_header['compressed_size'];\r\n+\t\t$offset = $p_header['offset'];\r\n+\r\n+\t\t$p_header['compressed_size'] = 0xFFFFFFFF;\r\n+\t\t$p_header['size'] = 0xFFFFFFFF;\r\n+\t\t$p_header['offset'] = 0xFFFFFFFF;\r\n+\t\t$p_header['extra_len'] = 28;\r\n+\t\t$p_header['extra'] = pack(\"vvPPP\", 0x01, $p_header['extra_len'] - 4, $size, $compressed_size, $offset);\r\n+\t\t$this->zipHeaderLog('write-end',$p_header);\r\n+\t}\r\n+\t\r\n+\t//zip64 footer:extra data;add by warlee;\r\n+\t//64\u4f4d\u6587\u4ef6\u5934\u8bfb\u53d6\u5904\u7406\r\n+\tfunction readZip64ExtraData(&$p_header){\r\n+\t\t$this->zipHeaderLog('read-start',$p_header);\r\n+\t\t$size   = filesize($this->zipname);\r\n+\t\t//\u4e0d\u7b26\u5408zip64 \u7684\u5927\u4e8e4G\u7684\u6587\u4ef6\u5904\u7406\uff1b\u6ea2\u51fa\u5bfb\u627e\u6807\u8bb0\u5934\uff1b\r\n+\t\tif (!$this->zip64 && $size >= 0xFFFFFFFF) {\r\n+\t\t\t$zip  = fopen($this->zipname, 'rb');\r\n+\t\t\t$from = $p_header['offset'];\r\n+\t\t\twhile ($from < $size) {\r\n+\t\t\t\tfseek($zip, $from);\r\n+\t\t\t\t$sign = unpack('Vid', @fread($zip, 4));\r\n+\t\t\t\t//pr($from,$sign,0x04034b50);\r\n+\t\t\t\tif ($sign['id'] == 0x04034b50) {\r\n+\t\t\t\t\t$p_header['offset'] = $from;\r\n+\t\t\t\t\tbreak;\r\n+\t\t\t\t} else {\r\n+\t\t\t\t\t$from = $from + 0xFFFFFFFF + 1; //\r\n+\t\t\t\t}\r\n+\t\t\t}\r\n+\r\n+\t\t\t//mac\u4e0b\u538b\u7f29\u5927\u4e8e4G\u7684\u6587\u4ef6\r\n+\t\t\t$from = 4 + 26 + $p_header['compressed_size'] + $p_header['filename_len'] + $p_header['extra_len'] + $p_header['comment_len'] + 20;\r\n+\t\t\t$add  = 0;\r\n+\t\t\twhile ($from < $size) {\r\n+\t\t\t\tfseek($zip, $from);\r\n+\t\t\t\t$sign = unpack(\"Vid\", @fread($zip, 4));\r\n+\t\t\t\t// pr($from,$p_header,str2hex(file_sub_str($this->zipname,$from,50)) );\r\n+\t\t\t\tif ($sign['id'] == 0x04034b50 || $sign['id'] == 0x02014b50 || $sign['id'] == 0x06054b50) {\r\n+\t\t\t\t\t$p_header['size'] += $add;\r\n+\t\t\t\t\t$p_header['compressed_size'] += $add;\r\n+\t\t\t\t\tbreak;\r\n+\t\t\t\t} else {\r\n+\t\t\t\t\t$add += 0xFFFFFFFF + 1;\r\n+\t\t\t\t\t$from += $add; //\r\n+\t\t\t\t}\r\n+\t\t\t}\r\n+\t\t\tfclose($zip);\r\n+\t\t}\r\n+\t\tif (!$p_header['extra']) {return;};\r\n+\r\n+\t\t$p_extra_data = unpack('va/vb/Psize/Pcompressed_size/Poffset', $p_header['extra']); //2+2+8+8+8=28\r\n+\t\t// pr(9999, strlen($p_header['extra']), str2hex($p_header['extra']), $p_extra_data);\r\n+\t\tif (strlen($p_header['extra']) < 28) {\r\n+\t\t\t$p_extra_data = unpack('va/vb/Psize/Pcompressed_size', $p_header['extra']);\r\n+\t\t\t$p_extra_data['offset'] = 0;\r\n+\t\t}\r\n+\t\tif (strlen($p_header['extra']) < 20) { //\u53d8\u957f\r\n+\t\t\t$p_extra_data = unpack('va/vb/Psize', $p_header['extra']);\r\n+\t\t\t$p_extra_data['compressed_size'] = 0;\r\n+\t\t\t$p_extra_data['offset'] = 0;\r\n+\t\t}\r\n+\r\n+\t\t//01 \u4e3azip64\u6269\u5c55\u6570\u636e\u6807\u8bb0\r\n+\t\tif (!$p_extra_data || $p_extra_data['a'] != 0x01) {\r\n+\t\t\tif ($p_header['size'] >= 0xFFFFFFFF) { //\u517c\u5bb9\u975ezip64 \u6587\u4ef6\u8d85\u8fc74G\u7684\u6587\u4ef6\u60c5\u51b5\r\n+\t\t\t\t$this->privReadEndCentralDirZip4G($p_header); //\u6821\u6b63\u504f\u79fb\u91cf;n*0xFFFFFFFF\r\n+\t\t\t}\r\n+\t\t\t$this->zipHeaderLog('read-end-2',$p_header);\r\n+\t\t\treturn;\r\n+\t\t}\r\n+\t\t\r\n+\t\tif ($p_header['compressed_size'] == 0xffffffff && $p_extra_data['compressed_size'] > 0) {\r\n+\t\t\t$p_header['compressed_size'] = $p_extra_data['compressed_size'];\r\n+\t\t}\r\n+\t\t//\u9002\u914d\u7279\u6b8a\u60c5\u51b5; \u987a\u5e8f\u9002\u914d\r\n+\t\tif ($p_header['offset'] == 0xffffffff) {\r\n+\t\t\tif ($p_extra_data['offset'] > 0 && $p_extra_data['offset'] < 1024 * 1024 * 1024 * 1000) {\r\n+\t\t\t\t$p_header['offset'] = $p_extra_data['offset'];\r\n+\t\t\t} else if ($p_extra_data['size'] >= 0xffffffff) {\r\n+\t\t\t\t$p_header['offset'] = $p_extra_data['size'];\r\n+\t\t\t}\r\n+\t\t}\r\n+\t\tif ($p_header['size'] == 0xffffffff) {\r\n+\t\t\t$p_header['size'] = $p_extra_data['size'];\r\n+\t\t}\r\n+\t\t$this->zipHeaderLog('read-end',$p_header);\r\n+\t}\t\r\n+\t//\u8d85\u8fc74G\u7684\u6587\u4ef6\uff1b\u901a\u8fc7\u6ea2\u51fa\u67e5\u627e\u504f\u79fb\u4f4d\u7f6e\r\n+\tfunction privReadEndCentralDirZip4G(&$p_central_dir){\r\n+\t\t$zip = fopen($this->zipname, 'rb');\r\n+\t\t$from   = $p_central_dir['offset'];\r\n+\t\t$size   = filesize($this->zipname);\r\n+\t\twhile ($from < $size) {\r\n+\t\t\tfseek($zip, $from);\r\n+\t\t\t$sign = unpack('Vid', @fread($zip, 4));\r\n+\t\t\t//debug_out($from,$sign,0x02014b50);\r\n+\t\t\tif ($sign['id'] == 0x02014b50) {\r\n+\t\t\t\t$p_central_dir['offset'] = $from;\r\n+\t\t\t\tbreak;\r\n+\t\t\t} else {\r\n+\t\t\t\t$from = $from + 0xFFFFFFFF + 1; //\r\n+\t\t\t}\r\n+\t\t}\r\n+\t\tfclose($zip);\r\n+\t\treturn 1;\r\n+\t}\r\n+\t// zip64 support;\r\n+\t//https://blog.csdn.net/a200710716/article/details/51644421\r\n+\t//https://github.com/brokencube/ZipStream64/blob/14087549a4914bfc441a396ca02849569145a273/src/ZipStream.php#L808\r\n+\t//https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.2.0.txt\r\n+\tfunction privReadEndCentralDirZip64(&$p_central_dir, $cdr_data){\r\n+\t\t//56 [zip64 end of central directory record]  \r\n+\t\t//Vzip64_cdr_eof/Pblow_offset/vversion/vversion_un/Vdisk/Vdisk_start/Pdisk_entries/Pentries/Psize/Poffset\r\n+\t\t//20 [zip64 end of central directory locator] \r\n+\t\t//Vzip64_cdr_loc_flag/Vdisk_num/Pcdr_offset/Vtotal_disk \r\n+\t\t//22 [end of central directory record]        \r\n+\t\t//Vzip_cdr_eof/vdisk/vdisk_start/vdisk_entries/ventries/Vsize/Voffset/vcomment_size\r\n+\t\t$offset_back = 56 + 20 + 22;\r\n+\t\t$old_pose = ftell($this->zip_fd);\r\n+\t\tfseek($this->zip_fd, $old_pose - $cdr_data['comment_size'] - $offset_back);\r\n+\t\t$v_bin  = fread($this->zip_fd, 56);\r\n+\t\t$v_data  = unpack('Vzip64_cdr_eof/Pblow_offset/vversion/vversion_un/Vdisk/Vdisk_start/Pdisk_entries/Pentries/Psize/Poffset', $v_bin);\r\n+\t\tif ($v_data['zip64_cdr_eof'] != 0x06064b50) {\r\n+\t\t\tPclZip::privErrorLog(PCLZIP_ERR_BAD_FORMAT, \"Invalid End of Zip64 Central Dir Record error:\" . json_encode($v_data));\r\n+\t\t\treturn PclZip::errorCode();\r\n+\t\t}\r\n+\r\n+\t\t$loc_bin   = fread($this->zip_fd, 20);\r\n+\t\t$loc_data  = unpack('Vzip64_cdr_loc_flag/Vdisk_num/Pcdr_offset/Vtotal_disk', $loc_bin);\r\n+\t\tif ($loc_data['zip64_cdr_loc_flag'] != 0x07064b50) {\r\n+\t\t\tPclZip::privErrorLog(PCLZIP_ERR_BAD_FORMAT, \"Invalid End of Zip64 central directory locator error:\" . json_encode($loc_data));\r\n+\t\t\treturn PclZip::errorCode();\r\n+\t\t}\r\n+\t\t$p_central_dir['entries'] = $v_data['entries'];\r\n+\t\t$p_central_dir['disk_entries'] = $v_data['disk_entries'];\r\n+\t\t$p_central_dir['offset'] = $v_data['offset'];\r\n+\t\t$p_central_dir['size'] = $v_data['size'];\r\n+\t\t$this->zipHeaderLog('read-folder-2',$p_central_dir);\r\n+\t\tfseek($this->zip_fd, $old_pose);\r\n+\t\treturn 1;\r\n+\t}\r\n \r\n   // --------------------------------------------------------------------------------\r\n   // Function : privReadCentralFileHeader()\r\n@@ -4810,7 +4912,7 @@ function privReadEndCentralDir(&$p_central_dir)\n     $p_central_dir['size'] = $v_data['size'];\r\n     $p_central_dir['disk'] = $v_data['disk'];\r\n     $p_central_dir['disk_start'] = $v_data['disk_start'];\r\n-    \r\n+\r\n     //add by warlee; zip64 supports\r\n     //vdisk/vdisk_start/vdisk_entries/ventries/Vsize/Voffset/vcomment_size\r\n     if($v_data['offset'] == 0xFFFFFFFF){\r\n@@ -4828,62 +4930,7 @@ function privReadEndCentralDir(&$p_central_dir)\n     // ----- Return\r\n     return $v_result;\r\n   }\r\n-  //\u8d85\u8fc74G\u7684\u6587\u4ef6\uff1b\u901a\u8fc7\u6ea2\u51fa\u67e5\u627e\u504f\u79fb\u4f4d\u7f6e\r\n-  function privReadEndCentralDirZip4G(&$p_central_dir){\r\n-    $zip = fopen($this->zipname,'rb');\r\n-    $from   = $p_central_dir['offset'];\r\n-    $size   = filesize($this->zipname);\r\n-    while($from < $size){\r\n-      fseek($zip,$from);\r\n-      $sign = unpack('Vid',@fread($zip, 4));\r\n-      //debug_out($from,$sign,0x02014b50);\r\n-      if($sign['id'] == 0x02014b50){\r\n-        $p_central_dir['offset'] = $from;\r\n-        break;\r\n-      }else{\r\n-        $from = $from + 0xFFFFFFFF + 1;//\r\n-      }\r\n-    }\r\n-    fclose($zip);\r\n-    return 1;\r\n-  }\r\n-  \r\n-    // zip64 support;\r\n-    //https://blog.csdn.net/a200710716/article/details/51644421\r\n-    //https://github.com/brokencube/ZipStream64/blob/14087549a4914bfc441a396ca02849569145a273/src/ZipStream.php#L808\r\n-    //https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.2.0.txt\r\n-    function privReadEndCentralDirZip64(&$p_central_dir,$cdr_data){\r\n-        $this->zip64 = true;        \r\n-        //56 [zip64 end of central directory record]  \r\n-            //Vzip64_cdr_eof/Pblow_offset/vversion/vversion_un/Vdisk/Vdisk_start/Pdisk_entries/Pentries/Psize/Poffset\r\n-        //20 [zip64 end of central directory locator] \r\n-            //Vzip64_cdr_loc_flag/Vdisk_num/Pcdr_offset/Vtotal_disk \r\n-        //22 [end of central directory record]        \r\n-            //Vzip_cdr_eof/vdisk/vdisk_start/vdisk_entries/ventries/Vsize/Voffset/vcomment_size\r\n-        $offset_back = 56+20+22;\r\n-        $old_pose = ftell($this->zip_fd);\r\n-        fseek($this->zip_fd,$old_pose-$cdr_data['comment_size']-$offset_back);\r\n-        $v_bin  = fread($this->zip_fd, 56);\r\n-        $v_data  = unpack('Vzip64_cdr_eof/Pblow_offset/vversion/vversion_un/Vdisk/Vdisk_start/Pdisk_entries/Pentries/Psize/Poffset', $v_bin);\r\n-        if($v_data['zip64_cdr_eof'] != 0x06064b50){\r\n-            PclZip::privErrorLog(PCLZIP_ERR_BAD_FORMAT, \"Invalid End of Zip64 Central Dir Record error:\".json_encode($v_data));\r\n-            return PclZip::errorCode();\r\n-        }\r\n-        \r\n-        $loc_bin   = fread($this->zip_fd,20);\r\n-        $loc_data  = unpack('Vzip64_cdr_loc_flag/Vdisk_num/Pcdr_offset/Vtotal_disk', $loc_bin);\r\n-        if($loc_data['zip64_cdr_loc_flag'] != 0x07064b50){\r\n-            PclZip::privErrorLog(PCLZIP_ERR_BAD_FORMAT, \"Invalid End of Zip64 central directory locator error:\".json_encode($loc_data));\r\n-            return PclZip::errorCode();\r\n-        }\r\n-        $p_central_dir['entries'] = $v_data['entries'];\r\n-        $p_central_dir['disk_entries'] = $v_data['disk_entries'];\r\n-        $p_central_dir['offset'] = $v_data['offset'];\r\n-        $p_central_dir['size'] = $v_data['size'];\r\n-        fseek($this->zip_fd,$old_pose);\r\n-        return 1;\r\n-    }\r\n-  \r\n+\r\n   // --------------------------------------------------------------------------------\r\n \r\n   // --------------------------------------------------------------------------------\r"
        },
        {
          "filename": "app/template/user/index.html",
          "status": "modified",
          "additions": 5,
          "deletions": 7,
          "patch": "@@ -17,10 +17,10 @@\n \t<title><?php echo LNG('title').LNG('common.copyright.name').\" - \".LNG('common.copyright.powerBy');?></title>\n \t\n \t<link href=\"<?php echo APP_HOST;?>index.php?user/view/manifest\" rel=\"manifest\" />\n-\t<meta itemprop=\"image\" content=\"<?php linkHref('images/icon/icon_512.png');?>\" />\n-\t<link head-type='kod' href=\"<?php linkHref('images/icon/icon_512.png');?>\" rel=\"apple-touch-icon\"/>\n-\t<link head-type='kod' href=\"<?php linkHref('images/icon/fav.png');?>\" rel=\"Shortcut Icon\" type=\"image/x-icon\" />\n-\t<link head-type='kod' href=\"<?php linkHref('images/icon/fav.png');?>\" rel=\"icon\" type=\"image/x-icon\" />\n+\t<meta itemprop=\"image\" content=\"<?php linkHref(LNG('common.iconApp'));?>\" />\n+\t<link head-type='kod' href=\"<?php linkHref(LNG('common.iconApp'));?>\" rel=\"apple-touch-icon\"/>\n+\t<link head-type='kod' href=\"<?php linkHref(LNG('common.iconFav'));?>\" rel=\"Shortcut Icon\" type=\"image/x-icon\" />\n+\t<link head-type='kod' href=\"<?php linkHref(LNG('common.iconFav'));?>\" rel=\"icon\" type=\"image/x-icon\" />\n \t\n \t<!-- <meta name=\"theme-color\" content=\"#1b6de1\" /> -->\n \t<meta name=\"apple-touch-fullscreen\" content=\"yes\" />\n@@ -54,9 +54,7 @@\n \t<script type=\"text/javascript\">\n \t\twindow.API_HOST = \"<?php echo appHostGet();?>\";\n \t\twindow.STATIC_PATH = \"<?php echo STATIC_PATH;?>\";\n-        if(navigator.serviceWorker){\n-\t\t\tnavigator.serviceWorker.register('<?php echo APP_HOST;?>?user/view/manifestJS');\n-\t\t}\n+\t\ttry{navigator.serviceWorker && navigator.serviceWorker.register('<?php echo APP_HOST;?>?user/view/manifestJS');}catch(err){}\n \t\tvar isDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n \t\tvar theTheme = \"<?php echo Model('userOption')->get('theme');?>\";\n \t\tvar darkMode = theTheme == 'dark-mode' ? true: (theTheme == 'auto' && isDark); "
        },
        {
          "filename": "config/i18n/ar/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u063a\u064a\u0631 \u0645\u0642\u064a\u062f\",\n     \"admin.member.spaceSize\"         => \"\u062d\u062c\u0645 \u0627\u0644\u0641\u0636\u0627\u0621\",\n     \"admin.member.spaceSizeUse\"      => \"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0641\u0636\u0627\u0621\",\n+    \"admin.member.mySpaceSize\"       => \"\u062d\u062c\u0645 \u0627\u0644\u0645\u0633\u0627\u062d\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629\",\n     \"admin.member.memberAdd\"         => \"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645\",\n     \"admin.member.allAdd\"            => \"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u0623\u0648 \u0642\u0633\u0645\",\n     \"admin.member.nullNotUpdate\"     => \"\u0627\u062a\u0631\u0643\u0647 \u0641\u0627\u0631\u063a\u0627\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u0639\u0642\u062f\",\n     \"explorer.tag.filter\"            => \"\u062a\u0635\u0641\u064a\u0629 \u062d\u0633\u0628 \u0627\u0644\u062a\u0633\u0645\u064a\u0629\",\n     \"explorer.tag.notSupport\"        => \"\u0647\u0630\u0627 \u0627\u0644\u0646\u0648\u0639 \u0645\u0646 \u0627\u0644\u062f\u0644\u064a\u0644 \u0644\u0627 \u064a\u062f\u0639\u0645 \u062a\u0633\u0645\u064a\u0627\u062a \u0627\u0644\u0625\u0639\u062f\u0627\u062f\",\n+    \"explorer.userTag.title\"         => \"\u0627\u0644\u062a\u0633\u0645\u064a\u0629 \u0627\u0644\u0634\u062e\u0635\u064a\u0629\",\n     \"explorer.groupTag.title\"        => \"\u0627\u0644\u062a\u0633\u0645\u064a\u0629 \u0627\u0644\u0639\u0627\u0645\u0629\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u0627\u0644\u062a\u0633\u0645\u064a\u0629 \u0627\u0644\u0639\u0627\u0645\u0629 \u0644\u0644\u0642\u0633\u0645\",\n     \"explorer.groupTag.titleDesc\"    => \"\u0627\u0644\u062a\u0633\u0645\u064a\u0629 \u0627\u0644\u0639\u0627\u0645\u0629 \u062f\u0627\u062e\u0644 \u0627\u0644\u062f\u0627\u0626\u0631\u0629\","
        },
        {
          "filename": "config/i18n/bn/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u09b8\u09c0\u09ae\u09be\u09ac\u09a6\u09cd\u09a7 \u09a8\u09af\u09bc\",\n     \"admin.member.spaceSize\"         => \"\u09b8\u09cd\u09a5\u09be\u09a8\u09c7\u09b0 \u0986\u0995\u09be\u09b0\",\n     \"admin.member.spaceSizeUse\"      => \"\u09b8\u09cd\u09a5\u09be\u09a8 \u09ac\u09cd\u09af\u09ac\u09b9\u09be\u09b0\",\n+    \"admin.member.mySpaceSize\"       => \"\u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf\u0997\u09a4 \u09b8\u09cd\u09a5\u09be\u09a8\u09c7\u09b0 \u0986\u0995\u09be\u09b0\",\n     \"admin.member.memberAdd\"         => \"\u09ac\u09cd\u09af\u09ac\u09b9\u09be\u09b0\u0995\u09be\u09b0\u09c0 \u09af\u09c1\u0995\u09cd\u09a4 \u0995\u09b0\u09c1\u09a8\",\n     \"admin.member.allAdd\"            => \"\u09ac\u09cd\u09af\u09ac\u09b9\u09be\u09b0\u0995\u09be\u09b0\u09c0 \u09ac\u09be \u09ac\u09bf\u09ad\u09be\u0997 \u09af\u09c1\u0995\u09cd\u09a4 \u0995\u09b0\u09c1\u09a8\",\n     \"admin.member.nullNotUpdate\"     => \"\u09ab\u09be\u0981\u0995\u09be \u099b\u09c7\u09a1\u09bc\u09c7 \u09a6\u09bf\u09a8\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u099a\u09c1\u0995\u09cd\u09a4\u09bf\",\n     \"explorer.tag.filter\"            => \"\u09b2\u09c7\u09ac\u09c7\u09b2 \u09a6\u09cd\u09ac\u09be\u09b0\u09be \u09ab\u09bf\u09b2\u09cd\u099f\u09be\u09b0\",\n     \"explorer.tag.notSupport\"        => \"\u098f\u0987 \u09a7\u09b0\u09a8\u09c7\u09b0 \u09a1\u09bf\u09b0\u09c7\u0995\u09cd\u099f\u09b0\u09bf \u09b8\u09c7\u099f\u09bf\u0982 \u09b2\u09c7\u09ac\u09c7\u09b2 \u09b8\u09ae\u09b0\u09cd\u09a5\u09a8 \u0995\u09b0\u09c7 \u09a8\u09be\",\n+    \"explorer.userTag.title\"         => \"\u09ac\u09cd\u09af\u0995\u09cd\u09a4\u09bf\u0997\u09a4 \u09b2\u09c7\u09ac\u09c7\u09b2\",\n     \"explorer.groupTag.title\"        => \"\u09aa\u09be\u09ac\u09b2\u09bf\u0995 \u09b2\u09c7\u09ac\u09c7\u09b2\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u09ac\u09bf\u09ad\u09be\u0997 \u09aa\u09be\u09ac\u09b2\u09bf\u0995 \u09b2\u09c7\u09ac\u09c7\u09b2\",\n     \"explorer.groupTag.titleDesc\"    => \"\u09ac\u09bf\u09ad\u09be\u0997\u09c7\u09b0 \u09ae\u09a7\u09cd\u09af\u09c7 \u09aa\u09be\u09ac\u09b2\u09bf\u0995 \u09b2\u09c7\u09ac\u09c7\u09b2\","
        },
        {
          "filename": "config/i18n/de/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Nicht eingeschr\u00e4nkt\",\n     \"admin.member.spaceSize\"         => \"Raumgr\u00f6\u00dfe\",\n     \"admin.member.spaceSizeUse\"      => \"Raumnutzung\",\n+    \"admin.member.mySpaceSize\"       => \"pers\u00f6nliche Raumgr\u00f6\u00dfe\",\n     \"admin.member.memberAdd\"         => \"Benutzer hinzuf\u00fcgen\",\n     \"admin.member.allAdd\"            => \"Benutzer oder Abteilung hinzuf\u00fcgen\",\n     \"admin.member.nullNotUpdate\"     => \"Leer lassen\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"Vertrag\",\n     \"explorer.tag.filter\"            => \"Nach Label filtern\",\n     \"explorer.tag.notSupport\"        => \"Dieser Verzeichnistyp unterst\u00fctzt das Festlegen von Beschriftungen nicht\",\n+    \"explorer.userTag.title\"         => \"Pers\u00f6nliches Etikett\",\n     \"explorer.groupTag.title\"        => \"\u00d6ffentliches Label\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u00d6ffentliches Label der Abteilung\",\n     \"explorer.groupTag.titleDesc\"    => \"\u00d6ffentliches Label innerhalb der Abteilung\","
        },
        {
          "filename": "config/i18n/en/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Unlimited\",\n     \"admin.member.spaceSize\"         => \"Space size\",\n     \"admin.member.spaceSizeUse\"      => \"Usage\",\n+    \"admin.member.mySpaceSize\"       => \"Personal space size\",\n     \"admin.member.memberAdd\"         => \"Add user\",\n     \"admin.member.allAdd\"            => \"Add\",\n     \"admin.member.nullNotUpdate\"     => \"If not filled in, it will not be modified\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"Contract\",\n     \"explorer.tag.filter\"            => \"Filter by tags\",\n     \"explorer.tag.notSupport\"        => \"This type of directory does not support setting labels\",\n+    \"explorer.userTag.title\"         => \"Personal Label\",\n     \"explorer.groupTag.title\"        => \"Public tags\",\n     \"explorer.groupTag.menuTtitle\"   => \"Public tags\",\n     \"explorer.groupTag.titleDesc\"    => \"Public tags within the department\","
        },
        {
          "filename": "config/i18n/es/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"No restringido\",\n     \"admin.member.spaceSize\"         => \"Tama\u00f1o del espacio\",\n     \"admin.member.spaceSizeUse\"      => \"Uso del espacio\",\n+    \"admin.member.mySpaceSize\"       => \"tama\u00f1o del espacio personal\",\n     \"admin.member.memberAdd\"         => \"Agregar usuario\",\n     \"admin.member.allAdd\"            => \"Agregar usuario o departamento\",\n     \"admin.member.nullNotUpdate\"     => \"Dejar en blanco\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"contrato\",\n     \"explorer.tag.filter\"            => \"Filtrar por etiqueta\",\n     \"explorer.tag.notSupport\"        => \"Este tipo de directorio no admite la configuraci\u00f3n de etiquetas.\",\n+    \"explorer.userTag.title\"         => \"Etiqueta personal\",\n     \"explorer.groupTag.title\"        => \"Etiqueta p\u00fablica\",\n     \"explorer.groupTag.menuTtitle\"   => \"Etiqueta p\u00fablica del departamento\",\n     \"explorer.groupTag.titleDesc\"    => \"Etiqueta p\u00fablica dentro del departamento\","
        },
        {
          "filename": "config/i18n/fr/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Non restreint\",\n     \"admin.member.spaceSize\"         => \"Taille de l'espace\",\n     \"admin.member.spaceSizeUse\"      => \"Utilisation de l'espace\",\n+    \"admin.member.mySpaceSize\"       => \"taille de l'espace personnel\",\n     \"admin.member.memberAdd\"         => \"Ajouter un utilisateur\",\n     \"admin.member.allAdd\"            => \"Ajouter un utilisateur ou un d\u00e9partement\",\n     \"admin.member.nullNotUpdate\"     => \"Laisser en blanc\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"Contrat\",\n     \"explorer.tag.filter\"            => \"Filtrer par \u00e9tiquette\",\n     \"explorer.tag.notSupport\"        => \"Ce type de r\u00e9pertoire ne prend pas en charge la d\u00e9finition d'\u00e9tiquettes\",\n+    \"explorer.userTag.title\"         => \"\u00c9tiquette personnelle\",\n     \"explorer.groupTag.title\"        => \"Marque publique\",\n     \"explorer.groupTag.menuTtitle\"   => \"Label public d\u00e9partemental\",\n     \"explorer.groupTag.titleDesc\"    => \"Label public au sein du d\u00e9partement\","
        },
        {
          "filename": "config/i18n/hi/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u092a\u094d\u0930\u0924\u093f\u092c\u0902\u0927\u093f\u0924 \u0928\u0939\u0940\u0902 \u0939\u0948\",\n     \"admin.member.spaceSize\"         => \"\u0905\u0902\u0924\u0930\u093f\u0915\u094d\u0937 \u0915\u093e \u0906\u0915\u093e\u0930\",\n     \"admin.member.spaceSizeUse\"      => \"\u0905\u0902\u0924\u0930\u093f\u0915\u094d\u0937 \u0909\u092a\u092f\u094b\u0917\",\n+    \"admin.member.mySpaceSize\"       => \"\u0935\u094d\u092f\u0915\u094d\u0924\u093f\u0917\u0924 \u0938\u094d\u0925\u093e\u0928 \u0915\u093e \u0906\u0915\u093e\u0930\",\n     \"admin.member.memberAdd\"         => \"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u091c\u094b\u0921\u093c\u0947\u0902\",\n     \"admin.member.allAdd\"            => \"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u092f\u093e \u0935\u093f\u092d\u093e\u0917 \u091c\u094b\u0921\u093c\u0947\u0902\",\n     \"admin.member.nullNotUpdate\"     => \"\u0916\u093e\u0932\u0940 \u091b\u094b\u0921\u093c \u0926\u0947\u0902\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u0905\u0928\u0941\u092c\u0902\u0927\",\n     \"explorer.tag.filter\"            => \"\u0932\u0947\u092c\u0932 \u0926\u094d\u0935\u093e\u0930\u093e \u092b\u093c\u093f\u0932\u094d\u091f\u0930 \u0915\u0930\u0947\u0902\",\n     \"explorer.tag.notSupport\"        => \"\u0907\u0938 \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0940 \u0928\u093f\u0930\u094d\u0926\u0947\u0936\u093f\u0915\u093e \u0932\u0947\u092c\u0932 \u0938\u0947\u091f\u093f\u0902\u0917 \u0915\u093e \u0938\u092e\u0930\u094d\u0925\u0928 \u0928\u0939\u0940\u0902 \u0915\u0930\u0924\u0940 \u0939\u0948\",\n+    \"explorer.userTag.title\"         => \"\u0935\u094d\u092f\u0915\u094d\u0924\u093f\u0917\u0924 \u0932\u0947\u092c\u0932\",\n     \"explorer.groupTag.title\"        => \"\u0938\u093e\u0930\u094d\u0935\u091c\u0928\u093f\u0915 \u0932\u0947\u092c\u0932\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u0935\u093f\u092d\u093e\u0917 \u0938\u093e\u0930\u094d\u0935\u091c\u0928\u093f\u0915 \u0932\u0947\u092c\u0932\",\n     \"explorer.groupTag.titleDesc\"    => \"\u0935\u093f\u092d\u093e\u0917 \u0915\u0947 \u092d\u0940\u0924\u0930 \u0938\u093e\u0930\u094d\u0935\u091c\u0928\u093f\u0915 \u0932\u0947\u092c\u0932\","
        },
        {
          "filename": "config/i18n/id/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Tidak dibatasi\",\n     \"admin.member.spaceSize\"         => \"Ukuran ruang\",\n     \"admin.member.spaceSizeUse\"      => \"Penggunaan ruang\",\n+    \"admin.member.mySpaceSize\"       => \"ukuran ruang pribadi\",\n     \"admin.member.memberAdd\"         => \"Tambahkan pengguna\",\n     \"admin.member.allAdd\"            => \"Tambahkan pengguna atau departemen\",\n     \"admin.member.nullNotUpdate\"     => \"Biarkan kosong\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"kontrak\",\n     \"explorer.tag.filter\"            => \"Filter menurut label\",\n     \"explorer.tag.notSupport\"        => \"Direktori jenis ini tidak mendukung pengaturan label\",\n+    \"explorer.userTag.title\"         => \"Label Pribadi\",\n     \"explorer.groupTag.title\"        => \"Label publik\",\n     \"explorer.groupTag.menuTtitle\"   => \"Label publik departemen\",\n     \"explorer.groupTag.titleDesc\"    => \"Label publik di dalam departemen\","
        },
        {
          "filename": "config/i18n/it/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Illimitato\",\n     \"admin.member.spaceSize\"         => \"Spazio riservato\",\n     \"admin.member.spaceSizeUse\"      => \"Uso totale dello spazio\",\n+    \"admin.member.mySpaceSize\"       => \"dimensione dello spazio personale\",\n     \"admin.member.memberAdd\"         => \"Aggiungi utente\",\n     \"admin.member.allAdd\"            => \"Aggiungi utente o gruppo\",\n     \"admin.member.nullNotUpdate\"     => \"Lascia vuoto\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"Contabilit\u00e0\",\n     \"explorer.tag.filter\"            => \"Filtra per etichette\",\n     \"explorer.tag.notSupport\"        => \"Questo tipo di directory non supporta l'impostazione delle etichette\",\n+    \"explorer.userTag.title\"         => \"Etichetta personale\",\n     \"explorer.groupTag.title\"        => \"Etichetta pubblica\",\n     \"explorer.groupTag.menuTtitle\"   => \"Etichetta pubblica del gruppo\",\n     \"explorer.groupTag.titleDesc\"    => \"Etichetta pubblica all'interno del gruppo\","
        },
        {
          "filename": "config/i18n/ja/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u5236\u9650\u306a\u3057\",\n     \"admin.member.spaceSize\"         => \"\u30b9\u30da\u30fc\u30b9\u306e\u5bb9\u91cf\",\n     \"admin.member.spaceSizeUse\"      => \"\u30b9\u30da\u30fc\u30b9\u4f7f\u7528\",\n+    \"admin.member.mySpaceSize\"       => \"\u30d1\u30fc\u30bd\u30ca\u30eb\u30b9\u30da\u30fc\u30b9\u306e\u30b5\u30a4\u30ba\",\n     \"admin.member.memberAdd\"         => \"\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0\",\n     \"admin.member.allAdd\"            => \"\u30e6\u30fc\u30b6\u30fc\u307e\u305f\u306f\u90e8\u9580\u3092\u8ffd\u52a0\",\n     \"admin.member.nullNotUpdate\"     => \"\u7a7a\u767d\u306e\u307e\u307e\u306b\u3059\u308b\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u5951\u7d04\u3059\u308b\",\n     \"explorer.tag.filter\"            => \"\u30e9\u30d9\u30eb\u3067\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\",\n     \"explorer.tag.notSupport\"        => \"\u3053\u306e\u30bf\u30a4\u30d7\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u30e9\u30d9\u30eb\u306e\u8a2d\u5b9a\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u305b\u3093\",\n+    \"explorer.userTag.title\"         => \"\u500b\u4eba\u30e9\u30d9\u30eb\",\n     \"explorer.groupTag.title\"        => \"\u30d1\u30d6\u30ea\u30c3\u30af\u30ec\u30fc\u30d9\u30eb\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u90e8\u9580\u306e\u30d1\u30d6\u30ea\u30c3\u30af\u30ec\u30fc\u30d9\u30eb\",\n     \"explorer.groupTag.titleDesc\"    => \"\u90e8\u9580\u5185\u306e\u30d1\u30d6\u30ea\u30c3\u30af\u30e9\u30d9\u30eb\","
        },
        {
          "filename": "config/i18n/ko/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\uc81c\ud55c\ub418\uc9c0 \uc54a\uc74c\",\n     \"admin.member.spaceSize\"         => \"\uacf5\uac04 \ud06c\uae30\",\n     \"admin.member.spaceSizeUse\"      => \"\uacf5\uac04 \uc0ac\uc6a9\",\n+    \"admin.member.mySpaceSize\"       => \"\uac1c\uc778 \uacf5\uac04 \ud06c\uae30\",\n     \"admin.member.memberAdd\"         => \"\uc0ac\uc6a9\uc790 \ucd94\uac00\",\n     \"admin.member.allAdd\"            => \"\uc0ac\uc6a9\uc790 \ub610\ub294 \ubd80\uc11c \ucd94\uac00\",\n     \"admin.member.nullNotUpdate\"     => \"\ube44\uc6cc \ub450\uc2ed\uc2dc\uc624\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\uacc4\uc57d\",\n     \"explorer.tag.filter\"            => \"\ub77c\ubca8\ub85c \ud544\ud130\ub9c1\",\n     \"explorer.tag.notSupport\"        => \"\uc774 \uc720\ud615\uc758 \ub514\ub809\ud1a0\ub9ac\ub294 \ub77c\ubca8 \uc124\uc815\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\",\n+    \"explorer.userTag.title\"         => \"\uac1c\uc778 \ub77c\ubca8\",\n     \"explorer.groupTag.title\"        => \"\uacf5\uac1c \ub808\uc774\ube14\",\n     \"explorer.groupTag.menuTtitle\"   => \"\ubd80\uc11c \uacf5\uac1c \ub808\uc774\ube14\",\n     \"explorer.groupTag.titleDesc\"    => \"\ubd80\uc11c \ub0b4 \uacf5\uacf5 \ub808\uc774\ube14\","
        },
        {
          "filename": "config/i18n/pl/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Bez ogranicze\u0144\",\n     \"admin.member.spaceSize\"         => \"Rozmiar przestrzeni\",\n     \"admin.member.spaceSizeUse\"      => \"Wykorzystanie przestrzeni\",\n+    \"admin.member.mySpaceSize\"       => \"wielko\u015b\u0107 przestrzeni osobistej\",\n     \"admin.member.memberAdd\"         => \"Dodaj u\u017cytkownika\",\n     \"admin.member.allAdd\"            => \"Dodaj u\u017cytkownika lub dzia\u0142\",\n     \"admin.member.nullNotUpdate\"     => \"Pozostaw puste\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"kontrakt\",\n     \"explorer.tag.filter\"            => \"Filtruj wed\u0142ug etykiety\",\n     \"explorer.tag.notSupport\"        => \"Ten typ katalogu nie obs\u0142uguje etykiet ustawie\u0144\",\n+    \"explorer.userTag.title\"         => \"Etykieta osobista\",\n     \"explorer.groupTag.title\"        => \"Etykieta publiczna\",\n     \"explorer.groupTag.menuTtitle\"   => \"Zak\u0142adowa etykieta publiczna\",\n     \"explorer.groupTag.titleDesc\"    => \"Etykieta publiczna w dziale\","
        },
        {
          "filename": "config/i18n/pt/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"N\u00e3o restrito\",\n     \"admin.member.spaceSize\"         => \"Tamanho do espa\u00e7o\",\n     \"admin.member.spaceSizeUse\"      => \"Uso do espa\u00e7o\",\n+    \"admin.member.mySpaceSize\"       => \"tamanho do espa\u00e7o pessoal\",\n     \"admin.member.memberAdd\"         => \"Adicionar usu\u00e1rio\",\n     \"admin.member.allAdd\"            => \"Adicionar usu\u00e1rio ou departamento\",\n     \"admin.member.nullNotUpdate\"     => \"Deixe em branco\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"contrato\",\n     \"explorer.tag.filter\"            => \"Filtrar por r\u00f3tulo\",\n     \"explorer.tag.notSupport\"        => \"Este tipo de diret\u00f3rio n\u00e3o suporta a configura\u00e7\u00e3o de r\u00f3tulos\",\n+    \"explorer.userTag.title\"         => \"Etiqueta Pessoal\",\n     \"explorer.groupTag.title\"        => \"Etiqueta p\u00fablica\",\n     \"explorer.groupTag.menuTtitle\"   => \"Selo p\u00fablico do departamento\",\n     \"explorer.groupTag.titleDesc\"    => \"Etiqueta p\u00fablica dentro do departamento\","
        },
        {
          "filename": "config/i18n/ru/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u041d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e\",\n     \"admin.member.spaceSize\"         => \"\u0420\u0430\u0437\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430\",\n     \"admin.member.spaceSizeUse\"      => \"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430\",\n+    \"admin.member.mySpaceSize\"       => \"\u0440\u0430\u0437\u043c\u0435\u0440 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430\",\n     \"admin.member.memberAdd\"         => \"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\",\n     \"admin.member.allAdd\"            => \"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043e\u0442\u0434\u0435\u043b\",\n     \"admin.member.nullNotUpdate\"     => \"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\",\n     \"explorer.tag.filter\"            => \"\u0424\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u044f\u0440\u043b\u044b\u043a\u0443\",\n     \"explorer.tag.notSupport\"        => \"\u042d\u0442\u043e\u0442 \u0442\u0438\u043f \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u043c\u0435\u0442\u043e\u043a.\",\n+    \"explorer.userTag.title\"         => \"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u044f\u0440\u043b\u044b\u043a\",\n     \"explorer.groupTag.title\"        => \"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u044f\u0440\u043b\u044b\u043a\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u041e\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u043b\u0435\u0439\u0431\u043b \u043e\u0442\u0434\u0435\u043b\u0430\",\n     \"explorer.groupTag.titleDesc\"    => \"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u043b\u0435\u0439\u0431\u043b \u0432 \u043e\u0442\u0434\u0435\u043b\u0435\","
        },
        {
          "filename": "config/i18n/ta/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u0b95\u0b9f\u0bcd\u0b9f\u0bc1\u0baa\u0bcd\u0baa\u0b9f\u0bc1\u0ba4\u0bcd\u0ba4\u0baa\u0bcd\u0baa\u0b9f\u0bb5\u0bbf\u0bb2\u0bcd\u0bb2\u0bc8\",\n     \"admin.member.spaceSize\"         => \"\u0b87\u0b9f \u0b85\u0bb3\u0bb5\u0bc1\",\n     \"admin.member.spaceSizeUse\"      => \"\u0bb5\u0bbf\u0ba3\u0bcd\u0bb5\u0bc6\u0bb3\u0bbf \u0baa\u0baf\u0ba9\u0bcd\u0baa\u0bbe\u0b9f\u0bc1\",\n+    \"admin.member.mySpaceSize\"       => \"\u0ba4\u0ba9\u0bbf\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0b87\u0b9f \u0b85\u0bb3\u0bb5\u0bc1\",\n     \"admin.member.memberAdd\"         => \"\u0baa\u0baf\u0ba9\u0bb0\u0bc8\u0b9a\u0bcd \u0b9a\u0bc7\u0bb0\u0bcd\u0b95\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd\",\n     \"admin.member.allAdd\"            => \"\u0baa\u0baf\u0ba9\u0bb0\u0bcd \u0b85\u0bb2\u0bcd\u0bb2\u0ba4\u0bc1 \u0ba4\u0bc1\u0bb1\u0bc8\u0baf\u0bc8\u0b9a\u0bcd \u0b9a\u0bc7\u0bb0\u0bcd\u0b95\u0bcd\u0b95\u0bb5\u0bc1\u0bae\u0bcd\",\n     \"admin.member.nullNotUpdate\"     => \"\u0b95\u0bbe\u0bb2\u0bbf\u0baf\u0bbe\u0b95 \u0bb5\u0bbf\u0b9f\u0bb5\u0bc1\u0bae\u0bcd\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u0b92\u0baa\u0bcd\u0baa\u0ba8\u0bcd\u0ba4\",\n     \"explorer.tag.filter\"            => \"\u0bb2\u0bc7\u0baa\u0bbf\u0bb3\u0bcd \u0bae\u0bc2\u0bb2\u0bae\u0bcd \u0bb5\u0b9f\u0bbf\u0b95\u0b9f\u0bcd\u0b9f\u0bb5\u0bc1\u0bae\u0bcd\",\n     \"explorer.tag.notSupport\"        => \"\u0b87\u0ba8\u0bcd\u0ba4 \u0bb5\u0b95\u0bc8 \u0b95\u0bcb\u0baa\u0bcd\u0baa\u0b95\u0bae\u0bcd \u0bb2\u0bc7\u0baa\u0bbf\u0bb3\u0bcd\u0b95\u0bb3\u0bc8 \u0b85\u0bae\u0bc8\u0baa\u0bcd\u0baa\u0ba4\u0bc8 \u0b86\u0ba4\u0bb0\u0bbf\u0b95\u0bcd\u0b95\u0bbe\u0ba4\u0bc1\",\n+    \"explorer.userTag.title\"         => \"\u0ba4\u0ba9\u0bbf\u0baa\u0bcd\u0baa\u0b9f\u0bcd\u0b9f \u0bb2\u0bc7\u0baa\u0bbf\u0bb3\u0bcd\",\n     \"explorer.groupTag.title\"        => \"\u0baa\u0bca\u0ba4\u0bc1 \u0bae\u0bc1\u0ba4\u0bcd\u0ba4\u0bbf\u0bb0\u0bc8\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u0ba4\u0bc1\u0bb1\u0bc8 \u0baa\u0bca\u0ba4\u0bc1 \u0bae\u0bc1\u0ba4\u0bcd\u0ba4\u0bbf\u0bb0\u0bc8\",\n     \"explorer.groupTag.titleDesc\"    => \"\u0ba4\u0bc1\u0bb1\u0bc8\u0b95\u0bcd\u0b95\u0bc1\u0bb3\u0bcd \u0baa\u0bca\u0ba4\u0bc1 \u0bae\u0bc1\u0ba4\u0bcd\u0ba4\u0bbf\u0bb0\u0bc8\","
        },
        {
          "filename": "config/i18n/th/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u0e44\u0e21\u0e48 \u0e08\u0e33\u0e01\u0e31\u0e14\",\n     \"admin.member.spaceSize\"         => \"\u0e02\u0e19\u0e32\u0e14\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48\",\n     \"admin.member.spaceSizeUse\"      => \"\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48\",\n+    \"admin.member.mySpaceSize\"       => \"\u0e02\u0e19\u0e32\u0e14\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48\u0e2a\u0e48\u0e27\u0e19\u0e1a\u0e38\u0e04\u0e04\u0e25\",\n     \"admin.member.memberAdd\"         => \"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\",\n     \"admin.member.allAdd\"            => \"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e41\u0e1c\u0e19\u0e01\",\n     \"admin.member.nullNotUpdate\"     => \"\u0e40\u0e27\u0e49\u0e19\u0e27\u0e48\u0e32\u0e07\u0e44\u0e27\u0e49\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u0e2a\u0e31\u0e0d\u0e0d\u0e32\",\n     \"explorer.tag.filter\"            => \"\u0e01\u0e23\u0e2d\u0e07\u0e15\u0e32\u0e21\u0e1b\u0e49\u0e32\u0e22\u0e01\u0e33\u0e01\u0e31\u0e1a\",\n     \"explorer.tag.notSupport\"        => \"\u0e44\u0e14\u0e40\u0e23\u0e01\u0e17\u0e2d\u0e23\u0e35\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e1b\u0e49\u0e32\u0e22\u0e01\u0e33\u0e01\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\",\n+    \"explorer.userTag.title\"         => \"\u0e1b\u0e49\u0e32\u0e22\u0e01\u0e33\u0e01\u0e31\u0e1a\u0e2a\u0e48\u0e27\u0e19\u0e1a\u0e38\u0e04\u0e04\u0e25\",\n     \"explorer.groupTag.title\"        => \"\u0e1b\u0e49\u0e32\u0e22\u0e2a\u0e32\u0e18\u0e32\u0e23\u0e13\u0e30\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u0e1b\u0e49\u0e32\u0e22\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e19\u0e18\u0e4c\u0e01\u0e23\u0e21\",\n     \"explorer.groupTag.titleDesc\"    => \"\u0e1b\u0e49\u0e32\u0e22\u0e2a\u0e32\u0e18\u0e32\u0e23\u0e13\u0e30\u0e20\u0e32\u0e22\u0e43\u0e19\u0e41\u0e1c\u0e19\u0e01\","
        },
        {
          "filename": "config/i18n/tr/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"K\u0131s\u0131tl\u0131 de\u011fil\",\n     \"admin.member.spaceSize\"         => \"Uzay boyutu\",\n     \"admin.member.spaceSizeUse\"      => \"Uzay kullan\u0131m\u0131\",\n+    \"admin.member.mySpaceSize\"       => \"ki\u015fisel alan boyutu\",\n     \"admin.member.memberAdd\"         => \"Kullan\u0131c\u0131 ekle\",\n     \"admin.member.allAdd\"            => \"Kullan\u0131c\u0131 veya departman ekle\",\n     \"admin.member.nullNotUpdate\"     => \"Bo\u015f b\u0131rak\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"s\u00f6zle\u015fme\",\n     \"explorer.tag.filter\"            => \"Etikete g\u00f6re filtrele\",\n     \"explorer.tag.notSupport\"        => \"Bu dizin t\u00fcr\u00fc etiketlerin ayarlanmas\u0131n\u0131 desteklemiyor\",\n+    \"explorer.userTag.title\"         => \"Ki\u015fisel Etiket\",\n     \"explorer.groupTag.title\"        => \"Genel etiket\",\n     \"explorer.groupTag.menuTtitle\"   => \"Departman genel etiketi\",\n     \"explorer.groupTag.titleDesc\"    => \"Departman i\u00e7indeki genel etiket\","
        },
        {
          "filename": "config/i18n/uk/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u041d\u0435 \u043e\u0431\u043c\u0435\u0436\u0443\u0454\u0442\u044c\u0441\u044f\",\n     \"admin.member.spaceSize\"         => \"\u0420\u043e\u0437\u043c\u0456\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0440\u0443\",\n     \"admin.member.spaceSizeUse\"      => \"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u043a\u043e\u0441\u043c\u043e\u0441\u0443\",\n+    \"admin.member.mySpaceSize\"       => \"\u0440\u043e\u0437\u043c\u0456\u0440 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0440\u0443\",\n     \"admin.member.memberAdd\"         => \"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\",\n     \"admin.member.allAdd\"            => \"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0430\u0431\u043e \u0432\u0456\u0434\u0434\u0456\u043b\",\n     \"admin.member.nullNotUpdate\"     => \"\u0417\u0430\u043b\u0438\u0448\u0442\u0435 \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u043c\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u0434\u043e\u0433\u043e\u0432\u0456\u0440\",\n     \"explorer.tag.filter\"            => \"\u0424\u0456\u043b\u044c\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u043c\u0456\u0442\u043a\u043e\u044e\",\n     \"explorer.tag.notSupport\"        => \"\u0426\u0435\u0439 \u0442\u0438\u043f \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0443 \u043d\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043c\u0456\u0442\u043e\u043a\",\n+    \"explorer.userTag.title\"         => \"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0435\u0442\u0438\u043a\u0435\u0442\u043a\u0430\",\n     \"explorer.groupTag.title\"        => \"\u0413\u0440\u043e\u043c\u0430\u0434\u0441\u044c\u043a\u0430 \u0435\u0442\u0438\u043a\u0435\u0442\u043a\u0430\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u0413\u0440\u043e\u043c\u0430\u0434\u0441\u044c\u043a\u0438\u0439 \u044f\u0440\u043b\u0438\u043a \u0432\u0456\u0434\u0434\u0456\u043b\u0443\",\n     \"explorer.groupTag.titleDesc\"    => \"\u0413\u0440\u043e\u043c\u0430\u0434\u0441\u044c\u043a\u0438\u0439 \u0435\u0442\u0438\u043a\u0435\u0442 \u0443 \u0432\u0456\u0434\u0434\u0456\u043b\u0456\","
        },
        {
          "filename": "config/i18n/vi/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"Kh\u00f4ng b\u1ecb h\u1ea1n ch\u1ebf\",\n     \"admin.member.spaceSize\"         => \"K\u00edch th\u01b0\u1edbc kh\u00f4ng gian\",\n     \"admin.member.spaceSizeUse\"      => \"Kh\u00f4ng gian s\u1eed d\u1ee5ng\",\n+    \"admin.member.mySpaceSize\"       => \"k\u00edch th\u01b0\u1edbc kh\u00f4ng gian c\u00e1 nh\u00e2n\",\n     \"admin.member.memberAdd\"         => \"Th\u00eam ng\u01b0\u1eddi d\u00f9ng\",\n     \"admin.member.allAdd\"            => \"Th\u00eam ng\u01b0\u1eddi d\u00f9ng ho\u1eb7c b\u1ed9 ph\u1eadn\",\n     \"admin.member.nullNotUpdate\"     => \"\u0110\u1ec3 tr\u1ed1ng\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"h\u1ee3p \u0111\u1ed3ng\",\n     \"explorer.tag.filter\"            => \"L\u1ecdc theo nh\u00e3n\",\n     \"explorer.tag.notSupport\"        => \"Lo\u1ea1i th\u01b0 m\u1ee5c n\u00e0y kh\u00f4ng h\u1ed7 tr\u1ee3 c\u00e0i \u0111\u1eb7t nh\u00e3n\",\n+    \"explorer.userTag.title\"         => \"Nh\u00e3n c\u00e1 nh\u00e2n\",\n     \"explorer.groupTag.title\"        => \"Nh\u00e3n c\u00f4ng khai\",\n     \"explorer.groupTag.menuTtitle\"   => \"B\u1ed9 ph\u1eadn c\u00f4ng c\u1ed9ng nh\u00e3n\",\n     \"explorer.groupTag.titleDesc\"    => \"Nh\u00e3n c\u00f4ng khai trong b\u1ed9 ph\u1eadn\","
        },
        {
          "filename": "config/i18n/zh-CN/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u4e0d\u9650\u5236\",\n     \"admin.member.spaceSize\"         => \"\u7a7a\u95f4\u5927\u5c0f\",\n     \"admin.member.spaceSizeUse\"      => \"\u7a7a\u95f4\u4f7f\u7528\",\n+    \"admin.member.mySpaceSize\"       => \"\u4e2a\u4eba\u7a7a\u95f4\u5927\u5c0f\",\n     \"admin.member.memberAdd\"         => \"\u6dfb\u52a0\u7528\u6237\",\n     \"admin.member.allAdd\"            => \"\u6dfb\u52a0\u7528\u6237\u6216\u90e8\u95e8\",\n     \"admin.member.nullNotUpdate\"     => \"\u4e0d\u586b\u5219\u4e0d\u4fee\u6539\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u5408\u540c\",\n     \"explorer.tag.filter\"            => \"\u6309\u6807\u7b7e\u7b5b\u9009\",\n     \"explorer.tag.notSupport\"        => \"\u8be5\u7c7b\u578b\u76ee\u5f55\u4e0d\u652f\u6301\u8bbe\u7f6e\u6807\u7b7e\",\n+    \"explorer.userTag.title\"         => \"\u4e2a\u4eba\u6807\u7b7e\",\n     \"explorer.groupTag.title\"        => \"\u516c\u5171\u6807\u7b7e\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u90e8\u95e8\u516c\u5171\u6807\u7b7e\",\n     \"explorer.groupTag.titleDesc\"    => \"\u90e8\u95e8\u5185\u516c\u5171\u6807\u7b7e\","
        },
        {
          "filename": "config/i18n/zh-TW/index.php",
          "status": "modified",
          "additions": 2,
          "deletions": 0,
          "patch": "@@ -456,6 +456,7 @@\n     \"admin.member.spaceTipsFull\"     => \"\u4e0d\u9650\u5236\",\n     \"admin.member.spaceSize\"         => \"\u7a7a\u9593\u5927\u5c0f\",\n     \"admin.member.spaceSizeUse\"      => \"\u7a7a\u9593\u4f7f\u7528\",\n+    \"admin.member.mySpaceSize\"       => \"\u500b\u4eba\u7a7a\u9593\u5927\u5c0f\",\n     \"admin.member.memberAdd\"         => \"\u589e\u52a0\u4f7f\u7528\u8005\",\n     \"admin.member.allAdd\"            => \"\u589e\u52a0\u4f7f\u7528\u8005\u6216\u90e8\u9580\",\n     \"admin.member.nullNotUpdate\"     => \"\u4e0d\u586b\u5247\u4e0d\u4fee\u6539\",\n@@ -2231,6 +2232,7 @@\n     \"explorer.tag.default3\"          => \"\u5408\u540c\",\n     \"explorer.tag.filter\"            => \"\u6309\u6a19\u7c64\u7be9\u9078\",\n     \"explorer.tag.notSupport\"        => \"\u6b64\u985e\u578b\u76ee\u9304\u4e0d\u652f\u63f4\u8a2d\u5b9a\u6a19\u7c64\",\n+    \"explorer.userTag.title\"         => \"\u500b\u4eba\u6a19\u7c64\",\n     \"explorer.groupTag.title\"        => \"\u516c\u5171\u6a19\u7c64\",\n     \"explorer.groupTag.menuTtitle\"   => \"\u90e8\u9580\u516c\u5171\u6a19\u7c64\",\n     \"explorer.groupTag.titleDesc\"    => \"\u90e8\u9580\u5167\u516c\u5171\u6a19\u7c64\","
        },
        {
          "filename": "config/setting.php",
          "status": "modified",
          "additions": 5,
          "deletions": 1,
          "patch": "@@ -206,7 +206,7 @@\n \tarray('type' => 'others','name' => 'common.others','class' => 'ri-more-fill'),\r\n );\r\n $config['defaultPlugins'] = array(\r\n-\t'adminer','DPlayer','jPlayer','photoSwipe','picasa','pdfjs',\r\n+\t'adminer','DPlayer','jPlayer','photoSwipe','picasa','pdfjs','htmlEditor',\r\n \t'simpleClock','client','webodf','webdav','toolsCommon','oauth','fileThumb',\r\n \t'yzOffice','officeViewer','msgWarning',\r\n );\r\n@@ -501,6 +501,10 @@\n \t$config['settings']['sourceMeta']['user_sourceNumber']['display'] = \"Number\";\r\n \t$config['settings']['sourceMeta']['user_sourceParticipant']['display'] = \"Participant\";\r\n }\r\n+I18n::set(array(\r\n+\t'common.iconApp' => 'images/icon/icon_512.png',\r\n+\t'common.iconFav' => 'images/icon/fav.png',\r\n+));\r\n \r\n /**\r\n  * \u65e0\u9700\u767b\u5f55\u68c0\u6d4b\u6743\u9650\u68c0\u6d4b\u914d\u7f6e;\r"
        },
        {
          "filename": "config/version.php",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -1,3 +1,3 @@\n <?php\r\n define('KOD_VERSION','1.48');\r\n-define('KOD_VERSION_BUILD','03');\n\\ No newline at end of file\n+define('KOD_VERSION_BUILD','04');\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/fileThumb/app.php",
          "status": "modified",
          "additions": 7,
          "deletions": 4,
          "patch": "@@ -228,12 +228,13 @@ public function coverMake($cachePath,$path,$coverName,$size){\n \t\t\t}\n \t\t}\n \t\tif($localTemp){@unlink($localTemp);}\n-\t\tif(@file_exists($thumbFile)){\n+\t\tif(@file_exists($thumbFile) && @is_file($thumbFile) && filesize($thumbFile) > 0){\n \t\t\tCache::remove($coverName);\n \t\t\treturn IO::move($thumbFile,$cachePath);\n \t\t}\n \t\tCache::set($coverName,'no',600);\n \t\tdel_file($thumbFile);\n+\t\t$this->log('cover=makeError:'.$localFile.';temp='.$thumbFile,'fileThumb');\n \t\treturn 'convert error! localFile='.get_path_this($localFile);\n \t}\n \tprivate function getSize($size){\n@@ -319,7 +320,7 @@ private function thumbVideo($file,$cacheFile,$videoThumbTime){\n \n \t\t$maxWidth = 800;\n \t\t$timeAt   = $videoThumbTime ? '-ss 00:00:03' : '';\n-\t\t$script   = $command.' -i \"'.$file.'\" -y -f image2 '.$timeAt.' -vframes 1 '.$tempPath.' 2>&1';\n+\t\t$script   = $command.' -i '.escapeShell($file).' -y -f image2 '.$timeAt.' -vframes 1 '.escapeShell($tempPath).' 2>&1';\n \t\t$out = shell_exec($script);\n \t\tif(!file_exists($tempPath)) {\n \t\t\tif ($this->thumbVideoByLink($cacheFile)) return;\n@@ -412,10 +413,12 @@ public function thumbImageCreate($file,$cacheFile,$maxSize,$ext){\n \t\t$tempPath = $cacheFile;\n \t\tif($GLOBALS['config']['systemOS'] == 'linux' && is_writable('/tmp/')){\n \t\t\tmk_dir('/tmp/fileThumb');\n-\t\t\t$tempPath = '/tmp/fileThumb/'.rand_string(15).'.png';\n+\t\t\tif(is_writable('/tmp/fileThumb')){ // \u53ef\u80fd\u6709\u4e0d\u53ef\u5199\u7684\u60c5\u51b5;\n+\t\t\t\t$tempPath = '/tmp/fileThumb/'.rand_string(15).'.png';\n+\t\t\t}\n \t\t}\n \n-\t\t$script = $command.' '.$param.' \"'.$file.'\" '.$tempPath.' 2>&1';\n+\t\t$script = $command.' '.$param.' '.escapeShell($file).' '.escapeShell($tempPath).' 2>&1';\n \t\t$out = shell_exec($script);\n \t\tif(!file_exists($tempPath)) return $this->log('image thumb error:'.$out.';cmd='.$script);\n \t\tmove_path($tempPath,$cacheFile);"
        },
        {
          "filename": "plugins/fileThumb/lib/VideoResize.class.php",
          "status": "modified",
          "additions": 5,
          "deletions": 4,
          "patch": "@@ -230,7 +230,8 @@ public function convertFinished($tempPath,$fileInfo,$cachePath,$timeStart,$pid){\n \t\t}\n \t\t$logEnd  = get_caller_msg();\n \t\t$logTime = 'time='.(time() - $timeStart);\t\n-\t\tif($data['total'] && intval($data['total']) == intval($data['finished']) && file_exists($tempPath)){\n+\t\tif( $data['total'] && intval($data['total']) == intval($data['finished']) && \n+\t\t\tfile_exists($tempPath) && is_file($thumbFile) && filesize($thumbFile) > 0 ){\n \t\t\t$runError = true;\n \t\t\t$destPath = IO::move($tempPath,$cachePath);\n \t\t\t$checkStr = IO::fileSubstr($destPath,0,10);\n@@ -311,7 +312,7 @@ private function convertSupport($ffmpeg){\n \t// \u901a\u8fc7\u547d\u4ee4\u884c\u53ca\u53c2\u6570\u67e5\u627e\u5230\u8fdb\u7a0bpid; \u517c\u5bb9Linux,window,mac\n \t// http://blog.kail.xyz/post/2018-03-28/other/windows-find-kill.html\n \tpublic function processFind($search){\n-\t\t$cmd = \"ps -eo user,pid,ppid,args | grep '\".$search.\"' | grep -v grep | awk '{print $2}'\";\n+\t\t$cmd = \"ps -eo user,pid,ppid,args | grep '.escapeShell($search).' | grep -v grep | awk '{print $2}'\";\n \t\tif($GLOBALS['config']['systemOS'] != 'windows'){return trim(@shell_exec($cmd));}\n \t\t\n \t\t// windows \u83b7\u53d6pid;\n@@ -366,7 +367,7 @@ public function videoPreview($plugin){\n \t\t$tile  = '10x'.ceil($pickCount / 10).''; \n \t\t$scale = 'scale='.$sizeW.':-2'; //,pad='.$sizeW.':'.$sizeH.':-1:-1 -q:v 1~5 ;\u8d28\u91cf\u4ece\u6700\u597d\u5230\u6700\u5dee;\n \t\t$args  = '-sws_flags accurate_rnd -q:v 4 -an'; //\u66f4\u591a\u53c2\u6570; \u8bbe\u7f6e\u56fe\u7247\u7f29\u653e\u7b97\u6cd5(\u4e0d\u8bbe\u7f6e\u7f29\u5c0f\u65f6\u53ef\u80fd\u4ea7\u751f\u7eff\u8272\u6761\u7eb9\u82b1\u5c4f);\n-\t\t$cmd = 'ffmpeg -y -i \"'.$localFile.'\" -vf \"fps='.$fps.','.$scale.',tile='.$tile.'\" '.$args.' \"'.$tempPath.'\"';\n+\t\t$cmd = 'ffmpeg -y -i '.escapeShell($localFile).' -vf \"fps='.$fps.','.$scale.',tile='.$tile.'\" '.$args.' '.escapeShell($tempPath);\n \t\t$this->log('[videoPreview start] '.$fileInfo['name'].';size='.size_format($fileInfo['size']),0,0);$timeStart = timeFloat();\n \t\t$this->log('[videoPreview run] '.$cmd,0,0);\n \t\t@shell_exec($cmd);//pr($cmd);exit;\n@@ -402,7 +403,7 @@ private function storeVideoMetadata($fileInfo,$videoInfo){\n \n \t// \u89e3\u6790\u89c6\u9891\u6587\u4ef6\u4fe1\u606f;\n \tprivate function parseVideoInfo($command,$video){\n-\t\t$result  = shell_exec($command.' -i \"'.$video.'\" 2>&1');\n+\t\t$result  = shell_exec($command.' -i '.escapeShell($video).' 2>&1');\n \t\t$info    = array('playtime'=>0,'createTime'=>'','audio'=>array());\n \t\tif(preg_match(\"/Duration:\\s*([0-9\\.\\:]+),/\", $result, $match)) {\n \t\t\t$total = explode(':', $match[1]);"
        },
        {
          "filename": "plugins/fileThumb/package.json",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -2,7 +2,7 @@\n \t\"id\":\"fileThumb\",\n \t\"name\":\"{{LNG['fileThumb.meta.name']}}\",\n \t\"title\":\"{{LNG['fileThumb.meta.title']}}\",\n-\t\"version\":\"1.96\",// 2023.11.30\n+\t\"version\":\"1.98\",// 2023.12.11\n \t\"category\":\"file,media\",\n \t\"source\":{\n \t\t\"icon\":\"{{pluginHost}}static/icon.png\""
        },
        {
          "filename": "plugins/htmlEditor/app.php",
          "status": "added",
          "additions": 12,
          "deletions": 0,
          "patch": "@@ -0,0 +1,12 @@\n+<?php\r\n+\r\n+class htmlEditorPlugin extends PluginBase{\r\n+\tfunction __construct(){\r\n+\t\tparent::__construct();\r\n+\t}\r\n+\tpublic function regist(){\r\n+\t\t$this->hookRegist(array(\r\n+\t\t\t'user.commonJs.insert' => 'htmlEditorPlugin.echoJs',\r\n+\t\t));\r\n+\t}\r\n+}\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/htmlEditor/i18n/en.php",
          "status": "added",
          "additions": 6,
          "deletions": 0,
          "patch": "@@ -0,0 +1,6 @@\n+<?php\n+return array(\n+\t'htmlEditor.meta.title'\t\t=> \"TinyMce Editor\",\n+\t'htmlEditor.meta.desc'\t\t=> \"Rich Text Editor Based on Tinymce,Tips:Editing and saving will automatically remove JS related content\",\n+\t'htmlEditor.meta.tips'\t\t=> \"The content has changed, and the editor has automatically filtered the opened content (removing unsafe tags and JS script content). Please save with caution!\",\n+);\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/htmlEditor/i18n/zh-CN.php",
          "status": "added",
          "additions": 7,
          "deletions": 0,
          "patch": "@@ -0,0 +1,7 @@\n+<?php\n+\n+return array(\n+\t'htmlEditor.meta.title'\t\t=> \"TinyMce \u7f16\u8f91\",\n+\t'htmlEditor.meta.desc'\t\t=> \"\u57fa\u4e8eTinyMce\u7684\u5bcc\u6587\u672c\u7f16\u8f91\u5668,\u6ce8\u610f:\u7f16\u8f91\u4fdd\u5b58\u4f1a\u81ea\u52a8\u53bb\u9664js\u76f8\u5173\u5185\u5bb9\",\n+\t'htmlEditor.meta.tips'\t\t=> \"\u5185\u5bb9\u53d1\u751f\u53d8\u5316,\u7f16\u8f91\u5668\u5bf9\u6253\u5f00\u5185\u5bb9\u505a\u4e86\u81ea\u52a8\u8fc7\u6ee4\u5904\u7406(\u79fb\u9664\u4e86js\u811a\u672c,\u4e0d\u652f\u6301\u7684\u6807\u7b7e\u7b49\u5185\u5bb9),\u8bf7\u8c28\u614e\u4fdd\u5b58!\",\n+);\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/htmlEditor/package.json",
          "status": "added",
          "additions": 39,
          "deletions": 0,
          "patch": "@@ -0,0 +1,39 @@\n+{\n+\t\"id\":\"htmlEditor\",\n+\t\"name\":\"{{LNG['htmlEditor.meta.title']}}\",\n+\t\"title\":\"{{LNG['htmlEditor.meta.title']}}\",\n+\t\"version\":\"1.0\",\n+\t\"source\":{\n+\t\t\"className\":\"x-item-icon x-html\",\n+\t\t\"icon\":\"\"\n+\t},\n+\t\"category\":\"file\",\n+\t\"description\":\"{{LNG['htmlEditor.meta.desc']}}\",\n+\t\"keywords\":\"tinymce,html,editor\",\n+\t\"auther\":{\n+\t\t\"copyright\":\"kodcloud.\",\n+\t\t\"homePage\":\"http://www.kodcloud.com\",\n+\t},\n+\t\"configItem\":{\n+\t\t\"pluginAuth\":{\n+\t\t\t\"type\":\"userSelect\",\n+\t\t\t\"value\":{\"all\":1},\n+\t\t\t\"display\":\"{{LNG['admin.plugin.auth']}}\",\n+\t\t\t\"desc\":\"{{LNG['admin.plugin.authDesc']}}\",\n+\t\t\t\"require\":1\n+\t\t},\n+\t\t\"sep1001\":\"<hr/>\",\n+\t\t\"fileExt\":{\n+\t\t\t\"type\":\"tags\",\n+\t\t\t\"display\":\"{{LNG['admin.plugin.fileExt']}}\",\n+\t\t\t\"desc\":\"{{LNG['admin.plugin.fileExtDesc']}}\",\n+\t\t\t\"value\":\"htm,html,shtml\"\n+\t\t},\n+\t\t\"fileSort\":{\n+\t\t\t\"type\":\"number\",\n+\t\t\t\"display\":\"{{LNG['admin.plugin.fileSort']}}\",\n+\t\t\t\"desc\":\"{{LNG['admin.plugin.fileSortDesc']}}\",\n+\t\t\t\"value\":5\n+\t\t}\n+\t}\n+}"
        },
        {
          "filename": "plugins/htmlEditor/php/template.php",
          "status": "added",
          "additions": 33,
          "deletions": 0,
          "patch": "@@ -0,0 +1,33 @@\n+<!DOCTYPE html>\n+<html dir=\"ltr\" mozdisallowselectionprint moznomarginboxes>\n+<head>\n+\t<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/> \n+\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\">\n+\t<title><?php echo clear_html($fileName);?></title>\n+</head>\n+\n+<?php if(get_path_ext($path) == 'odt'){ ?>\n+<style type=\"text/css\">\n+\t#theBODY{margin:0;padding:0;background:#f0f0f0;}\n+\t#odf{text-align: center;width:100%;display: block !important;}\n+\t#odf > div{text-align: center;width:100%;background:#f0f0f0 !important;}\n+\tdocument{\n+\t\tmargin:20px 0;background:#fff;\n+\t\tborder-bottom: 1px solid rgb(217, 217, 217);\n+\t\tbox-shadow: rgb(204, 204, 204) 0px 1px 6px;\n+\t}\n+</style>\n+<?php } ?>\n+\n+\n+<body id=\"theBODY\">\n+\t<div id=\"odf\"></div>\n+\t<?php $this->link('static/webodf.js');?>\n+\t<script type=\"text/javascript\">\n+    \tvar fileURL = \"<?php echo clear_quote($fileUrl);?>\";\n+\t\tvar odfelement = document.getElementById(\"odf\"),\n+\t\todfcanvas = new odf.OdfCanvas(odfelement);\n+\t\todfcanvas.load(fileURL);\n+\t</script>\n+</body>\n+</html>"
        },
        {
          "filename": "plugins/htmlEditor/static/main.js",
          "status": "added",
          "additions": 87,
          "deletions": 0,
          "patch": "@@ -0,0 +1,87 @@\n+kodReady.push(function(){\n+\tEvents.bind('explorer.kodApp.before',function(appList){\n+\t\tappList.push({\n+\t\t\tname:'{{package.id}}',\n+\t\t\ttitle:'{{package.name}}',\n+\t\t\text:\"{{config.fileExt}}\",\n+\t\t\tsort:\"{{config.fileSort}}\",\n+\t\t\ticon:'x-item-icon x-html',\n+\t\t\tcallback:showView\n+\t\t});\n+\t});\n+\t\n+\tvar showView = function(filePath,ext,name){\n+\t\tif( !kodApp.pathModel || !kodApp.pathModel.fileContent || !kodApi.formMaker){\n+\t\t\treturn Tips.tips(LNG['explorer.error'],'warning');\n+\t\t}\n+\t\t\n+\t\trequireAsync('{{pluginHost}}/static/style.css?v{{package.version}}');\n+\t\tvar formData = {\n+\t\t\tformStyle:{className:\"form-box-title-block dialog-html-editor\",hideSave:1},\n+\t\t\ttext:{\n+\t\t\t\ttype:'htmlEditor',value:'',\n+\t\t\t\tattr:{\"data-options\":{height:'100%',browser_spellcheck:false,statusbar:true,resize:false},style:\"height:100%;\"}\n+\t\t\t}\n+\t\t};\n+\t\tvar form = new kodApi.formMaker({formData:formData});\n+\t\tform.renderDialog({\n+\t\t\twidth:'80%',height:'70%',singleDialog:1,title:name,\n+\t\t\tico:'<i class=\"path-ico\"><i class=\"x-item-icon x-html\"></i></i>',\n+\t\t});\n+\t\tform.bind('fieldLoad',function(e){\n+\t\t\tbindEvent(form,filePath,name);\n+\t\t\tkodApp.pathModel.fileContent({path:filePath},function(content){\n+\t\t\t\tform.setValue('text',content);\n+\t\t\t\tif( form.getValue('text') != content && \n+\t\t\t\t\tcontent && content.length >= 10){\n+\t\t\t\t\tform._saveNeedConfirm = true; \n+\t\t\t\t\t// \u8bbe\u7f6e\u540e\u7acb\u5373\u83b7\u53d6,\u5185\u5bb9\u7ecf\u8fc7\u89e3\u6790\u53d8\u66f4\u60c5\u51b5,\u4fdd\u5b58\u65f6\u9700\u8981\u63d0\u793a\u786e\u8ba4;\n+\t\t\t\t}\n+\t\t\t});\n+\t\t});\n+\t};\n+\n+\tvar bindEvent = function(form,filePath){\n+\t\tvar iframeWindow = form.$('iframe').get(0).contentWindow;\n+\t\tif(!iframeWindow){return;}\n+\n+\t\t$(iframeWindow.document.body).css({padding:'10px 20px'});\n+\t\tvar supportSave = true;\n+\t\tif(!kodApp.pathModel.fileSave){supportSave = false;}\n+\t\tif(_.startsWith(filePath,'http:') || _.startsWith(filePath,'https:')){supportSave = false;}\n+\t\t\n+\t\tvar saveNow = function(){\n+\t\t\tform._saveNeedConfirm = false;// \u53ea\u9700\u786e\u8ba4\u4e00\u6b21;\n+\t\t\tif(!supportSave){return Tips.tips(LNG['explorer.noPermissionWriteAll'],'warning');}\n+\t\t\tvar content = form.getValue('text');\n+\t\t\tkodApp.pathModel.fileSave({path:filePath,content:content},Tips.tips);\n+\t\t};\n+\t\tvar save = function(){\n+\t\t\tif(form._saveNeedConfirm && supportSave){\n+\t\t\t\treturn $.dialog.confirm(\"{{LNG['htmlEditor.meta.tips']}}\",saveNow);\n+\t\t\t}\n+\t\t\tsaveNow();\n+\t\t};\n+\t\tvar saveAction = function(e){\n+\t\t\tvar isCtrl = e.metaKey || e.ctrlKey;\n+\t\t\tif(isCtrl && e.key == 's'){save();return stopPP(e);}\n+\t\t};\n+\t\t\n+\t\tform.editor = form.$('.tox-tinymce').data('editor');\n+\t\tif(form.editor){form.editor.focus();}\n+\t\t\n+\t\tvar title   = 'title=\"'+LNG['common.save'] + '(ctrl+s)\" title-timeout=\"100\" ';\n+\t\tvar btnHtml = '<button class=\"tox-tbtn btn-html-save\" '+title+'><i class=\"mce-i-icon mce-i-save\"></i></button>';\n+\t\tvar $btn = $(btnHtml).insertAfter(form.$(\".toolbar-fullscreen\"));\n+\t\tif(!supportSave){$btn.addClass('disable');}\n+\t\t\n+\t\t$btn.bind('click',save);\n+\t\t$(iframeWindow.document.body).bind('keydown',saveAction);\n+\t\tform.$el.bind('keydown',saveAction);\n+\t\tform.$el.bind('aceEditorSave',function(){ // \u4ee3\u7801\u6a21\u5f0f\u7f16\u8f91\u4fdd\u5b58;\n+\t\t\tvar codeEditor = form.$('.toc-form-code-editor .ace_editor').data('editor');\n+\t\t\tif(!codeEditor){return;}\n+\t\t\tform.setValue('text',codeEditor.getValue());save();\n+\t\t});\n+\t};\n+});\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/htmlEditor/static/style.css",
          "status": "added",
          "additions": 11,
          "deletions": 0,
          "patch": "@@ -0,0 +1,11 @@\n+.dialog-form.dialog-html-editor .form-box.config-box .panel-form-body{\n+\tmargin:0;padding:0;top:0;left:0;right:0;bottom:0;overflow: hidden;\n+}\n+\n+.dialog-form.dialog-html-editor .panel-form-body .form-row.item-text{margin:0;padding:0;}\n+.dialog-form.dialog-html-editor .panel-form-body .form-row.item-text .setting-content{\n+\tmargin:0;padding:0;position: absolute;top:0;left:0;right:0;bottom:0;\n+}\n+.dialog-form.dialog-html-editor .tox-tinymce{border:none;}\n+.dialog-form.dialog-html-editor .tox-tbtn.btn-html-save{position:absolute;right:60px;top:2px;}\n+.dialog-form.dialog-html-editor .tox-tbtn.btn-html-save .font-icon{font-size:18px;line-height: 15px;}\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/officeViewer/controller/libreOffice/index.class.php",
          "status": "modified",
          "additions": 3,
          "deletions": 2,
          "patch": "@@ -90,7 +90,7 @@ private function convert2pdf($file,$cacheFile,$ext){\n         $fpath = get_path_father($tempPath);\n         // \u8f6c\u6362\u7c7b\u578b'pdf'\u6539\u4e3a'\u65b0\u6587\u4ef6\u540d.pdf'\uff0c\u4f1a\u751f\u6210'\u6e90\u6587\u4ef6\u540d.\u65b0\u6587\u4ef6\u540d.pdf'\n \t\t$export = 'export HOME=/tmp/libreOffice && ';\n-        $script = $export.$command . ' --headless --invisible --convert-to '.$fname.' \"'.$file.'\" --outdir '.$fpath;\n+        $script = $export.$command . ' --headless --invisible --convert-to '.escapeShell($fname).' \"'.escapeShell($file).'\" --outdir '.$fpath;\n \t\t$out = shell_exec($script);\n \n         $tname = substr(end(explode('/', $file)), 0, -strlen('.'.$ext));\n@@ -127,6 +127,7 @@ private function localFile($path){\n \n     //linux \u6ce8\u610f\u4fee\u6539\u83b7\u53d6bin\u6587\u4ef6\u7684\u6743\u9650\u95ee\u9898;\n \tpublic function check(){\n+\t\tif(!$GLOBALS['isRoot']){show_tips(LNG('explorer.noPermissionAction'));}\n         $bin = $this->in['soffice'];\n \t\t$plugin = Action($this->pluginName);\n         if(!empty($bin)) {\n@@ -150,7 +151,7 @@ public function getSoffice(){\n         $check = 'LibreOffice';\n \t\t$data = Action($this->pluginName)->_appConfig('lb');\n         $bin = isset($data['soffice']) ? $data['soffice'] : '';\n-\t\t$bin = '\"'.trim(iconv_system($bin)).'\"';\t// win\u8def\u5f84\u7a7a\u683c\u5904\u7406\n+\t\t$bin = escapeShell(iconv_system($bin));\t// win\u8def\u5f84\u7a7a\u683c\u5904\u7406\n         $result = $this->checkBin($bin,$check);\n         return $result ? $bin : false;\n     }"
        },
        {
          "filename": "plugins/officeViewer/package.json",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -2,7 +2,7 @@\n \t\"id\":\"officeViewer\",\r\n \t\"name\":\"{{LNG['officeViewer.meta.name']}}\",\r\n \t\"title\":\"{{LNG['officeViewer.meta.title']}}\",\r\n-\t\"version\":\"1.22\",\r\n+\t\"version\":\"1.23\",\r\n \t\"category\":\"file\",\r\n \t\"source\":{\r\n \t\t\"icon\":\"{{pluginHost}}static/images/icon.png\"\r"
        },
        {
          "filename": "plugins/photoSwipe/i18n/en.php",
          "status": "modified",
          "additions": 1,
          "deletions": 0,
          "patch": "@@ -2,4 +2,5 @@\n return array(\n \t'photoSwipe.meta.name'\t=> \"photoSwipe viewer\",\n \t'photoSwipe.meta.title'\t=> \"photoSwipe viewer\",\n+\t'photoSwipe.showTrue'\t=> \"True Image\",\n );\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/photoSwipe/i18n/zh-CN.php",
          "status": "modified",
          "additions": 1,
          "deletions": 0,
          "patch": "@@ -2,4 +2,5 @@\n return array(\n \t'photoSwipe.meta.name'\t=> \"photoSwipe\u56fe\u7247\u64ad\u653e\",\n \t'photoSwipe.meta.title'\t=> \"photoSwipe\u56fe\u7247\u64ad\u653e\",\n+\t'photoSwipe.showTrue'\t=> \"\u67e5\u770b\u539f\u56fe\",\n );\n\\ No newline at end of file"
        },
        {
          "filename": "plugins/photoSwipe/package.json",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": "@@ -2,7 +2,7 @@\n \t\"id\":\"photoSwipe\",\n \t\"name\":\"{{LNG['photoSwipe.meta.name']}}\",\n \t\"title\":\"{{LNG['photoSwipe.meta.title']}}\",\n-\t\"version\":\"1.55\",\n+\t\"version\":\"1.56\",\n \t\"source\":{\n \t\t\"className\":\"x-item-icon x-gif\",\n \t\t\"screenshoot\":["
        },
        {
          "filename": "plugins/photoSwipe/static/PhotoSwipe/photoswipe.css",
          "status": "modified",
          "additions": 8,
          "deletions": 0,
          "patch": "@@ -196,6 +196,14 @@\n     margin: auto;height: 80%;min-width: 40%;\n }\n \n+.pswp__button.pswp__button--show-true{\n+\tmargin-right:5px;background-image: none !important;\n+\twidth: auto;font-size: 12px;padding: 0 8px 0 28px;\n+}\n+.pswp__button.pswp__button--show-true:before{\n+\tcontent:\"\\ee4a\";font-size: 18px;position: absolute;margin:-3px 0 0 -20px;\n+}\n+\n .pswp .file-panel *{box-sizing: initial;}\n .pswp__button.pswp__button--info{background-image: none !important;}\n .pswp__button.pswp__button--info:before{content:\"\\ee58\";}"
        },
        {
          "filename": "plugins/photoSwipe/static/main.js",
          "status": "modified",
          "additions": 1,
          "deletions": 0,
          "patch": "@@ -1,5 +1,6 @@\n kodReady.push(function(){\n \tif(!$.supportCanvas()) return;\n+\tLNG.set(jsonDecode(urlDecode(\"{{LNG}}\")));\n \tEvents.bind('explorer.kodApp.before',function(appList){\n \t\tappList.push({\n \t\t\tname:'{{package.id}}',"
        },
        {
          "filename": "plugins/photoSwipe/static/page.js",
          "status": "modified",
          "additions": 35,
          "deletions": 0,
          "patch": "@@ -20,6 +20,7 @@ define(function(require, exports) {\n \t\t\t\tsrc:item.src,\n \t\t\t\t$dom:item.$dom || false,\n \t\t\t\tmsrc:item.msrc || item.src,\n+\t\t\t\ttrueImage:item.trueImage || '',\n \t\t\t\ttitle:htmlEncode(title),\n \t\t\t\tw:item.width  || 0,h:item.height  || 0,\n \t\t\t\tdata:item,\n@@ -298,6 +299,39 @@ define(function(require, exports) {\n \t\t});\n \t};\n \t\n+\t// \u663e\u793a\u539f\u56fe; \u5982\u679c\u8bbe\u7f6e\u6709\u539f\u56fe\u7684\u60c5\u51b5;\n+\tvar bindShowImateTrue = function(){\n+\t\tif($('.pswp__button--show-true').length) return;\n+\t\tvar html = '<button class=\"pswp__button pswp__button--show-true\">'+LNG['photoSwipe.showTrue']+'</button>';\n+\t\tvar $button = $(html).insertAfter('.pswp__button--zoom');\n+\t\t\n+\t\tvar imageChange = function(){\n+\t\t\tvar currItem = gallery.currItem;\n+\t\t\tif(!currItem || !currItem.src){return;}\n+\t\t\tvar method = currItem.trueImage ? 'removeClass':'addClass';\n+\t\t\t$button[method]('hidden');\n+\t\t};imageChange();\n+\t\tgallery.listen('afterChange',imageChange);\n+\t\t\n+\t\t$button.bind('click', function(e){\n+\t\t\tvar currItem  = gallery.currItem;\n+\t\t\tif(!currItem || !currItem.trueImage){return;}\n+\t\t\tcurrItem._src = currItem.src;currItem.src = currItem.trueImage;\n+\n+\t\t\tvar $img = $(currItem.container).find('.pswp__img:not(.pswp__img--placeholder)');\n+\t\t\tvar loading = $(\".pswp__item.current\").loadingMask(LNG['explorer.getting'])\n+\t\t\t$img.attr('src',currItem.src).bind('load',function(){\n+\t\t\t\tcurrItem.trueImage = false;imageChange();\n+\t\t\t\tloading.close();\n+\t\t\t\t$img.hide().fadeIn();\n+\t\t\t}).bind('error',function(){\n+\t\t\t\tloading.close();\n+\t\t\t\tTips.pop(LNG['explorer.error']);\n+\t\t\t});\n+\t\t\tphotoSwipeView.updateSize();\n+\t\t});\n+\t};\n+\t\n \tvar itemInfoOpen = false;\n \tvar bindItemInfo = function(){\n \t\titemInfoOpen = false;\n@@ -378,6 +412,7 @@ define(function(require, exports) {\n \t\t\tbindRotate();\n \t\t\tbindRemove();\n \t\t\tbindItemInfo();\n+\t\t\tbindShowImateTrue();\n \t\t});\n \t};\n });\n\\ No newline at end of file"
        },
        {
          "filename": "static/app/dist/api.js",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "static/app/dist/lib.js",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": "@@ -1,2 +1,2 @@\n-/*! Powered by kodbox;hash:a65a61f2edc689a62326 [2023/12/04 19:39:33] */\n-!function(s){function t(t){for(var e,n,i=t[0],o=t[1],r=0,a=[];r<i.length;r++)n=i[r],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&a.push(l[n][0]),l[n]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(s[e]=o[e]);for(u&&u(t);a.length;)a.shift()()}var n={},l={\"1\":0};function d(t){var e;return(n[t]||(e=n[t]={\"i\":t,\"l\":!1,\"exports\":{}},s[t].call(e.exports,e,e.exports,d),e.l=!0,e)).exports}d.e=function(i){var o,r,t,a,e,n=[],s=l[i];return 0!==s&&(s?n.push(s[2]):(e=new Promise(function(t,e){s=l[i]=[t,e]}),n.push(s[2]=e),(o=document.createElement(\"script\")).charset=\"utf-8\",o.timeout=120,d.nc&&o.setAttribute(\"nonce\",d.nc),o.src=d.p+\"\"+({\"4\":\"vendor\"}[e=i]||e)+\".js?v=a65a61f2\",r=new Error,t=function(t){o.onerror=o.onload=null,clearTimeout(a);var e,n=l[i];0!==n&&(n&&(e=t&&(\"load\"===t.type?\"missing\":t.type),t=t&&t.target&&t.target.src,r.message=\"Loading chunk \"+i+\" failed.\\n(\"+e+\": \"+t+\")\",r.name=\"ChunkLoadError\",r.type=e,r.request=t,n[1](r)),l[i]=undefined)},a=setTimeout(function(){t({\"type\":\"timeout\",\"target\":o})},12e4),o.onerror=o.onload=t,document.head.appendChild(o))),Promise.all(n)},d.m=s,d.c=n,d.d=function(t,e,n){d.o(t,e)||Object.defineProperty(t,e,{\"enumerable\":!0,\"get\":n})},d.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{\"value\":\"Module\"}),Object.defineProperty(t,\"__esModule\",{\"value\":!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,\"default\",{\"enumerable\":!0,\"value\":e}),2&t&&\"string\"!=typeof e)for(var i in e)d.d(n,i,function(t){return e[t]}.bind(null,i));return n},d.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return d.d(e,\"a\",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p=\"\",d.oe=function(t){throw console.error(t),t};var e=(i=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push.bind(i);i.push=t;for(var i=i.slice(),o=0;o<i.length;o++)t(i[o]);var u=e;d(d.s=671)}({\"23\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0}),window.Promise||(window.Promise=Promise);var i=\"./static/\",o=(window.API_HOST&&((o=API_HOST.split(\"/\")).pop(),i=o.join(\"/\")+\"/static/\"),window.API_URL=function(t,e){var n=window.API_HOST,i=\"&\";return\"\"===e||_.isNull(e)||_.isUndefined(e)?n+(t||\"\"):(-1==n.indexOf(\"?\")&&(i=\"?\"),Cookie.accessToken&&(e+=\"&accessToken=\"+Cookie.accessToken),n+(t||\"\")+i+(e||\"\"))},window.API_URL_TRUE=function(t){t=(t=t||window.location.href).replace(API_URL(),\"\").replace(G.kod.APP_HOST,\"\").replace(\"?\",\"&\");return G.kod.APP_HOST+\"?\"+t},window.STATIC_PATH||i),r=(n.p=o+\"app/dist/\",n.e(4).then(function(t){n(561),n(562),n(563),n(564),n(118),n(125),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(126),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),window.Pinyin=n(587)[\"default\"],n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(122),n(123),n(124),n(121),n(598),n(599),n(600),n(601),n(602),n(119),n(120),n(603),window.Backbone.$=$,window.Events=Backbone.Events,s()}.bind(null,n))[\"catch\"](n.oe)),a=Date.now(),s=function s(){var n=seajs.use;seajs.use=function(){var t=_.toArray(arguments),i=function i(t){var e=_.get(window,\"G.kod.version\",\"\"),n=_.get(window,\"G.kod.build\",\"\");return!(e=1==_.get(window,\"G.kod.ENV_DEV\")?a:e+\".\"+n)||_.includes(t,\"&v=\")||_.includes(t,\"?v=\")||_.includes(t,\"?\")?t:(_.endsWith(t,\".htm\")||_.endsWith(t,\".html\")||_.endsWith(t,\".css\")||_.endsWith(t,\".json\")||_.endsWith(t,\".js\")||(t+=\".js\"),t+\"?v=\"+e)},e=t[0];_.isString(e)?t[0]=i(e):_.isArray(e)&&(t[0]=_.map(e,function(t){return i(t)})),n.apply(seajs,t)},window._ktime=dateFormat(!1,\"dhi\"),window.requireAsync=seajs.use,window.requirePromise=function(t){var e=$.Deferred();return seajs.use(t,e.resolve),e}},l=(function(){var i;\"development\"==window.lessENV&&(i=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(t,e){var n=Array.prototype.slice.call(arguments,0);return e.match(/\\.less$/)&&(n[1]=e+\"?_t=\"+a),i.apply(this,n)})}(),function l(){var t=window.STATIC_PATH_ALL||i;requireAsync([t+\"style/lib/alifont/iconfont.css\",t+\"style/lib/font-icon/style.css\"])}),d=function d(){var t=$.parseUrl(),e=API_URL(\"user/view/plugins\",\"v=\"+time());return _.get(t,\"params.accessToken\")&&(e+=\"&accessToken=\"+t.params.accessToken),requirePromise(e)},u=function u(i){Events.trigger(\"user.optionLoadBefore\");var t=$.parseUrl(),e=API_URL(\"user/view/options\",\"v=\"+time()+(i?\"&full=1\":\"\"));return _.get(t,\"params.accessToken\")&&(e+=\"&accessToken=\"+t.params.accessToken),t.hash&&\"s/\"==t.hash.substr(0,2)&&(e+=\"&shareID=\"+t.hash.substr(2)),requirePromise(\"text!\"+e).then(function(t){var e,n;(t=t&&JSON.parse(t))&&t.code&&t.data&&(window.G=_.extend(window.G||{},t.data),n=G.kod.staticPath,e=API_URL(),_.startsWith(n,\"http\")||(n=(n=_.startsWith(n,\"/\")?$.parseUrl(e).origin+n:e.substr(0,_.lastIndexOf(e,\"/\"))+\"/\"+n).replace(\"/./\",\"/\")),window.STATIC_PATH_ALL=window.STATIC_PATH_ALL||G.kod.APP_HOST+\"static/\",window.STATIC_PATH=n,window.VENDER_PATH=window.STATIC_PATH+\"app/vender/\",window.API_HOST=G.kod.appApi,i&&t.data._lang&&(p(t.data._lang),delete t.data._lang),$.dialog.defaults.path=window.STATIC_PATH+\"app/vender/artDialog-icon/\",requireAsync(window.STATIC_PATH+\"style/lib/alifont/iconfont.js\"),l(),Events.trigger(\"user.optionLoadAfter\"))})},c=function c(){return u(!0)},p=function p(t){window.LNG=_.extend(window.LNG||{},_.get(t,\"list\")),window.G.lang=_.get(t,\"lang\",\"zh-CN\"),LNG.find=function(n){var i={};return _.each(LNG,function(t,e){_.includes(t,n)&&(i[e]=t)}),i},LNG.set=function(t){t&&_.isObject(t)&&_.extend(LNG,t)},LNG.make=function(t){var e=_.toArray(arguments),n=LNG[t];if(!n)return t;for(var i=1;i<e.length;i++)n=n.replace(/(%d|%s)/,e[i]);return n},LNG.space='<i class=\"char-space\"></i>',LNG.logo=function(t){var e,n,i=window.G.system.options||{},o=\"image\"==i.systemNameType,r=i.systemLogo,a=STATIC_PATH+\"images/common/logo.png\",s=(_.includes([\"zh-CN\",\"zh-TW\"],G.lang)||(a=STATIC_PATH+\"images/common/logo-en.png\"),G.kod.companyInfo||!1);return s&&\"text\"==s.logoType&&s.logoText?'<span class=\"logo-text\" title=\"'+s.logoText+'\" title-timeout=\"200\"><i class=\"font-icon ri-cloud-fill mr-5\"></i>'+s.logoText+\"</span>\":(e=function e(t){return'<img src=\"'+t+'\" onerror=\"this.src=\\''+a+\"'\\\"/>\"},n=function n(t){return'<span class=\"logo-text\">'+t+\"</span>\"},\"copyright\"==t?(s=LNG[\"common.copyright.name\"],\"A\"==window.G.kod.versionType&&LNG[\"common.oemCompany\"]!=window.md5(_.get(window,\"G.kod.channel\",\"\"))&&(r=a,s=\"kodbox\"),o?e(r):n(s)):\"login\"!=t||o?e(r):n(i.systemName))}},f=function f(){var t=API_URL(\"user/view/lang\",\"v=\"+time());return requirePromise(\"text!\"+t).then(function(t){if(t){try{t=JSON.parse(t)}catch(e){return m(t)}t&&t.code&&t.data&&p(t.data)}})},m=function m(t){Tips.close(\"System error!\",!1);var e=(e=$.dialog.list[\"xhrErrorDialog\"])||$.dialog({\"id\":\"xhrErrorDialog\",\"padding\":0,\"width\":\"55%\",\"height\":\"60%\",\"fixed\":!0,\"resize\":!0,\"title\":\"System Error\",\"content\":\"\"}),t='\\n\\t\\t<div class=\"ajaxError\">\\n\\t\\t<div class=\"content-preview\">\\n\\t\\t<style>\\n\\t\\t.ajaxError{\\n\\t\\t\\toverflow:auto;padding:20px 5%;color:#555;font-size:13px;line-height:1.5em;\\n\\t\\t\\tfont-family:\"Lantinghei SC\",\"Hiragino Sans GB\",\"Microsoft Yahei\",Helvetica,arial,sans-serif;\\n\\t\\t}\\n\\t\\t.ajaxError #msgbox{margin:0;}\\n\\t\\t.error-tips{padding:5px 0 10px;border-bottom:1px solid #eee;margin-bottom:10px;font-size: 14px;}\\n\\t\\t.content-preview{\\n\\t\\t\\tborder: 1px solid #fff1f0;padding:5px 20px 10px 20px;\\n\\t\\t\\tbackground: #fff9f9;border-radius:4px;margin-bottom:50px;\\n\\t\\t}\\n\\t\\t</style>\\n\\t\\t<h3 style=\"color:#f04134\" >System Error!</h3>'+htmlSafe(t)+\"\\n\\t\\t</div></div>\";$.iframeHtml(e.$main.find(\".aui-content\"),t)},h=function h(){return r.then(function(){NProgress.isStarted()||NProgress.start(),NProgress.set(.5)}).then(d).then(function(){NProgress.set(.6)}).then(c).then(function(){NProgress.done(),$(\"body > .loading-body\").fadeOut(1e3,function(){$(this).remove()})})},w=function w(){return window.API_HOST?r.then(function(){NProgress.isStarted()||NProgress.start(),NProgress.set(.6)}).then(c).then(function(){NProgress.done()}):r.then()};e.loadMain=h,e.loadApi=w,e.loadOption=u,e.loadLang=f,e.loadPlugin=d},\"60\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0}),e[\"default\"]=function(){i(),o(),r(),l(),s(),Events.trigger(\"windowReady\");var t=document.createEvent(\"CustomEvent\");t.initCustomEvent(\"kodReadyView\",!0,!0,{\"source\":window}),document.dispatchEvent(t)};var i=function i(){var t;$.fn.perfectScroll&&(t=function t(){$(\".perfectScroll\").perfectScroll()},$(window).bind(\"resize\",t),$(window).bind(\"scoller\",t))},o=function o(){var t,i,e;$.isWindowTouch()||$.fn.poshytip&&(t=$(\"[title]\"),i=!1,t.poshytip({\"className\":\"ptips-skin\",\"liveEvents\":!0,\"slide\":!1,\"alignTo\":\"cursor\",\"alignX\":\"right\",\"alignY\":\"bottom\",\"showAniDuration\":150,\"hideAniDuration\":200,\"offsetY\":10,\"offsetX\":20,\"showTimeout\":function(t){var e=1500,n=($(this).attr(\"title-timeout\")&&(e=parseInt($(this).attr(\"title-timeout\"))),function n(){t.opts.showAniDuration=150,t.opts.hideAniDuration=200});return timeFloat()-$.fn.poshytip.lastHideBefore<.15?(clearTimeout(i),i=setTimeout(n,110),e<=100?e:100):(n(),e)},\"content\":function(t){var e,n,i,o,r=$(this);if(!$.isDraging&&!($(this).hasClass(\"context-menu-active\")||$(this).is(\":focus\")||r.hasClass(\"disable\")||r.hasClass(\"disable-title\")))return i=r.attr(\"title-skin\"),o=r.attr(\"title-position\"),(e=r.parentNode(\"[title-root-set]\"))&&(i=e.attr(\"title-skin\"),o=e.attr(\"title-position\")),t.addClass(i||\"yellow\"),o&&(e=[\"center bottom\",\"center top-5\"],(n=2!=(n=o.split(\",\")).length?e:n)[0]||(n[0]=e[0]),n[1]||(n[1]=e[1]),setTimeout(function(){t.position({\"my\":n[0],\"at\":n[1],\"of\":r,\"collision\":\"flipfit flipfit\"})},0)),(i=$(this).data(\"titleCreate\"))&&_.isFunction(i)?i($(this)):(o=$(this).data(\"title.poshytip\"),(o=-1==(o=(o=$(this).attr(\"title-data\")?(r=$($(this).attr(\"title-data\"))).is(\"input\")||r.is(\"textarea\")?r.val():r.html():o)||\"\").indexOf(\"<\")&&-1==o.indexOf(\">\")?o.replace(/\\n/g,\"<br/>\"):o).replace(/\u00a0/g,\" \"))}}),e=function e(t){$(\"[title]\").poshytip(\"clearTimeouts\").poshytip(\"hide\"),$(\".ptips-skin\").remove(),$.fn.poshytip.lastHideBefore=0},$(document).bind(\"mousedown mouseup click touchend touchstart\",function(t){$.fn.poshytip&&!$(t.target).attr(\"data-require\")&&e(t)}),$(\"input,textarea\").live(\"focus\",function(t){$.fn.poshytip&&!$(this).attr(\"data-require\")&&e(t)}))},r=function r(){window.API_HOST&&(template.defaults.cache=!0,template.defaults.minimize=!1,template.defaults.compileDebug=!1)},a=function a(){var t,e;$.isWindowTouch()||(t=[\".hover-animate-item\",\".menuBar .menu-item\",\".menu-group-submenu .menu-item-sub\",\".menuBar .dropdown-menu-main li.ripple-item\",\".setting-menu-left .menu-item-content\",\".admin-menu-left .menu-item-content\",\".frame-main-explorer .file-panel > .tab-group-line .tab-item\"].join(\",\"),e=[\".disable,.disabled,.not-selectable\",\".menuBar .menu-item.this\",\".menuBar .menu-group.open > .menu-item\",\".setting-menu-left .menu-item.select .menu-item-content\",\".admin-menu-left .menu-item.select .menu-item-content\"].join(\",\"),$.hoverAnimate({\"el\":t,\"delegate\":\"body\",\"disable\":e,\"scale\":1}))},l=function l(){var s,t=\"a,button,.ripple-item,.kui-btn,.btn,[ripple-item],.button.switch\",e=t+\",.context-menu-item\",n=($.isWindowTouch()&&(e=t),loadRipple(e,\".disable-ripple,.disabled,.disable,.ztree a,.not-selectable,.tox-tbtn--disabled\"),a(),$(window).bind(\"resize\",function(){Events.trigger(\"window.resize\")}),function n(t){return!!$(t.target).isEdit()||stopPP(t)});$(document).bind(\"dragover\",n).bind(\"drop\",n),$(\"body\").delegate(\".password-view\",\"click\",function(t){var e,n,i=$(this),o=i.parent().children('input[type=\"password\"],input.input-password').not(\"._password-input\");1==o.length&&(o.hasClass(\"input-password\")?(i.toggleClass(\"active\"),o.toggleClass(\"input-password-show\").focus()):i.hasClass(\"active\")?(o.css(\"display\",\"\"),i.removeClass(\"active\"),$(i.data(\"textBtn\")).remove(),setTimeout(function(){o.focus()},0)):(e=(e=$(o.get(0)).prop(\"outerHTML\")).replace(/type\\s*=\\s*(\"|')?password(\"|')?/i,'type=\"text\"'),n=$(e).removeAttr(\"readonly\").insertAfter(o),o.css(\"display\",\"none\"),i.data(\"textBtn\",n).addClass(\"active\"),n.focus().val(o.val()),n.addClass(\"_password-view-field\").data(\"_password-input\",o),setTimeout(function(){n.focus()},0)))}),$(\"body\").delegate(\"._password-view-field\",\"change keyup keydown\",function(t){var e,n=$(this).data(\"_password-input\");1==n.length&&((e=jQuery.Event(t.type)).key=t.key,e.keyCode=t.keyCode,e.which=t.which,n.val($(this).val()).trigger(e))}),$(\"body\").delegate(\"img,a\",\"dragstart\",function(t){return stopPP(t)}),window.API_HOST&&($(\"body\").delegate(\"a\",\"click\",function(t){\"#\"==$(this).attr(\"href\")&&t.preventDefault()}),$(\"body\").delegate(\"[link-href]\",\"click\",function(t){return s(t,\"\")}),$(\"body\").delegate(\"[link-href]\",\"mouseup\",function(t){if(2==t.which)return s(t,\"_blank\")}),s=function s(t,e){var n,i=$(t.currentTarget),o=i.attr(\"link-href\")||\"#\",e=e||i.attr(\"target\"),r=_.startsWith(o,\"http://\")||_.startsWith(o,\"https://\"),a=o;if(!r){if(o.startsWith(\"/\")||o.startsWith(\"./\"))return 2==t.which||\"_blank\"==e?window.open(a):void(window.location.href=o);a=$.parseUrl().urlPath+(\"#\"==o?\"\":\"#\"+o)}if(i.attr(\"dialog-open\")||\"dialog\"==e)return n=i.find(\".font-icon\").prop(\"outerHTML\")||\"\",n=htmlSafe(n+i.text()),core.openDialog(a,\"\",n);if(r)\"_blank\"==e?window.open(a):window.location.href=a;else{if(2==t.which||\"_blank\"==e)return window.open(a);o=\"#\"==o&&window.parent!=window?\"#&_a=1\":o,Router.go(o)}})},s=function s(){$.fn.tabCurrent=function(t){var e,n,i,o,r,a,s,l=$(this);return l&&0!=l.length&&(e=l.parent(),s=l.outerWidth(),o=l.offset().left-e.offset().left,0!=(n=e.children(\".tab-item-bar\")).length)&&(n.data(\"initTab\")||(n.data(\"initTab\",1),n.addClass(\"no-animate opacity-hidden\"),setTimeout(function(){n.removeClass(\"opacity-hidden\"),e.children(\".tab-item\").filter(\".active\").tabCurrent()},10),setTimeout(function(){e.children(\".tab-item\").filter(\".active\").tabCurrent(),n.removeClass(\"no-animate\")},300)),i=e.scrollLeft()||0,r=e.offset().top+e.outerHeight(),a=l.offset().top+l.outerHeight(),s={\"width\":(s=+l.width())+\"px\",\"left\":(o=o+(l.outerWidth()-s)/2+i)+\"px\",\"transform\":\"translate3d(0px,-\"+Math.abs(r-a+1)+\"px, 0px)\"},t&&n.addClass(\"no-animate\"),n.css(s),e.children(\".tab-item\").removeClass(\"active\"),l.addClass(\"active\"),t&&(n.offset(),n.removeClass(\"no-animate\")),i=e.parent(),0!=(o=(i=e.attr(\"tab-pan-parent\")?e.parents(e.attr(\"tab-pan-parent\")):i).children(\".tab-group-pan\").children(\".tab-content\")).length)&&(r=l.attr(\"tab-name\").replace(/'/g,\"\\\\'\"),a=o.filter(\":visible\"),s=o.filter(\".\"+r),a.switchTo(s),l.trigger(\"tab-select\")),this},$(document).delegate(\".tab-group-line .tab-item\",\"click\",function(){$(this).tabCurrent()});var t=_.debounce(function(){$(\".tab-group-line .tab-item.active\").each(function(){$(this).tabCurrent(!0)})},50);$(window).bind(\"resize\",t),$.isWindowTouch()&&d()},d=function d(){}},\"671\":function(t,e,n){t.exports=n(672)},\"672\":function(t,e,n){\"use strict\";var i=n(23),n=n(60),o=(n=n)&&n.__esModule?n:{\"default\":n};(0,i.loadApi)().then(function(){(0,o[\"default\"])()})}});\n\\ No newline at end of file\n+/*! Powered by kodbox;hash:e75fab95c8ed0783f955 [2023/12/15 01:10:35] */\n+!function(s){function t(t){for(var e,n,i=t[0],o=t[1],r=0,a=[];r<i.length;r++)n=i[r],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&a.push(l[n][0]),l[n]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(s[e]=o[e]);for(u&&u(t);a.length;)a.shift()()}var n={},l={\"1\":0};function d(t){var e;return(n[t]||(e=n[t]={\"i\":t,\"l\":!1,\"exports\":{}},s[t].call(e.exports,e,e.exports,d),e.l=!0,e)).exports}d.e=function(i){var o,r,t,a,e,n=[],s=l[i];return 0!==s&&(s?n.push(s[2]):(e=new Promise(function(t,e){s=l[i]=[t,e]}),n.push(s[2]=e),(o=document.createElement(\"script\")).charset=\"utf-8\",o.timeout=120,d.nc&&o.setAttribute(\"nonce\",d.nc),o.src=d.p+\"\"+({\"4\":\"vendor\"}[e=i]||e)+\".js?v=e75fab95\",r=new Error,t=function(t){o.onerror=o.onload=null,clearTimeout(a);var e,n=l[i];0!==n&&(n&&(e=t&&(\"load\"===t.type?\"missing\":t.type),t=t&&t.target&&t.target.src,r.message=\"Loading chunk \"+i+\" failed.\\n(\"+e+\": \"+t+\")\",r.name=\"ChunkLoadError\",r.type=e,r.request=t,n[1](r)),l[i]=undefined)},a=setTimeout(function(){t({\"type\":\"timeout\",\"target\":o})},12e4),o.onerror=o.onload=t,document.head.appendChild(o))),Promise.all(n)},d.m=s,d.c=n,d.d=function(t,e,n){d.o(t,e)||Object.defineProperty(t,e,{\"enumerable\":!0,\"get\":n})},d.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{\"value\":\"Module\"}),Object.defineProperty(t,\"__esModule\",{\"value\":!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,\"default\",{\"enumerable\":!0,\"value\":e}),2&t&&\"string\"!=typeof e)for(var i in e)d.d(n,i,function(t){return e[t]}.bind(null,i));return n},d.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return d.d(e,\"a\",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p=\"\",d.oe=function(t){throw console.error(t),t};var e=(i=window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push.bind(i);i.push=t;for(var i=i.slice(),o=0;o<i.length;o++)t(i[o]);var u=e;d(d.s=672)}({\"23\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0}),window.Promise||(window.Promise=Promise);var i=\"./static/\",o=(window.API_HOST&&((o=API_HOST.split(\"/\")).pop(),i=o.join(\"/\")+\"/static/\"),window.API_URL=function(t,e){var n=window.API_HOST,i=\"&\";return\"\"===e||_.isNull(e)||_.isUndefined(e)?n+(t||\"\"):(-1==n.indexOf(\"?\")&&(i=\"?\"),n+(t||\"\")+i+(e||\"\"))},window.API_URL_TRUE=function(t){t=(t=t||window.location.href).replace(API_URL(),\"\").replace(G.kod.APP_HOST,\"\").replace(\"?\",\"&\");return G.kod.APP_HOST+\"?\"+t},window.STATIC_PATH||i),r=(n.p=o+\"app/dist/\",n.e(4).then(function(t){n(563),n(564),n(565),n(566),n(122),n(129),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(130),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),window.Pinyin=n(589)[\"default\"],n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(126),n(127),n(128),n(125),n(600),n(601),n(602),n(603),n(604),n(123),n(124),n(605),window.Backbone.$=$,window.Events=Backbone.Events,s()}.bind(null,n))[\"catch\"](n.oe)),a=Date.now(),s=function s(){var n=seajs.use;seajs.use=function(){var t=_.toArray(arguments),i=function i(t){var e=_.get(window,\"G.kod.version\",\"\"),n=_.get(window,\"G.kod.build\",\"\");return!(e=1==_.get(window,\"G.kod.ENV_DEV\")?a:e+\".\"+n)||_.includes(t,\"&v=\")||_.includes(t,\"?v=\")||_.includes(t,\"?\")?t:(_.endsWith(t,\".htm\")||_.endsWith(t,\".html\")||_.endsWith(t,\".css\")||_.endsWith(t,\".json\")||_.endsWith(t,\".js\")||(t+=\".js\"),t+\"?v=\"+e)},e=t[0];_.isString(e)?t[0]=i(e):_.isArray(e)&&(t[0]=_.map(e,function(t){return i(t)})),n.apply(seajs,t)},window._ktime=dateFormat(!1,\"dhi\"),window.requireAsync=seajs.use,window.requirePromise=function(t){var e=$.Deferred();return seajs.use(t,e.resolve),e}},l=(function(){var i;\"development\"==window.lessENV&&(i=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(t,e){var n=Array.prototype.slice.call(arguments,0);return e.match(/\\.less$/)&&(n[1]=e+\"?_t=\"+a),i.apply(this,n)})}(),function l(){var t=window.STATIC_PATH_ALL||i;requireAsync([t+\"style/lib/alifont/iconfont.css\",t+\"style/lib/font-icon/style.css\"])}),d=function d(){var t=$.parseUrl(),e=API_URL(\"user/view/plugins\",\"v=\"+time());return _.get(t,\"params.accessToken\")&&(e+=\"&accessToken=\"+t.params.accessToken),requirePromise(e)},u=function u(i){Events.trigger(\"user.optionLoadBefore\");var t=$.parseUrl(),e=API_URL(\"user/view/options\",\"v=\"+time()+(i?\"&full=1\":\"\"));return _.get(t,\"params.accessToken\")&&(e+=\"&accessToken=\"+t.params.accessToken),t.hash&&\"s/\"==t.hash.substr(0,2)&&(e+=\"&shareID=\"+t.hash.substr(2)),requirePromise(\"text!\"+e).then(function(t){var e,n;(t=t&&JSON.parse(t))&&t.code&&t.data&&(window.G=_.extend(window.G||{},t.data),n=G.kod.staticPath,e=API_URL(),_.startsWith(n,\"http\")||(n=(n=_.startsWith(n,\"/\")?$.parseUrl(e).origin+n:e.substr(0,_.lastIndexOf(e,\"/\"))+\"/\"+n).replace(\"/./\",\"/\")),window.STATIC_PATH_ALL=window.STATIC_PATH_ALL||G.kod.APP_HOST+\"static/\",window.STATIC_PATH=n,window.VENDER_PATH=window.STATIC_PATH+\"app/vender/\",window.API_HOST=G.kod.appApi,i&&t.data._lang&&(p(t.data._lang),delete t.data._lang),$.dialog.defaults.path=window.STATIC_PATH+\"app/vender/artDialog-icon/\",requireAsync(window.STATIC_PATH+\"style/lib/alifont/iconfont.js\"),l(),Events.trigger(\"user.optionLoadAfter\"))})},c=function c(){return u(!0)},p=function p(t){window.LNG=_.extend(window.LNG||{},_.get(t,\"list\")),window.G.lang=_.get(t,\"lang\",\"zh-CN\"),LNG.find=function(n){var i={};return _.each(LNG,function(t,e){_.includes(t,n)&&(i[e]=t)}),i},LNG.set=function(t){t&&_.isObject(t)&&_.extend(LNG,t)},LNG.make=function(t){var e=_.toArray(arguments),n=LNG[t];if(!n)return t;for(var i=1;i<e.length;i++)n=n.replace(/(%d|%s)/,e[i]);return n},LNG.space='<i class=\"char-space\"></i>',LNG.logo=function(t){var e,n,i=window.G.system.options||{},o=\"image\"==i.systemNameType,r=i.systemLogo,a=STATIC_PATH+\"images/common/logo.png\",s=(_.includes([\"zh-CN\",\"zh-TW\"],G.lang)||(a=STATIC_PATH+\"images/common/logo-en.png\"),G.kod.companyInfo||!1);return s&&\"text\"==s.logoType&&s.logoText?'<span class=\"logo-text\" title=\"'+s.logoText+'\" title-timeout=\"200\"><i class=\"font-icon ri-cloud-fill mr-5\"></i>'+s.logoText+\"</span>\":(e=function e(t){return'<img src=\"'+t+'\" onerror=\"this.src=\\''+a+\"'\\\"/>\"},n=function n(t){return'<span class=\"logo-text\">'+t+\"</span>\"},\"copyright\"==t?(s=LNG[\"common.copyright.name\"],\"A\"==window.G.kod.versionType&&LNG[\"common.oemCompany\"]!=window.md5(_.get(window,\"G.kod.channel\",\"\"))&&(r=a,s=\"kodbox\"),o?e(r):n(s)):\"login\"!=t||o?e(r):n(i.systemName))}},f=function f(){var t=API_URL(\"user/view/lang\",\"v=\"+time());return requirePromise(\"text!\"+t).then(function(t){if(t){try{t=JSON.parse(t)}catch(e){return m(t)}t&&t.code&&t.data&&p(t.data)}})},m=function m(t){Tips.close(\"System error!\",!1);var e=(e=$.dialog.list[\"xhrErrorDialog\"])||$.dialog({\"id\":\"xhrErrorDialog\",\"padding\":0,\"width\":\"55%\",\"height\":\"60%\",\"fixed\":!0,\"resize\":!0,\"title\":\"System Error\",\"content\":\"\"}),t='\\n\\t\\t<div class=\"ajaxError\">\\n\\t\\t<div class=\"content-preview\">\\n\\t\\t<style>\\n\\t\\t.ajaxError{\\n\\t\\t\\toverflow:auto;padding:20px 5%;color:#555;font-size:13px;line-height:1.5em;\\n\\t\\t\\tfont-family:\"Lantinghei SC\",\"Hiragino Sans GB\",\"Microsoft Yahei\",Helvetica,arial,sans-serif;\\n\\t\\t}\\n\\t\\t.ajaxError #msgbox{margin:0;}\\n\\t\\t.error-tips{padding:5px 0 10px;border-bottom:1px solid #eee;margin-bottom:10px;font-size: 14px;}\\n\\t\\t.content-preview{\\n\\t\\t\\tborder: 1px solid #fff1f0;padding:5px 20px 10px 20px;\\n\\t\\t\\tbackground: #fff9f9;border-radius:4px;margin-bottom:50px;\\n\\t\\t}\\n\\t\\t</style>\\n\\t\\t<h3 style=\"color:#f04134\" >System Error!</h3>'+htmlSafe(t)+\"\\n\\t\\t</div></div>\";$.iframeHtml(e.$main.find(\".aui-content\"),t)},h=function h(){return r.then(function(){NProgress.isStarted()||NProgress.start(),NProgress.set(.5)}).then(d).then(function(){NProgress.set(.6)}).then(c).then(function(){NProgress.done(),$(\"body > .loading-body\").fadeOut(1e3,function(){$(this).remove()})})},w=function w(){return window.API_HOST?r.then(function(){NProgress.isStarted()||NProgress.start(),NProgress.set(.6)}).then(c).then(function(){NProgress.done()}):r.then()};e.loadMain=h,e.loadApi=w,e.loadOption=u,e.loadLang=f,e.loadPlugin=d},\"60\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{\"value\":!0}),e[\"default\"]=function(){i(),o(),r(),l(),s(),Events.trigger(\"windowReady\");var t=document.createEvent(\"CustomEvent\");t.initCustomEvent(\"kodReadyView\",!0,!0,{\"source\":window}),document.dispatchEvent(t)};var i=function i(){var t;$.fn.perfectScroll&&(t=function t(){$(\".perfectScroll\").perfectScroll()},$(window).bind(\"resize\",t),$(window).bind(\"scoller\",t))},o=function o(){var t,i,e;$.isWindowTouch()||$.fn.poshytip&&(t=$(\"[title]\"),i=!1,t.poshytip({\"className\":\"ptips-skin\",\"liveEvents\":!0,\"slide\":!1,\"alignTo\":\"cursor\",\"alignX\":\"right\",\"alignY\":\"bottom\",\"showAniDuration\":150,\"hideAniDuration\":200,\"offsetY\":10,\"offsetX\":20,\"showTimeout\":function(t){var e=1500,n=($(this).attr(\"title-timeout\")&&(e=parseInt($(this).attr(\"title-timeout\"))),function n(){t.opts.showAniDuration=150,t.opts.hideAniDuration=200});return timeFloat()-$.fn.poshytip.lastHideBefore<.15?(clearTimeout(i),i=setTimeout(n,110),e<=100?e:100):(n(),e)},\"content\":function(t){var e,n,i,o,r=$(this);if(!$.isDraging&&!($(this).hasClass(\"context-menu-active\")||$(this).is(\":focus\")||r.hasClass(\"disable\")||r.hasClass(\"disable-title\")))return i=r.attr(\"title-skin\"),o=r.attr(\"title-position\"),(e=r.parentNode(\"[title-root-set]\"))&&(i=e.attr(\"title-skin\"),o=e.attr(\"title-position\")),t.addClass(i||\"yellow\"),o&&(e=[\"center bottom\",\"center top-5\"],(n=2!=(n=o.split(\",\")).length?e:n)[0]||(n[0]=e[0]),n[1]||(n[1]=e[1]),setTimeout(function(){t.position({\"my\":n[0],\"at\":n[1],\"of\":r,\"collision\":\"flipfit flipfit\"})},0)),(i=$(this).data(\"titleCreate\"))&&_.isFunction(i)?i($(this)):(o=$(this).data(\"title.poshytip\"),(o=-1==(o=(o=$(this).attr(\"title-data\")?(r=$($(this).attr(\"title-data\"))).is(\"input\")||r.is(\"textarea\")?r.val():r.html():o)||\"\").indexOf(\"<\")&&-1==o.indexOf(\">\")?o.replace(/\\n/g,\"<br/>\"):o).replace(/\u00a0/g,\" \"))}}),e=function e(t){$(\"[title]\").poshytip(\"clearTimeouts\").poshytip(\"hide\"),$(\".ptips-skin\").remove(),$.fn.poshytip.lastHideBefore=0},$(document).bind(\"mousedown mouseup click touchend touchstart\",function(t){$.fn.poshytip&&!$(t.target).attr(\"data-require\")&&e(t)}),$(\"input,textarea\").live(\"focus\",function(t){$.fn.poshytip&&!$(this).attr(\"data-require\")&&e(t)}))},r=function r(){window.API_HOST&&(template.defaults.cache=!0,template.defaults.minimize=!1,template.defaults.compileDebug=!1)},a=function a(){var t,e;$.isWindowTouch()||(t=[\".hover-animate-item\",\".menuBar .menu-item\",\".menu-group-submenu .menu-item-sub\",\".menuBar .dropdown-menu-main li.ripple-item\",\".setting-menu-left .menu-item-content\",\".admin-menu-left .menu-item-content\",\".frame-main-explorer .file-panel > .tab-group-line .tab-item\"].join(\",\"),e=[\".disable,.disabled,.not-selectable\",\".menuBar .menu-item.this\",\".menuBar .menu-group.open > .menu-item\",\".setting-menu-left .menu-item.select .menu-item-content\",\".admin-menu-left .menu-item.select .menu-item-content\"].join(\",\"),$.hoverAnimate({\"el\":t,\"delegate\":\"body\",\"disable\":e,\"scale\":1}))},l=function l(){var s,t=\"a,button,.ripple-item,.kui-btn,.btn,[ripple-item],.button.switch\",e=t+\",.context-menu-item\",n=($.isWindowTouch()&&(e=t),loadRipple(e,\".disable-ripple,.disabled,.disable,.ztree a,.not-selectable,.tox-tbtn--disabled\"),a(),$(window).bind(\"resize\",function(){Events.trigger(\"window.resize\")}),function n(t){return!!$(t.target).isEdit()||stopPP(t)});$(document).bind(\"dragover\",n).bind(\"drop\",n),$(\"body\").delegate(\".password-view\",\"click\",function(t){var e,n,i=$(this),o=i.parent().children('input[type=\"password\"],input.input-password').not(\"._password-input\");1==o.length&&(o.hasClass(\"input-password\")?(i.toggleClass(\"active\"),o.toggleClass(\"input-password-show\").focus()):i.hasClass(\"active\")?(o.css(\"display\",\"\"),i.removeClass(\"active\"),$(i.data(\"textBtn\")).remove(),setTimeout(function(){o.focus()},0)):(e=(e=$(o.get(0)).prop(\"outerHTML\")).replace(/type\\s*=\\s*(\"|')?password(\"|')?/i,'type=\"text\"'),n=$(e).removeAttr(\"readonly\").insertAfter(o),o.css(\"display\",\"none\"),i.data(\"textBtn\",n).addClass(\"active\"),n.focus().val(o.val()),n.addClass(\"_password-view-field\").data(\"_password-input\",o),setTimeout(function(){n.focus()},0)))}),$(\"body\").delegate(\"._password-view-field\",\"change keyup keydown\",function(t){var e,n=$(this).data(\"_password-input\");1==n.length&&((e=jQuery.Event(t.type)).key=t.key,e.keyCode=t.keyCode,e.which=t.which,n.val($(this).val()).trigger(e))}),$(\"body\").delegate(\"img,a\",\"dragstart\",function(t){return stopPP(t)}),window.API_HOST&&($(\"body\").delegate(\"a\",\"click\",function(t){\"#\"==$(this).attr(\"href\")&&t.preventDefault()}),$(\"body\").delegate(\"[link-href]\",\"click\",function(t){return s(t,\"\")}),$(\"body\").delegate(\"[link-href]\",\"mouseup\",function(t){if(2==t.which)return s(t,\"_blank\")}),s=function s(t,e){var n,i=$(t.currentTarget),o=i.attr(\"link-href\")||\"#\",e=e||i.attr(\"target\"),r=_.startsWith(o,\"http://\")||_.startsWith(o,\"https://\"),a=o;if(!r){if(o.startsWith(\"/\")||o.startsWith(\"./\"))return 2==t.which||\"_blank\"==e?window.open(a):void(window.location.href=o);a=$.parseUrl().urlPath+(\"#\"==o?\"\":\"#\"+o)}if(i.attr(\"dialog-open\")||\"dialog\"==e)return n=i.find(\".font-icon\").prop(\"outerHTML\")||\"\",n=htmlSafe(n+i.text()),core.openDialog(a,\"\",n);if(r)\"_blank\"==e?window.open(a):window.location.href=a;else{if(2==t.which||\"_blank\"==e)return window.open(a);o=\"#\"==o&&window.parent!=window?\"#&_a=1\":o,Router.go(o)}})},s=function s(){$.fn.tabCurrent=function(t){var e,n,i,o,r,a,s,l=$(this);return l&&0!=l.length&&(e=l.parent(),s=l.outerWidth(),o=l.offset().left-e.offset().left,0!=(n=e.children(\".tab-item-bar\")).length)&&(n.data(\"initTab\")||(n.data(\"initTab\",1),n.addClass(\"no-animate opacity-hidden\"),setTimeout(function(){n.removeClass(\"opacity-hidden\"),e.children(\".tab-item\").filter(\".active\").tabCurrent()},10),setTimeout(function(){e.children(\".tab-item\").filter(\".active\").tabCurrent(),n.removeClass(\"no-animate\")},300)),i=e.scrollLeft()||0,r=e.offset().top+e.outerHeight(),a=l.offset().top+l.outerHeight(),s={\"width\":(s=+l.width())+\"px\",\"left\":(o=o+(l.outerWidth()-s)/2+i)+\"px\",\"transform\":\"translate3d(0px,-\"+Math.abs(r-a+1)+\"px, 0px)\"},t&&n.addClass(\"no-animate\"),n.css(s),e.children(\".tab-item\").removeClass(\"active\"),l.addClass(\"active\"),t&&(n.offset(),n.removeClass(\"no-animate\")),i=e.parent(),0!=(o=(i=e.attr(\"tab-pan-parent\")?e.parents(e.attr(\"tab-pan-parent\")):i).children(\".tab-group-pan\").children(\".tab-content\")).length)&&(r=l.attr(\"tab-name\").replace(/'/g,\"\\\\'\"),a=o.filter(\":visible\"),s=o.filter(\".\"+r),a.switchTo(s),l.trigger(\"tab-select\")),this},$(document).delegate(\".tab-group-line .tab-item\",\"click\",function(){$(this).tabCurrent()});var t=_.debounce(function(){$(\".tab-group-line .tab-item.active\").each(function(){$(this).tabCurrent(!0)})},50);$(window).bind(\"resize\",t),$.isWindowTouch()&&d()},d=function d(){}},\"672\":function(t,e,n){t.exports=n(673)},\"673\":function(t,e,n){\"use strict\";var i=n(23),n=n(60),o=(n=n)&&n.__esModule?n:{\"default\":n};(0,i.loadApi)().then(function(){(0,o[\"default\"])()})}});\n\\ No newline at end of file"
        },
        {
          "filename": "static/app/dist/main.js",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "static/app/dist/sdk.js",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "static/app/dist/vendor.js",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "static/app/vender/others/beautifier.min.js",
          "status": "added",
          "additions": 1,
          "deletions": 0,
          "patch": "@@ -0,0 +1 @@\n+!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"beautifier\",[],e):\"object\"==typeof exports?exports.beautifier=e():t.beautifier=e()}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof windows?window:\"undefined\"!=typeof global?global:this,(function(){return function(){\"use strict\";var t={7:function(t){function e(t,e){t=\"string\"==typeof t?t:t.source,e=\"string\"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \\w+[:]\\w+)+ /.source+e,\"g\"),this.__directive_pattern=/ (\\w+)[:](\\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\\sbeautify\\signore:end\\s/.source+e,\"g\")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.t=e},418:function(t){var e=RegExp.prototype.hasOwnProperty(\"sticky\");function i(t){this.__input=t||\"\",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,i){t.lastIndex=i;var n=t.exec(this.__input);return!n||e&&t.sticky||n.index!==i&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,null!==i&&t.test(i)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,i){var n,_=\"\";return t&&(n=this.match(t))&&(_+=n[0]),!e||!n&&t||(_+=this.readUntil(e,i)),_},i.prototype.readUntil=function(t,e){var i,n=this.__position;t.lastIndex=this.__position;var _=t.exec(this.__input);return _?(n=_.index,e&&(n+=_[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,i){var n=null,_=\"g\";return i&&e&&(_=\"y\"),\"string\"==typeof t&&\"\"!==t?n=new RegExp(t,_):t&&(n=new RegExp(t.source,_)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.g=i},915:function(t){function e(t,e){this.raw_options=function(t,e){var i,n={};for(i in t=function(t){var e,i={};for(e in t)i[e.replace(/-/g,\"_\")]=t[e];return i}(t))i!==e&&(n[i]=t[i]);if(e&&t[e])for(i in t[e])n[i]=t[e][i];return n}(t,e),this.disabled=this._get_boolean(\"disabled\"),this.eol=this._get_characters(\"eol\",\"auto\"),this.end_with_newline=this._get_boolean(\"end_with_newline\"),this.indent_size=this._get_number(\"indent_size\",4),this.indent_char=this._get_characters(\"indent_char\",\" \"),this.indent_level=this._get_number(\"indent_level\"),this.preserve_newlines=this._get_boolean(\"preserve_newlines\",!0),this.max_preserve_newlines=this._get_number(\"max_preserve_newlines\",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean(\"indent_with_tabs\",\"\\t\"===this.indent_char),this.indent_with_tabs&&(this.indent_char=\"\\t\",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number(\"wrap_line_length\",this._get_number(\"max_char\")),this.indent_empty_lines=this._get_boolean(\"indent_empty_lines\"),this.templating=this._get_selection_list(\"templating\",[\"auto\",\"none\",\"django\",\"erb\",\"handlebars\",\"php\",\"smarty\"],[\"auto\"])}e.prototype._get_array=function(t,e){var i=this.raw_options[t],n=e||[];return\"object\"==typeof i?null!==i&&\"function\"==typeof i.concat&&(n=i.concat()):\"string\"==typeof i&&(n=i.split(/[^a-zA-Z0-9_\\/\\-]+/)),n},e.prototype._get_boolean=function(t,e){var i=this.raw_options[t];return void 0===i?!!e:!!i},e.prototype._get_characters=function(t,e){var i=this.raw_options[t],n=e||\"\";return\"string\"==typeof i&&(n=i.replace(/\\\\r/,\"\\r\").replace(/\\\\n/,\"\\n\").replace(/\\\\t/,\"\\t\")),n},e.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var n=parseInt(i,10);return isNaN(n)&&(n=e),n},e.prototype._get_selection=function(t,e,i){var n=this._get_selection_list(t,e,i);if(1!==n.length)throw new Error(\"Invalid Option Value: The option '\"+t+\"' can only be one of the following values:\\n\"+e+\"\\nYou passed in: '\"+this.raw_options[t]+\"'\");return n[0]},e.prototype._get_selection_list=function(t,e,i){if(!e||0===e.length)throw new Error(\"Selection list cannot be empty.\");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error(\"Invalid Default Value!\");var n=this._get_array(t,i);if(!this._is_valid_selection(n,e))throw new Error(\"Invalid Option Value: The option '\"+t+\"' can contain only the following values:\\n\"+e+\"\\nYou passed in: '\"+this.raw_options[t]+\"'\");return n},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Ei=e},558:function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[\"\"],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||\"\",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function n(t,n){this.__indent_cache=new i(t,n),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,\" \"===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(\"\\n\");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;\" \"===this.last();)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t=\"\";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join(\"\")),t},i.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),(i+=t*this.__indent_size)+e},i.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=\"\"),e+=t*this.__indent_size,this.__ensure_cache(e),i+this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,i=\"\";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(\" \")),this.__cache.push(i)},n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},n.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},n.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(\"\\n\"===e[e.length-1]&&(e=e.replace(/\\n+$/g,\"\")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(\"\\n\");return\"\\n\"!==t&&(i=i.replace(/[\\n]/g,t)),i},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(\" \"))},n.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(t,i){for(var n=this.__lines.length-2;n>=0;){var _=this.__lines[n];if(_.is_empty())break;if(0!==_.item(0).indexOf(t)&&_.item(-1)!==i){this.__lines.splice(n+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.r=n},348:function(t){function e(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},t.exports.c=e},800:function(t,e,i){var n=i(348).c,_={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function s(t,e){n.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},_),this._excluded=Object.assign({},_),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new n(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\\?(?:[= ]|php)/).until_after(/\\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\\s\\n])/).until_after(/[^\\s\\n]}/),smarty_comment:i.starting_with(/{\\*/).until_after(/\\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\\/literal}/)}}s.prototype=new n,s.prototype._create=function(){return new s(this._input,this)},s.prototype._update=function(){this.__set_templated_pattern()},s.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},s.prototype.read_options=function(t){var e=this._create();for(var i in _)e._disabled[i]=-1===t.templating.indexOf(i);return e._update(),e},s.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},s.prototype.read=function(){var t=\"\";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},s.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp(\"(?:\"+t.join(\"|\")+\")\")},s.prototype._read_template=function(){var t=\"\",e=this._input.peek();if(\"<\"===e){var i=this._input.peek(1);this._disabled.php||this._excluded.php||\"?\"!==i||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||\"%\"!==i||(t=t||this.__patterns.erb.read())}else\"{\"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=(t=(t=t||this.__patterns.smarty_comment.read())||this.__patterns.smarty_literal.read())||this.__patterns.smarty.read()));return t},t.exports.A=s},650:function(t){t.exports.W=function(t,e,i,n){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||\"\",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},147:function(t,e,i){var n=i(418).g,_=i(650).W,s=i(134).q,a=i(401).d,r={START:\"TK_START\",RAW:\"TK_RAW\",EOF:\"TK_EOF\"},o=function(t,e){this._input=new n(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};o.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new s,this._reset();for(var e=new _(r.START,\"\"),i=null,n=[],a=new s;e.type!==r.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)a.add(t),t=this._get_next_token(e,i);a.isEmpty()||(t.comments_before=a,a=new s),t.parent=i,this._is_opening(t)?(n.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=n.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},o.prototype._is_first_token=function(){return this.__tokens.isEmpty()},o.prototype._reset=function(){},o.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(r.RAW,i):this._create_token(r.EOF,\"\")},o.prototype._is_comment=function(t){return!1},o.prototype._is_opening=function(t){return!1},o.prototype._is_closing=function(t,e){return!1},o.prototype._create_token=function(t,e){return new _(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},o.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.d=o,t.exports.o=r},134:function(t){function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return 0===this.__tokens_length},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.q=e},401:function(t,e,i){var n=i(348).c;function _(t,e){n.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns(\"\",\"\"),this.newline_count=0,this.whitespace_before_token=\"\"}_.prototype=new n,_.prototype.__set_whitespace_patterns=function(t,e){t+=\"\\\\t \",e+=\"\\\\n\\\\r\",this._match_pattern=this._input.get_regexp(\"[\"+t+e+\"]+\",!0),this._newline_regexp=this._input.get_regexp(\"\\\\r\\\\n|[\"+e+\"]\")},_.prototype.read=function(){this.newline_count=0,this.whitespace_before_token=\"\";var t=this._input.read(this._match_pattern);if(\" \"===t)this.whitespace_before_token=\" \";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},_.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i},_.prototype._create=function(){return new _(this._input,this)},_.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,n=[],_=t.exec(e);_;)n.push(e.substring(i,_.index)),i=_.index+_[0].length,_=t.exec(e);return i<e.length?n.push(e.substring(i,e.length)):n.push(\"\"),n},t.exports.d=_},434:function(t,e,i){var n=i(492).E,_=i(558).r,s=i(418).g,a=new(0,i(7).t)(/\\/\\*/,/\\*\\//),r=/\\r\\n|[\\r\\n]/,o=/\\r\\n|[\\r\\n]/g,u=/\\s/,h=/(?:\\s|\\n)+/g,p=/\\/\\*(?:[\\s\\S]*?)((?:\\*\\/)|$)/g,l=/\\/\\/(?:[^\\n\\r\\u2028\\u2029]*)/g;function c(t,e){this._source_text=t||\"\",this._options=new n(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,\"font-face\":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=[\"grid-template-areas\",\"grid-template\"]}c.prototype.eatString=function(t){var e=\"\";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,\"\\\\\"===this._ch)e+=this._input.next();else if(-1!==t.indexOf(this._ch)||\"\\n\"===this._ch)break;this._ch=this._input.next()}return e},c.prototype.eatWhitespace=function(t){for(var e=u.test(this._input.peek()),i=0;u.test(this._input.peek());)this._ch=this._input.next(),t&&\"\\n\"===this._ch&&(0===i||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return e},c.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,i=this._input.peek(e);i;){if(\"{\"===i)return!0;if(\"(\"===i)t+=1;else if(\")\"===i){if(0===t)return!1;t-=1}else if(\";\"===i||\"}\"===i)return!1;e++,i=this._input.peek(e)}return!1},c.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},c.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},c.prototype.indent=function(){this._indentLevel++},c.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},c.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;\"auto\"===e&&(e=\"\\n\",t&&r.test(t||\"\")&&(e=t.match(r)[0]));var i=(t=t.replace(o,\"\\n\")).match(/^[\\t ]*/)[0];this._output=new _(this._options,i),this._input=new s(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n,c,f=0,d=!1,g=!1,m=!1,b=!1,k=!1,y=this._ch,w=!1;n=\"\"!==this._input.read(h),c=y,this._ch=this._input.next(),\"\\\\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),y=this._ch,this._ch;)if(\"/\"===this._ch&&\"*\"===this._input.peek()){this._output.add_new_line(),this._input.back();var x=this._input.read(p),v=a.get_directives(x);v&&\"start\"===v.ignore&&(x+=a.readIgnored(this._input)),this.print_string(x),this.eatWhitespace(!0),this._output.add_new_line()}else if(\"/\"===this._ch&&\"/\"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(l)),this.eatWhitespace(!0);else if(\"$\"===this._ch){this.preserveSingleSpace(n),this.print_string(this._ch);var E=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='\"]/g);E.match(/[ :]$/)&&(E=this.eatString(\": \").replace(/\\s$/,\"\"),this.print_string(E),this._output.space_before_token=!0),E=E.replace(/\\s$/,\"\"),0===f&&-1!==E.indexOf(\":\")&&(g=!0,this.indent())}else if(\"@\"===this._ch)if(this.preserveSingleSpace(n),\"{\"===this._input.peek())this.print_string(this._ch+this.eatString(\"}\"));else{this.print_string(this._ch);var O=this._input.peekUntilAfter(/[: ,;{}()[\\]\\/='\"]/g);O.match(/[ :]$/)&&(O=this.eatString(\": \").replace(/\\s$/,\"\"),this.print_string(O),this._output.space_before_token=!0),O=O.replace(/\\s$/,\"\"),0===f&&-1!==O.indexOf(\":\")?(g=!0,this.indent()):O in this.NESTED_AT_RULE?(this._nestedLevel+=1,O in this.CONDITIONAL_GROUP_RULE&&(m=!0)):0!==f||g||(b=!0)}else if(\"#\"===this._ch&&\"{\"===this._input.peek())this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString(\"}\"));else if(\"{\"===this._ch)g&&(g=!1,this.outdent()),b=!1,m?(m=!1,d=this._indentLevel>=this._nestedLevel):d=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&d&&this._output.previous_line&&\"{\"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above(\"/\",\",\"),this._output.space_before_token=!0,\"expand\"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(\"(\"===c?this._output.space_before_token=!1:\",\"!==c&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(\"}\"===this._ch)this.outdent(),this._output.add_new_line(),\"{\"===c&&this._output.trim(!0),g&&(this.outdent(),g=!1),this.print_string(this._ch),d=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&\"}\"!==this._input.peek()&&this._output.add_new_line(!0),\")\"===this._input.peek()&&(this._output.trim(!0),\"expand\"===this._options.brace_style&&this._output.add_new_line(!0));else if(\":\"===this._ch){for(var T=0;T<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;T++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[T])){w=!0;break}!d&&!m||this._input.lookBack(\"&\")||this.foundNestedPseudoClass()||this._input.lookBack(\"(\")||b||0!==f?(this._input.lookBack(\" \")&&(this._output.space_before_token=!0),\":\"===this._input.peek()?(this._ch=this._input.next(),this.print_string(\"::\")):this.print_string(\":\")):(this.print_string(\":\"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent()))}else if('\"'===this._ch||\"'\"===this._ch){var R='\"'===c||\"'\"===c;this.preserveSingleSpace(R||n),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(\";\"===this._ch)w=!1,0===f?(g&&(this.outdent(),g=!1),b=!1,this.print_string(this._ch),this.eatWhitespace(!0),\"/\"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(\"(\"===this._ch)if(this._input.lookBack(\"url\"))this.print_string(this._ch),this.eatWhitespace(),f++,this.indent(),this._ch=this._input.next(),\")\"===this._ch||'\"'===this._ch||\"'\"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(\")\")),f&&(f--,this.outdent()));else{var A=!1;this._input.lookBack(\"with\")&&(A=!0),this.preserveSingleSpace(n||A),this.print_string(this._ch),g&&\"$\"===c&&this._options.selector_separator_newline?(this._output.add_new_line(),k=!0):(this.eatWhitespace(),f++,this.indent())}else if(\")\"===this._ch)f&&(f--,this.outdent()),k&&\";\"===this._input.peek()&&this._options.selector_separator_newline&&(k=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(\",\"===this._ch)this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g&&!k||0!==f||b?this._output.space_before_token=!0:this._output.add_new_line();else if(\">\"!==this._ch&&\"+\"!==this._ch&&\"~\"!==this._ch||g||0!==f)if(\"]\"===this._ch)this.print_string(this._ch);else if(\"[\"===this._ch)this.preserveSingleSpace(n),this.print_string(this._ch);else if(\"=\"===this._ch)this.eatWhitespace(),this.print_string(\"=\"),u.test(this._ch)&&(this._ch=\"\");else if(\"!\"!==this._ch||this._input.lookBack(\"\\\\\")){var S='\"'===c||\"'\"===c;this.preserveSingleSpace(S||n),this.print_string(this._ch),!this._output.just_added_newline()&&\"\\n\"===this._input.peek()&&w&&this._output.add_new_line()}else this._output.space_before_token=!0,this.print_string(this._ch);else this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&u.test(this._ch)&&(this._ch=\"\"));return this._output.get_code(e)},t.exports.K=c},968:function(t,e,i){var n=i(434).K,_=i(492).E;t.exports=function(t,e){return new n(t,e).beautify()},t.exports.defaultOptions=function(){return new _}},492:function(t,e,i){var n=i(915).Ei;function _(t){n.call(this,t,\"css\"),this.selector_separator_newline=this._get_boolean(\"selector_separator_newline\",!0),this.newline_between_rules=this._get_boolean(\"newline_between_rules\",!0);var e=this._get_boolean(\"space_around_selector_separator\");this.space_around_combinator=this._get_boolean(\"space_around_combinator\")||e;var i=this._get_selection_list(\"brace_style\",[\"collapse\",\"expand\",\"end-expand\",\"none\",\"preserve-inline\"]);this.brace_style=\"collapse\";for(var _=0;_<i.length;_++)\"expand\"!==i[_]?this.brace_style=\"collapse\":this.brace_style=i[_]}_.prototype=new n,t.exports.E=_},843:function(t,e,i){var n=i(402).E,_=i(558).r,s=i(41).d,a=i(41).o,r=/\\r\\n|[\\r\\n]/,o=/\\r\\n|[\\r\\n]/g,u=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new _(t,e)};u.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},u.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},u.prototype.print_preserved_newlines=function(t){var e=0;t.type!==a.TEXT&&t.previous.type!==a.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return 0!==e},u.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines||(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),0))},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(t){this._output.add_new_line(t)},u.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?\"\":this._output.get_indent_string(t)};function h(t,e){return-1!==e.indexOf(t)}function p(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:\"\",this.indent_level=i||0,this.parser_token=e||null}function l(t){this._printer=t,this._current_frame=null}function c(t,e,i,_){this._source_text=t||\"\",e=e||{},this._js_beautify=i,this._css_beautify=_,this._tag_stack=null;var s=new n(e,\"html\");this._options=s,this._is_wrap_attributes_force=\"force\"===this._options.wrap_attributes.substr(0,5),this._is_wrap_attributes_force_expand_multiline=\"force-expand-multiline\"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned=\"force-aligned\"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple=\"aligned-multiple\"===this._options.wrap_attributes,this._is_wrap_attributes_preserve=\"preserve\"===this._options.wrap_attributes.substr(0,8),this._is_wrap_attributes_preserve_aligned=\"preserve-aligned\"===this._options.wrap_attributes}l.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},l.prototype.record_tag=function(t){var e=new p(this._current_frame,t,this._printer.indent_level);this._current_frame=e},l.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},l.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&-1===t.indexOf(i.tag);){if(e&&-1!==e.indexOf(i.tag)){i=null;break}i=i.parent}return i},l.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)},l.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},c.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;\"auto\"===this._options.eol&&(e=\"\\n\",t&&r.test(t)&&(e=t.match(r)[0]));var i=(t=t.replace(o,\"\\n\")).match(/^[\\t ]*/)[0],n={text:\"\",type:\"\"},_=new f,h=new u(this._options,i),p=new s(t,this._options).tokenize();this._tag_stack=new l(h);for(var c=null,d=p.next();d.type!==a.EOF;)d.type===a.TAG_OPEN||d.type===a.COMMENT?_=c=this._handle_tag_open(h,d,_,n,p):d.type===a.ATTRIBUTE||d.type===a.EQUALS||d.type===a.VALUE||d.type===a.TEXT&&!_.tag_complete?c=this._handle_inside_tag(h,d,_,n):d.type===a.TAG_CLOSE?c=this._handle_tag_close(h,d,_):d.type===a.TEXT?c=this._handle_text(h,d,_):h.add_raw_token(d),n=c,d=p.next();return h._output.get_code(e)},c.prototype._handle_tag_close=function(t,e,i){var n={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||\"\"!==e.whitespace_before,!0),i.is_unformatted?t.add_raw_token(e):(\"<\"===i.tag_start_char&&(t.set_space_before_token(\"/\"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(t.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||t.set_wrap_point(),n},c.prototype._handle_inside_tag=function(t,e,i,n){var _=i.has_wrapped_attrs,s={text:e.text,type:e.type};return t.set_space_before_token(e.newlines||\"\"!==e.whitespace_before,!0),i.is_unformatted?t.add_raw_token(e):\"{\"===i.tag_start_char&&e.type===a.TEXT?t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e):(e.type===a.ATTRIBUTE?t.set_space_before_token(!0):(e.type===a.EQUALS||e.type===a.VALUE&&e.previous.type===a.EQUALS)&&t.set_space_before_token(!1),e.type===a.ATTRIBUTE&&\"<\"===i.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),_=_||0!==e.newlines),this._is_wrap_attributes_force&&i.attr_count>=this._options.wrap_attributes_min_attrs&&(n.type!==a.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(t.print_newline(!1),_=!0)),t.print_token(e),_=_||t.previous_token_wrapped(),i.has_wrapped_attrs=_),s},c.prototype._handle_text=function(t,e,i){var n={text:e.text,type:\"TK_CONTENT\"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),n},c.prototype._print_custom_beatifier_text=function(t,e,i){var n=this;if(\"\"!==e.text){var _,s=e.text,a=1,r=\"\",o=\"\";\"javascript\"===i.custom_beautifier_name&&\"function\"==typeof this._js_beautify?_=this._js_beautify:\"css\"===i.custom_beautifier_name&&\"function\"==typeof this._css_beautify?_=this._css_beautify:\"html\"===i.custom_beautifier_name&&(_=function(t,e){return new c(t,e,n._js_beautify,n._css_beautify).beautify()}),\"keep\"===this._options.indent_scripts?a=0:\"separate\"===this._options.indent_scripts&&(a=-t.indent_level);var u=t.get_full_indent(a);if(s=s.replace(/\\n[ \\t]*$/,\"\"),\"html\"!==i.custom_beautifier_name&&\"<\"===s[0]&&s.match(/^(<!--|<!\\[CDATA\\[)/)){var h=/^(<!--[^\\n]*|<!\\[CDATA\\[)(\\n?)([ \\t\\n]*)([\\s\\S]*)(-->|]]>)$/.exec(s);if(!h)return void t.add_raw_token(e);r=u+h[1]+\"\\n\",s=h[4],h[5]&&(o=u+h[5]),s=s.replace(/\\n[ \\t]*$/,\"\"),(h[2]||-1!==h[3].indexOf(\"\\n\"))&&(h=h[3].match(/[ \\t]+$/))&&(e.whitespace_before=h[0])}if(s)if(_){var p=function(){this.eol=\"\\n\"};p.prototype=this._options.raw_options,s=_(u+s,new p)}else{var l=e.whitespace_before;l&&(s=s.replace(new RegExp(\"\\n(\"+l+\")?\",\"g\"),\"\\n\")),s=u+s.replace(/\\n/g,\"\\n\"+u)}r&&(s=s?r+s+\"\\n\"+o:r+o),t.print_newline(!1),s&&(e.text=s,e.whitespace_before=\"\",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},c.prototype._handle_tag_open=function(t,e,i,n,_){var s=this._get_tag_open_token(e);if(!i.is_unformatted&&!i.is_content_unformatted||i.is_empty_element||e.type!==a.TAG_OPEN||s.is_start_tag?(t.traverse_whitespace(e),this._set_tag_position(t,e,s,i,n),s.is_inline_element||t.set_wrap_point(),t.print_token(e)):(t.add_raw_token(e),s.start_tag_token=this._tag_stack.try_pop(s.tag_name)),s.is_start_tag&&this._is_wrap_attributes_force){var r,o=0;do{(r=_.peek(o)).type===a.ATTRIBUTE&&(s.attr_count+=1),o+=1}while(r.type!==a.EOF&&r.type!==a.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(s.alignment_size=e.text.length+1),s.tag_complete||s.is_unformatted||(t.alignment_size=s.alignment_size),s};var f=function(t,e){if(this.parent=t||null,this.text=\"\",this.type=\"TK_TAG_OPEN\",this.tag_name=\"\",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char=\"\",this.tag_check=\"\",e){var i;this.tag_start_char=e.text[0],this.text=e.text,\"<\"===this.tag_start_char?(i=e.text.match(/^<([^\\s>]*)/),this.tag_check=i?i[1]:\"\"):(i=e.text.match(/^{{~?(?:[\\^]|#\\*?)?([^\\s}]+)/),this.tag_check=i?i[1]:\"\",(e.text.startsWith(\"{{#>\")||e.text.startsWith(\"{{~#>\"))&&\">\"===this.tag_check[0]&&(\">\"===this.tag_check&&null!==e.next?this.tag_check=e.next.text.split(\" \")[0]:this.tag_check=e.text.split(\">\")[1])),this.tag_check=this.tag_check.toLowerCase(),e.type===a.COMMENT&&(this.tag_complete=!0),this.is_start_tag=\"/\"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&\"/>\"===e.closed.text;var n=2;\"{\"===this.tag_start_char&&this.text.length>=3&&\"~\"===this.text.charAt(2)&&(n=3),this.is_end_tag=this.is_end_tag||\"{\"===this.tag_start_char&&(this.text.length<3||/[^#\\^]/.test(this.text.charAt(n)))}else this.tag_complete=!0};c.prototype._get_tag_open_token=function(t){var e=new f(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||h(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&h(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&h(e.tag_check,this._options.content_unformatted),e.is_inline_element=h(e.tag_name,this._options.inline)||this._options.inline_custom_elements&&e.tag_name.includes(\"-\")||\"{\"===e.tag_start_char,e},c.prototype._set_tag_position=function(t,e,i,n,_){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(i),\"script\"!==i.tag_name&&\"style\"!==i.tag_name||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=function(t,e){var i=null,n=null;return e.closed?(\"script\"===t?i=\"text/javascript\":\"style\"===t&&(i=\"text/css\"),i=function(t){for(var e=null,i=t.next;i.type!==a.EOF&&t.closed!==i;){if(i.type===a.ATTRIBUTE&&\"type\"===i.text){i.next&&i.next.type===a.EQUALS&&i.next.next&&i.next.next.type===a.VALUE&&(e=i.next.next.text);break}i=i.next}return e}(e)||i,i.search(\"text/css\")>-1?n=\"css\":i.search(/module|((text|application|dojo)\\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\\+)?json|method|aspect))/)>-1?n=\"javascript\":i.search(/(text|application|dojo)\\/(x-)?(html)/)>-1?n=\"html\":i.search(/test\\/null/)>-1&&(n=\"null\"),n):null}(i.tag_check,e)))),h(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element)\"{\"===i.tag_start_char&&\"else\"===i.tag_check&&(this._tag_stack.indent_to_tag([\"if\",\"unless\",\"each\"]),i.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1)),\"!--\"===i.tag_name&&_.type===a.TAG_CLOSE&&n.is_end_tag&&-1===i.text.indexOf(\"\\n\")||(i.is_inline_element||i.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i));else if(i.is_end_tag){var s=!1;s=(s=i.start_tag_token&&i.start_tag_token.multiline_content)||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(_.type===a.TAG_CLOSE&&i.start_tag_token===n)&&\"TK_CONTENT\"!==_.type,(i.is_content_unformatted||i.is_unformatted)&&(s=!1),s&&t.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,\"<\"===i.tag_start_char&&(\"html\"===i.tag_name?i.indent_content=this._options.indent_inner_html:\"head\"===i.tag_name?i.indent_content=this._options.indent_head_inner_html:\"body\"===i.tag_name&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||i.is_unformatted||\"TK_CONTENT\"===_.type&&!i.is_content_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i)},c.prototype._calcluate_parent_multiline=function(t,e){!e.parent||!t._output.just_added_newline()||(e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element||(e.parent.multiline_content=!0)};var d=[\"address\",\"article\",\"aside\",\"blockquote\",\"details\",\"div\",\"dl\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"header\",\"hr\",\"main\",\"menu\",\"nav\",\"ol\",\"p\",\"pre\",\"section\",\"table\",\"ul\"],g=[\"a\",\"audio\",\"del\",\"ins\",\"map\",\"noscript\",\"video\"];c.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent){if(\"body\"===t.tag_name)e=e||this._tag_stack.try_pop(\"head\");else if(\"li\"===t.tag_name)e=e||this._tag_stack.try_pop(\"li\",[\"ol\",\"ul\",\"menu\"]);else if(\"dd\"===t.tag_name||\"dt\"===t.tag_name)e=(e=e||this._tag_stack.try_pop(\"dt\",[\"dl\"]))||this._tag_stack.try_pop(\"dd\",[\"dl\"]);else if(\"p\"===t.parent.tag_name&&-1!==d.indexOf(t.tag_name)){var i=t.parent.parent;i&&-1!==g.indexOf(i.tag_name)||(e=e||this._tag_stack.try_pop(\"p\"))}else\"rp\"===t.tag_name||\"rt\"===t.tag_name?e=(e=e||this._tag_stack.try_pop(\"rt\",[\"ruby\",\"rtc\"]))||this._tag_stack.try_pop(\"rp\",[\"ruby\",\"rtc\"]):\"optgroup\"===t.tag_name?e=e||this._tag_stack.try_pop(\"optgroup\",[\"select\"]):\"option\"===t.tag_name?e=e||this._tag_stack.try_pop(\"option\",[\"select\",\"datalist\",\"optgroup\"]):\"colgroup\"===t.tag_name?e=e||this._tag_stack.try_pop(\"caption\",[\"table\"]):\"thead\"===t.tag_name?e=(e=e||this._tag_stack.try_pop(\"caption\",[\"table\"]))||this._tag_stack.try_pop(\"colgroup\",[\"table\"]):\"tbody\"===t.tag_name||\"tfoot\"===t.tag_name?e=(e=(e=(e=e||this._tag_stack.try_pop(\"caption\",[\"table\"]))||this._tag_stack.try_pop(\"colgroup\",[\"table\"]))||this._tag_stack.try_pop(\"thead\",[\"table\"]))||this._tag_stack.try_pop(\"tbody\",[\"table\"]):\"tr\"===t.tag_name?e=(e=(e=e||this._tag_stack.try_pop(\"caption\",[\"table\"]))||this._tag_stack.try_pop(\"colgroup\",[\"table\"]))||this._tag_stack.try_pop(\"tr\",[\"table\",\"thead\",\"tbody\",\"tfoot\"]):\"th\"!==t.tag_name&&\"td\"!==t.tag_name||(e=(e=e||this._tag_stack.try_pop(\"td\",[\"table\",\"thead\",\"tbody\",\"tfoot\",\"tr\"]))||this._tag_stack.try_pop(\"th\",[\"table\",\"thead\",\"tbody\",\"tfoot\",\"tr\"]));return t.parent=this._tag_stack.get_parser_token(),e}},t.exports.K=c},391:function(t,e,i){var n=i(843).K,_=i(402).E;t.exports=function(t,e,i,_){return new n(t,e,i,_).beautify()},t.exports.defaultOptions=function(){return new _}},402:function(t,e,i){var n=i(915).Ei;function _(t){n.call(this,t,\"html\"),1===this.templating.length&&\"auto\"===this.templating[0]&&(this.templating=[\"django\",\"erb\",\"handlebars\",\"php\"]),this.indent_inner_html=this._get_boolean(\"indent_inner_html\"),this.indent_body_inner_html=this._get_boolean(\"indent_body_inner_html\",!0),this.indent_head_inner_html=this._get_boolean(\"indent_head_inner_html\",!0),this.indent_handlebars=this._get_boolean(\"indent_handlebars\",!0),this.wrap_attributes=this._get_selection(\"wrap_attributes\",[\"auto\",\"force\",\"force-aligned\",\"force-expand-multiline\",\"aligned-multiple\",\"preserve\",\"preserve-aligned\"]),this.wrap_attributes_min_attrs=this._get_number(\"wrap_attributes_min_attrs\",2),this.wrap_attributes_indent_size=this._get_number(\"wrap_attributes_indent_size\",this.indent_size),this.extra_liners=this._get_array(\"extra_liners\",[\"head\",\"body\",\"/html\"]),this.inline=this._get_array(\"inline\",[\"a\",\"abbr\",\"area\",\"audio\",\"b\",\"bdi\",\"bdo\",\"br\",\"button\",\"canvas\",\"cite\",\"code\",\"data\",\"datalist\",\"del\",\"dfn\",\"em\",\"embed\",\"i\",\"iframe\",\"img\",\"input\",\"ins\",\"kbd\",\"keygen\",\"label\",\"map\",\"mark\",\"math\",\"meter\",\"noscript\",\"object\",\"output\",\"progress\",\"q\",\"ruby\",\"s\",\"samp\",\"select\",\"small\",\"span\",\"strong\",\"sub\",\"sup\",\"svg\",\"template\",\"textarea\",\"time\",\"u\",\"var\",\"video\",\"wbr\",\"text\",\"acronym\",\"big\",\"strike\",\"tt\"]),this.inline_custom_elements=this._get_boolean(\"inline_custom_elements\",!0),this.void_elements=this._get_array(\"void_elements\",[\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"img\",\"input\",\"keygen\",\"link\",\"menuitem\",\"meta\",\"param\",\"source\",\"track\",\"wbr\",\"!doctype\",\"?xml\",\"basefont\",\"isindex\"]),this.unformatted=this._get_array(\"unformatted\",[]),this.content_unformatted=this._get_array(\"content_unformatted\",[\"pre\",\"textarea\"]),this.unformatted_content_delimiter=this._get_characters(\"unformatted_content_delimiter\"),this.indent_scripts=this._get_selection(\"indent_scripts\",[\"normal\",\"keep\",\"separate\"])}_.prototype=new n,t.exports.E=_},41:function(t,e,i){var n=i(147).d,_=i(147).o,s=i(7).t,a=i(800).A,r=i(348).c,o={TAG_OPEN:\"TK_TAG_OPEN\",TAG_CLOSE:\"TK_TAG_CLOSE\",ATTRIBUTE:\"TK_ATTRIBUTE\",EQUALS:\"TK_EQUALS\",VALUE:\"TK_VALUE\",COMMENT:\"TK_COMMENT\",TEXT:\"TK_TEXT\",UNKNOWN:\"TK_UNKNOWN\",START:_.START,RAW:_.RAW,EOF:_.EOF},u=new s(/<\\!--/,/-->/),h=function(t,e){n.call(this,t,e),this._current_tag_name=\"\";var i=new a(this._input).read_options(this._options),_=new r(this._input);if(this.__patterns={word:i.until(/[\\n\\r\\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/\"/),attribute:i.until(/[\\n\\r\\t =>]|\\/>/),element_name:i.until(/[\\n\\r\\t >\\/]/),handlebars_comment:_.starting_with(/{{!--/).until_after(/--}}/),handlebars:_.starting_with(/{{/).until_after(/}}/),handlebars_open:_.until(/[\\n\\r\\t }]/),handlebars_raw_close:_.until(/}}/),comment:_.starting_with(/<!--/).until_after(/-->/),cdata:_.starting_with(/<!\\[CDATA\\[/).until_after(/]]>/),conditional_comment:_.starting_with(/<!\\[/).until_after(/]>/),processing:_.starting_with(/<\\?/).until_after(/\\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude(\"handlebars\")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=_.matching(s).until_after(s)}};(h.prototype=new n)._is_comment=function(t){return!1},h.prototype._is_opening=function(t){return t.type===o.TAG_OPEN},h.prototype._is_closing=function(t,e){return t.type===o.TAG_CLOSE&&e&&((\">\"===t.text||\"/>\"===t.text)&&\"<\"===e.text[0]||\"}}\"===t.text&&\"{\"===e.text[0]&&\"{\"===e.text[1])},h.prototype._reset=function(){this._current_tag_name=\"\"},h.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(o.EOF,\"\"):i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_open_handlebars(n,e))||this._read_attribute(n,t,e))||this._read_close(n,e))||this._read_raw_content(n,t,e))||this._read_content_word(n))||this._read_comment_or_cdata(n))||this._read_processing(n))||this._read_open(n,e))||this._create_token(o.UNKNOWN,this._input.next())},h.prototype._read_comment_or_cdata=function(t){var e=null,i=null,n=null;return\"<\"===t&&(\"!\"===this._input.peek(1)&&((i=this.__patterns.comment.read())?(n=u.get_directives(i))&&\"start\"===n.ignore&&(i+=u.readIgnored(this._input)):i=this.__patterns.cdata.read()),i&&((e=this._create_token(o.COMMENT,i)).directives=n)),e},h.prototype._read_processing=function(t){var e=null,i=null;if(\"<\"===t){var n=this._input.peek(1);\"!\"!==n&&\"?\"!==n||(i=(i=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),i&&((e=this._create_token(o.COMMENT,i)).directives=null)}return e},h.prototype._read_open=function(t,e){var i=null,n=null;return e||\"<\"===t&&(i=this._input.next(),\"/\"===this._input.peek()&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(o.TAG_OPEN,i)),n},h.prototype._read_open_handlebars=function(t,e){var i=null,n=null;return e||this._options.indent_handlebars&&\"{\"===t&&\"{\"===this._input.peek(1)&&(\"!\"===this._input.peek(2)?(i=(i=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),n=this._create_token(o.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(o.TAG_OPEN,i))),n},h.prototype._read_close=function(t,e){var i=null,n=null;return e&&(\"<\"===e.text[0]&&(\">\"===t||\"/\"===t&&\">\"===this._input.peek(1))?(i=this._input.next(),\"/\"===t&&(i+=this._input.next()),n=this._create_token(o.TAG_CLOSE,i)):\"{\"===e.text[0]&&\"}\"===t&&\"}\"===this._input.peek(1)&&(this._input.next(),this._input.next(),n=this._create_token(o.TAG_CLOSE,\"}}\"))),n},h.prototype._read_attribute=function(t,e,i){var n=null,_=\"\";if(i&&\"<\"===i.text[0])if(\"=\"===t)n=this._create_token(o.EQUALS,this._input.next());else if('\"'===t||\"'\"===t){var s=this._input.next();s+='\"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),n=this._create_token(o.VALUE,s)}else(_=this.__patterns.attribute.read())&&(n=e.type===o.EQUALS?this._create_token(o.VALUE,_):this._create_token(o.ATTRIBUTE,_));return n},h.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},h.prototype._read_raw_content=function(t,e,i){var n=\"\";if(i&&\"{\"===i.text[0])n=this.__patterns.handlebars_raw_close.read();else if(e.type===o.TAG_CLOSE&&\"<\"===e.opened.text[0]&&\"/\"!==e.text[0]){var _=e.opened.text.substr(1).toLowerCase();if(\"script\"===_||\"style\"===_){var s=this._read_comment_or_cdata(t);if(s)return s.type=o.TEXT,s;n=this._input.readUntil(new RegExp(\"</\"+_+\"[\\\\n\\\\r\\\\t ]*?>\",\"ig\"))}else this._is_content_unformatted(_)&&(n=this._input.readUntil(new RegExp(\"</\"+_+\"[\\\\n\\\\r\\\\t ]*?>\",\"ig\")))}return n?this._create_token(o.TEXT,n):null},h.prototype._read_content_word=function(t){var e=\"\";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(o.TEXT,e)},t.exports.d=h,t.exports.o=o},772:function(t,e,i){var n=i(82),_=i(968),s=i(391);function a(t,e,i,a){return s(t,e,i=i||n,a=a||_)}a.defaultOptions=s.defaultOptions,t.exports.js=n,t.exports.css=_,t.exports.html=a},273:function(t,e){var i=\"\\\\x24\\\\x30-\\\\x39\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\",n=\"\\\\xaa\\\\xb5\\\\xba\\\\xc0-\\\\xd6\\\\xd8-\\\\xf6\\\\xf8-\\\\u02c1\\\\u02c6-\\\\u02d1\\\\u02e0-\\\\u02e4\\\\u02ec\\\\u02ee\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037a-\\\\u037d\\\\u0386\\\\u0388-\\\\u038a\\\\u038c\\\\u038e-\\\\u03a1\\\\u03a3-\\\\u03f5\\\\u03f7-\\\\u0481\\\\u048a-\\\\u0527\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f2\\\\u0620-\\\\u064a\\\\u066e\\\\u066f\\\\u0671-\\\\u06d3\\\\u06d5\\\\u06e5\\\\u06e6\\\\u06ee\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff\\\\u0710\\\\u0712-\\\\u072f\\\\u074d-\\\\u07a5\\\\u07b1\\\\u07ca-\\\\u07ea\\\\u07f4\\\\u07f5\\\\u07fa\\\\u0800-\\\\u0815\\\\u081a\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u0904-\\\\u0939\\\\u093d\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0977\\\\u0979-\\\\u097f\\\\u0985-\\\\u098c\\\\u098f\\\\u0990\\\\u0993-\\\\u09a8\\\\u09aa-\\\\u09b0\\\\u09b2\\\\u09b6-\\\\u09b9\\\\u09bd\\\\u09ce\\\\u09dc\\\\u09dd\\\\u09df-\\\\u09e1\\\\u09f0\\\\u09f1\\\\u0a05-\\\\u0a0a\\\\u0a0f\\\\u0a10\\\\u0a13-\\\\u0a28\\\\u0a2a-\\\\u0a30\\\\u0a32\\\\u0a33\\\\u0a35\\\\u0a36\\\\u0a38\\\\u0a39\\\\u0a59-\\\\u0a5c\\\\u0a5e\\\\u0a72-\\\\u0a74\\\\u0a85-\\\\u0a8d\\\\u0a8f-\\\\u0a91\\\\u0a93-\\\\u0aa8\\\\u0aaa-\\\\u0ab0\\\\u0ab2\\\\u0ab3\\\\u0ab5-\\\\u0ab9\\\\u0abd\\\\u0ad0\\\\u0ae0\\\\u0ae1\\\\u0b05-\\\\u0b0c\\\\u0b0f\\\\u0b10\\\\u0b13-\\\\u0b28\\\\u0b2a-\\\\u0b30\\\\u0b32\\\\u0b33\\\\u0b35-\\\\u0b39\\\\u0b3d\\\\u0b5c\\\\u0b5d\\\\u0b5f-\\\\u0b61\\\\u0b71\\\\u0b83\\\\u0b85-\\\\u0b8a\\\\u0b8e-\\\\u0b90\\\\u0b92-\\\\u0b95\\\\u0b99\\\\u0b9a\\\\u0b9c\\\\u0b9e\\\\u0b9f\\\\u0ba3\\\\u0ba4\\\\u0ba8-\\\\u0baa\\\\u0bae-\\\\u0bb9\\\\u0bd0\\\\u0c05-\\\\u0c0c\\\\u0c0e-\\\\u0c10\\\\u0c12-\\\\u0c28\\\\u0c2a-\\\\u0c33\\\\u0c35-\\\\u0c39\\\\u0c3d\\\\u0c58\\\\u0c59\\\\u0c60\\\\u0c61\\\\u0c85-\\\\u0c8c\\\\u0c8e-\\\\u0c90\\\\u0c92-\\\\u0ca8\\\\u0caa-\\\\u0cb3\\\\u0cb5-\\\\u0cb9\\\\u0cbd\\\\u0cde\\\\u0ce0\\\\u0ce1\\\\u0cf1\\\\u0cf2\\\\u0d05-\\\\u0d0c\\\\u0d0e-\\\\u0d10\\\\u0d12-\\\\u0d3a\\\\u0d3d\\\\u0d4e\\\\u0d60\\\\u0d61\\\\u0d7a-\\\\u0d7f\\\\u0d85-\\\\u0d96\\\\u0d9a-\\\\u0db1\\\\u0db3-\\\\u0dbb\\\\u0dbd\\\\u0dc0-\\\\u0dc6\\\\u0e01-\\\\u0e30\\\\u0e32\\\\u0e33\\\\u0e40-\\\\u0e46\\\\u0e81\\\\u0e82\\\\u0e84\\\\u0e87\\\\u0e88\\\\u0e8a\\\\u0e8d\\\\u0e94-\\\\u0e97\\\\u0e99-\\\\u0e9f\\\\u0ea1-\\\\u0ea3\\\\u0ea5\\\\u0ea7\\\\u0eaa\\\\u0eab\\\\u0ead-\\\\u0eb0\\\\u0eb2\\\\u0eb3\\\\u0ebd\\\\u0ec0-\\\\u0ec4\\\\u0ec6\\\\u0edc-\\\\u0edf\\\\u0f00\\\\u0f40-\\\\u0f47\\\\u0f49-\\\\u0f6c\\\\u0f88-\\\\u0f8c\\\\u1000-\\\\u102a\\\\u103f\\\\u1050-\\\\u1055\\\\u105a-\\\\u105d\\\\u1061\\\\u1065\\\\u1066\\\\u106e-\\\\u1070\\\\u1075-\\\\u1081\\\\u108e\\\\u10a0-\\\\u10c5\\\\u10c7\\\\u10cd\\\\u10d0-\\\\u10fa\\\\u10fc-\\\\u1248\\\\u124a-\\\\u124d\\\\u1250-\\\\u1256\\\\u1258\\\\u125a-\\\\u125d\\\\u1260-\\\\u1288\\\\u128a-\\\\u128d\\\\u1290-\\\\u12b0\\\\u12b2-\\\\u12b5\\\\u12b8-\\\\u12be\\\\u12c0\\\\u12c2-\\\\u12c5\\\\u12c8-\\\\u12d6\\\\u12d8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135a\\\\u1380-\\\\u138f\\\\u13a0-\\\\u13f4\\\\u1401-\\\\u166c\\\\u166f-\\\\u167f\\\\u1681-\\\\u169a\\\\u16a0-\\\\u16ea\\\\u16ee-\\\\u16f0\\\\u1700-\\\\u170c\\\\u170e-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176c\\\\u176e-\\\\u1770\\\\u1780-\\\\u17b3\\\\u17d7\\\\u17dc\\\\u1820-\\\\u1877\\\\u1880-\\\\u18a8\\\\u18aa\\\\u18b0-\\\\u18f5\\\\u1900-\\\\u191c\\\\u1950-\\\\u196d\\\\u1970-\\\\u1974\\\\u1980-\\\\u19ab\\\\u19c1-\\\\u19c7\\\\u1a00-\\\\u1a16\\\\u1a20-\\\\u1a54\\\\u1aa7\\\\u1b05-\\\\u1b33\\\\u1b45-\\\\u1b4b\\\\u1b83-\\\\u1ba0\\\\u1bae\\\\u1baf\\\\u1bba-\\\\u1be5\\\\u1c00-\\\\u1c23\\\\u1c4d-\\\\u1c4f\\\\u1c5a-\\\\u1c7d\\\\u1ce9-\\\\u1cec\\\\u1cee-\\\\u1cf1\\\\u1cf5\\\\u1cf6\\\\u1d00-\\\\u1dbf\\\\u1e00-\\\\u1f15\\\\u1f18-\\\\u1f1d\\\\u1f20-\\\\u1f45\\\\u1f48-\\\\u1f4d\\\\u1f50-\\\\u1f57\\\\u1f59\\\\u1f5b\\\\u1f5d\\\\u1f5f-\\\\u1f7d\\\\u1f80-\\\\u1fb4\\\\u1fb6-\\\\u1fbc\\\\u1fbe\\\\u1fc2-\\\\u1fc4\\\\u1fc6-\\\\u1fcc\\\\u1fd0-\\\\u1fd3\\\\u1fd6-\\\\u1fdb\\\\u1fe0-\\\\u1fec\\\\u1ff2-\\\\u1ff4\\\\u1ff6-\\\\u1ffc\\\\u2071\\\\u207f\\\\u2090-\\\\u209c\\\\u2102\\\\u2107\\\\u210a-\\\\u2113\\\\u2115\\\\u2119-\\\\u211d\\\\u2124\\\\u2126\\\\u2128\\\\u212a-\\\\u212d\\\\u212f-\\\\u2139\\\\u213c-\\\\u213f\\\\u2145-\\\\u2149\\\\u214e\\\\u2160-\\\\u2188\\\\u2c00-\\\\u2c2e\\\\u2c30-\\\\u2c5e\\\\u2c60-\\\\u2ce4\\\\u2ceb-\\\\u2cee\\\\u2cf2\\\\u2cf3\\\\u2d00-\\\\u2d25\\\\u2d27\\\\u2d2d\\\\u2d30-\\\\u2d67\\\\u2d6f\\\\u2d80-\\\\u2d96\\\\u2da0-\\\\u2da6\\\\u2da8-\\\\u2dae\\\\u2db0-\\\\u2db6\\\\u2db8-\\\\u2dbe\\\\u2dc0-\\\\u2dc6\\\\u2dc8-\\\\u2dce\\\\u2dd0-\\\\u2dd6\\\\u2dd8-\\\\u2dde\\\\u2e2f\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303c\\\\u3041-\\\\u3096\\\\u309d-\\\\u309f\\\\u30a1-\\\\u30fa\\\\u30fc-\\\\u30ff\\\\u3105-\\\\u312d\\\\u3131-\\\\u318e\\\\u31a0-\\\\u31ba\\\\u31f0-\\\\u31ff\\\\u3400-\\\\u4db5\\\\u4e00-\\\\u9fcc\\\\ua000-\\\\ua48c\\\\ua4d0-\\\\ua4fd\\\\ua500-\\\\ua60c\\\\ua610-\\\\ua61f\\\\ua62a\\\\ua62b\\\\ua640-\\\\ua66e\\\\ua67f-\\\\ua697\\\\ua6a0-\\\\ua6ef\\\\ua717-\\\\ua71f\\\\ua722-\\\\ua788\\\\ua78b-\\\\ua78e\\\\ua790-\\\\ua793\\\\ua7a0-\\\\ua7aa\\\\ua7f8-\\\\ua801\\\\ua803-\\\\ua805\\\\ua807-\\\\ua80a\\\\ua80c-\\\\ua822\\\\ua840-\\\\ua873\\\\ua882-\\\\ua8b3\\\\ua8f2-\\\\ua8f7\\\\ua8fb\\\\ua90a-\\\\ua925\\\\ua930-\\\\ua946\\\\ua960-\\\\ua97c\\\\ua984-\\\\ua9b2\\\\ua9cf\\\\uaa00-\\\\uaa28\\\\uaa40-\\\\uaa42\\\\uaa44-\\\\uaa4b\\\\uaa60-\\\\uaa76\\\\uaa7a\\\\uaa80-\\\\uaaaf\\\\uaab1\\\\uaab5\\\\uaab6\\\\uaab9-\\\\uaabd\\\\uaac0\\\\uaac2\\\\uaadb-\\\\uaadd\\\\uaae0-\\\\uaaea\\\\uaaf2-\\\\uaaf4\\\\uab01-\\\\uab06\\\\uab09-\\\\uab0e\\\\uab11-\\\\uab16\\\\uab20-\\\\uab26\\\\uab28-\\\\uab2e\\\\uabc0-\\\\uabe2\\\\uac00-\\\\ud7a3\\\\ud7b0-\\\\ud7c6\\\\ud7cb-\\\\ud7fb\\\\uf900-\\\\ufa6d\\\\ufa70-\\\\ufad9\\\\ufb00-\\\\ufb06\\\\ufb13-\\\\ufb17\\\\ufb1d\\\\ufb1f-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40\\\\ufb41\\\\ufb43\\\\ufb44\\\\ufb46-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a\\\\uff66-\\\\uffbe\\\\uffc2-\\\\uffc7\\\\uffca-\\\\uffcf\\\\uffd2-\\\\uffd7\\\\uffda-\\\\uffdc\",_=\"\\\\u0300-\\\\u036f\\\\u0483-\\\\u0487\\\\u0591-\\\\u05bd\\\\u05bf\\\\u05c1\\\\u05c2\\\\u05c4\\\\u05c5\\\\u05c7\\\\u0610-\\\\u061a\\\\u0620-\\\\u0649\\\\u0672-\\\\u06d3\\\\u06e7-\\\\u06e8\\\\u06fb-\\\\u06fc\\\\u0730-\\\\u074a\\\\u0800-\\\\u0814\\\\u081b-\\\\u0823\\\\u0825-\\\\u0827\\\\u0829-\\\\u082d\\\\u0840-\\\\u0857\\\\u08e4-\\\\u08fe\\\\u0900-\\\\u0903\\\\u093a-\\\\u093c\\\\u093e-\\\\u094f\\\\u0951-\\\\u0957\\\\u0962-\\\\u0963\\\\u0966-\\\\u096f\\\\u0981-\\\\u0983\\\\u09bc\\\\u09be-\\\\u09c4\\\\u09c7\\\\u09c8\\\\u09d7\\\\u09df-\\\\u09e0\\\\u0a01-\\\\u0a03\\\\u0a3c\\\\u0a3e-\\\\u0a42\\\\u0a47\\\\u0a48\\\\u0a4b-\\\\u0a4d\\\\u0a51\\\\u0a66-\\\\u0a71\\\\u0a75\\\\u0a81-\\\\u0a83\\\\u0abc\\\\u0abe-\\\\u0ac5\\\\u0ac7-\\\\u0ac9\\\\u0acb-\\\\u0acd\\\\u0ae2-\\\\u0ae3\\\\u0ae6-\\\\u0aef\\\\u0b01-\\\\u0b03\\\\u0b3c\\\\u0b3e-\\\\u0b44\\\\u0b47\\\\u0b48\\\\u0b4b-\\\\u0b4d\\\\u0b56\\\\u0b57\\\\u0b5f-\\\\u0b60\\\\u0b66-\\\\u0b6f\\\\u0b82\\\\u0bbe-\\\\u0bc2\\\\u0bc6-\\\\u0bc8\\\\u0bca-\\\\u0bcd\\\\u0bd7\\\\u0be6-\\\\u0bef\\\\u0c01-\\\\u0c03\\\\u0c46-\\\\u0c48\\\\u0c4a-\\\\u0c4d\\\\u0c55\\\\u0c56\\\\u0c62-\\\\u0c63\\\\u0c66-\\\\u0c6f\\\\u0c82\\\\u0c83\\\\u0cbc\\\\u0cbe-\\\\u0cc4\\\\u0cc6-\\\\u0cc8\\\\u0cca-\\\\u0ccd\\\\u0cd5\\\\u0cd6\\\\u0ce2-\\\\u0ce3\\\\u0ce6-\\\\u0cef\\\\u0d02\\\\u0d03\\\\u0d46-\\\\u0d48\\\\u0d57\\\\u0d62-\\\\u0d63\\\\u0d66-\\\\u0d6f\\\\u0d82\\\\u0d83\\\\u0dca\\\\u0dcf-\\\\u0dd4\\\\u0dd6\\\\u0dd8-\\\\u0ddf\\\\u0df2\\\\u0df3\\\\u0e34-\\\\u0e3a\\\\u0e40-\\\\u0e45\\\\u0e50-\\\\u0e59\\\\u0eb4-\\\\u0eb9\\\\u0ec8-\\\\u0ecd\\\\u0ed0-\\\\u0ed9\\\\u0f18\\\\u0f19\\\\u0f20-\\\\u0f29\\\\u0f35\\\\u0f37\\\\u0f39\\\\u0f41-\\\\u0f47\\\\u0f71-\\\\u0f84\\\\u0f86-\\\\u0f87\\\\u0f8d-\\\\u0f97\\\\u0f99-\\\\u0fbc\\\\u0fc6\\\\u1000-\\\\u1029\\\\u1040-\\\\u1049\\\\u1067-\\\\u106d\\\\u1071-\\\\u1074\\\\u1082-\\\\u108d\\\\u108f-\\\\u109d\\\\u135d-\\\\u135f\\\\u170e-\\\\u1710\\\\u1720-\\\\u1730\\\\u1740-\\\\u1750\\\\u1772\\\\u1773\\\\u1780-\\\\u17b2\\\\u17dd\\\\u17e0-\\\\u17e9\\\\u180b-\\\\u180d\\\\u1810-\\\\u1819\\\\u1920-\\\\u192b\\\\u1930-\\\\u193b\\\\u1951-\\\\u196d\\\\u19b0-\\\\u19c0\\\\u19c8-\\\\u19c9\\\\u19d0-\\\\u19d9\\\\u1a00-\\\\u1a15\\\\u1a20-\\\\u1a53\\\\u1a60-\\\\u1a7c\\\\u1a7f-\\\\u1a89\\\\u1a90-\\\\u1a99\\\\u1b46-\\\\u1b4b\\\\u1b50-\\\\u1b59\\\\u1b6b-\\\\u1b73\\\\u1bb0-\\\\u1bb9\\\\u1be6-\\\\u1bf3\\\\u1c00-\\\\u1c22\\\\u1c40-\\\\u1c49\\\\u1c5b-\\\\u1c7d\\\\u1cd0-\\\\u1cd2\\\\u1d00-\\\\u1dbe\\\\u1e01-\\\\u1f15\\\\u200c\\\\u200d\\\\u203f\\\\u2040\\\\u2054\\\\u20d0-\\\\u20dc\\\\u20e1\\\\u20e5-\\\\u20f0\\\\u2d81-\\\\u2d96\\\\u2de0-\\\\u2dff\\\\u3021-\\\\u3028\\\\u3099\\\\u309a\\\\ua640-\\\\ua66d\\\\ua674-\\\\ua67d\\\\ua69f\\\\ua6f0-\\\\ua6f1\\\\ua7f8-\\\\ua800\\\\ua806\\\\ua80b\\\\ua823-\\\\ua827\\\\ua880-\\\\ua881\\\\ua8b4-\\\\ua8c4\\\\ua8d0-\\\\ua8d9\\\\ua8f3-\\\\ua8f7\\\\ua900-\\\\ua909\\\\ua926-\\\\ua92d\\\\ua930-\\\\ua945\\\\ua980-\\\\ua983\\\\ua9b3-\\\\ua9c0\\\\uaa00-\\\\uaa27\\\\uaa40-\\\\uaa41\\\\uaa4c-\\\\uaa4d\\\\uaa50-\\\\uaa59\\\\uaa7b\\\\uaae0-\\\\uaae9\\\\uaaf2-\\\\uaaf3\\\\uabc0-\\\\uabe1\\\\uabec\\\\uabed\\\\uabf0-\\\\uabf9\\\\ufb20-\\\\ufb28\\\\ufe00-\\\\ufe0f\\\\ufe20-\\\\ufe26\\\\ufe33\\\\ufe34\\\\ufe4d-\\\\ufe4f\\\\uff10-\\\\uff19\\\\uff3f\",s=\"(?:\\\\\\\\u[0-9a-fA-F]{4}|[\\\\x23\\\\x24\\\\x40\\\\x41-\\\\x5a\\\\x5f\\\\x61-\\\\x7a\"+n+\"])\",a=\"(?:\\\\\\\\u[0-9a-fA-F]{4}|[\"+i+n+_+\"])*\";e.identifier=new RegExp(s+a,\"g\"),e.identifierStart=new RegExp(s),e.identifierMatch=new RegExp(\"(?:\\\\\\\\u[0-9a-fA-F]{4}|[\"+i+n+_+\"])+\"),e.newline=/[\\n\\r\\u2028\\u2029]/,e.lineBreak=new RegExp(\"\\r\\n|\"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,\"g\")},282:function(t,e,i){var n=i(558).r,_=i(650).W,s=i(273),a=i(962).E,r=i(76).d2,o=i(76).O9,u=i(76).L2,h=i(76).o3;function p(t,e){return-1!==e.indexOf(t)}function l(t,e){return t&&t.type===h.RESERVED&&t.text===e}function c(t,e){return t&&t.type===h.RESERVED&&p(t.text,e)}var f=[\"case\",\"return\",\"do\",\"if\",\"throw\",\"else\",\"await\",\"break\",\"continue\",\"async\"],d=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].replace(/-/g,\"_\")]=t[i];return e}([\"before-newline\",\"after-newline\",\"preserve-newline\"]),g=[d.before_newline,d.preserve_newline],m={BlockStatement:\"BlockStatement\",Statement:\"Statement\",ObjectLiteral:\"ObjectLiteral\",ArrayLiteral:\"ArrayLiteral\",ForInitializer:\"ForInitializer\",Conditional:\"Conditional\",Expression:\"Expression\"};function b(t,e){e.multiline_frame||e.mode===m.ForInitializer||e.mode===m.Conditional||t.remove_indent(e.start_line_index)}function k(t){return t===m.ArrayLiteral}function y(t){return p(t,[m.Expression,m.ForInitializer,m.Conditional])}function w(t,e){e=e||{},this._source_text=t||\"\",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new a(e)}w.prototype.create_flags=function(t,e){var i=0;return t&&(i=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level)),{mode:e,parent:t,last_token:t?t.last_token:new _(h.START_BLOCK,\"\"),last_word:t?t.last_word:\"\",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:i,alignment:0,line_indent_level:t?t.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0}},w.prototype._reset=function(t){var e=t.match(/^[\\t ]*/)[0];this._last_last_text=\"\",this._output=new n(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(m.BlockStatement);var i=new r(t,this._options);return this._tokens=i.tokenize(),t},w.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._reset(this._source_text),e=this._options.eol;\"auto\"===this._options.eol&&(e=\"\\n\",t&&s.lineBreak.test(t||\"\")&&(e=t.match(s.lineBreak)[0]));for(var i=this._tokens.next();i;)this.handle_token(i),this._last_last_text=this._flags.last_token.text,this._flags.last_token=i,i=this._tokens.next();return this._output.get_code(e)},w.prototype.handle_token=function(t,e){t.type===h.START_EXPR?this.handle_start_expr(t):t.type===h.END_EXPR?this.handle_end_expr(t):t.type===h.START_BLOCK?this.handle_start_block(t):t.type===h.END_BLOCK?this.handle_end_block(t):t.type===h.WORD||t.type===h.RESERVED?this.handle_word(t):t.type===h.SEMICOLON?this.handle_semicolon(t):t.type===h.STRING?this.handle_string(t):t.type===h.EQUALS?this.handle_equals(t):t.type===h.OPERATOR?this.handle_operator(t):t.type===h.COMMA?this.handle_comma(t):t.type===h.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===h.COMMENT?this.handle_comment(t,e):t.type===h.DOT?this.handle_dot(t):t.type===h.EOF?this.handle_eof(t):(t.type,h.UNKNOWN,this.handle_unknown(t,e))},w.prototype.handle_whitespace_and_comments=function(t,e){var i=t.newlines,n=this._options.keep_array_indentation&&k(this._flags.mode);if(t.comments_before)for(var _=t.comments_before.next();_;)this.handle_whitespace_and_comments(_,e),this.handle_token(_,e),_=t.comments_before.next();if(n)for(var s=0;s<i;s+=1)this.print_newline(s>0,e);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,e);for(var a=1;a<i;a+=1)this.print_newline(!0,e)}};var x=[\"async\",\"break\",\"continue\",\"return\",\"throw\",\"yield\"];w.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=void 0!==e&&e,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&t.newlines||e;if(p(this._flags.last_token.text,u)||p(t.text,u)){var n=p(this._flags.last_token.text,u)&&p(this._options.operator_position,g)||p(t.text,u);i=i&&n}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(c(this._flags.last_token,x))return;this._output.set_wrap_point()}}},w.prototype.print_newline=function(t,e){if(!e&&\";\"!==this._flags.last_token.text&&\",\"!==this._flags.last_token.text&&\"=\"!==this._flags.last_token.text&&(this._flags.last_token.type!==h.OPERATOR||\"--\"===this._flags.last_token.text||\"++\"===this._flags.last_token.text))for(var i=this._tokens.peek();!(this._flags.mode!==m.Statement||this._flags.if_block&&l(i,\"else\")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},w.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(\"[\"===t.text||k(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},w.prototype.print_token=function(t){if(this._output.raw)this._output.add_raw_token(t);else{if(this._options.comma_first&&t.previous&&t.previous.type===h.COMMA&&this._output.just_added_newline()&&\",\"===this._output.previous_line.last()){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(\",\"),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},w.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},w.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},w.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},w.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===m.Statement&&b(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},w.prototype.start_of_object_property=function(){return this._flags.parent.mode===m.ObjectLiteral&&this._flags.mode===m.Statement&&(\":\"===this._flags.last_token.text&&0===this._flags.ternary_depth||c(this._flags.last_token,[\"get\",\"set\"]))},w.prototype.start_of_statement=function(t){var e=!1;return!!(e=(e=(e=(e=(e=(e=(e=e||c(this._flags.last_token,[\"var\",\"let\",\"const\"])&&t.type===h.WORD)||l(this._flags.last_token,\"do\"))||!(this._flags.parent.mode===m.ObjectLiteral&&this._flags.mode===m.Statement)&&c(this._flags.last_token,x)&&!t.newlines)||l(this._flags.last_token,\"else\")&&!(l(t,\"if\")&&!t.comments_before))||this._flags.last_token.type===h.END_EXPR&&(this._previous_flags.mode===m.ForInitializer||this._previous_flags.mode===m.Conditional))||this._flags.last_token.type===h.WORD&&this._flags.mode===m.BlockStatement&&!this._flags.in_case&&!(\"--\"===t.text||\"++\"===t.text)&&\"function\"!==this._last_last_text&&t.type!==h.WORD&&t.type!==h.RESERVED)||this._flags.mode===m.ObjectLiteral&&(\":\"===this._flags.last_token.text&&0===this._flags.ternary_depth||c(this._flags.last_token,[\"get\",\"set\"])))&&(this.set_mode(m.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,c(t,[\"do\",\"for\",\"if\",\"while\"])),!0)},w.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=m.Expression;if(\"[\"===t.text){if(this._flags.last_token.type===h.WORD||\")\"===this._flags.last_token.text)return c(this._flags.last_token,o)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));e=m.ArrayLiteral,k(this._flags.mode)&&(\"[\"!==this._flags.last_token.text&&(\",\"!==this._flags.last_token.text||\"]\"!==this._last_last_text&&\"}\"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),p(this._flags.last_token.type,[h.START_EXPR,h.END_EXPR,h.WORD,h.OPERATOR,h.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===h.RESERVED)\"for\"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,e=m.ForInitializer):p(this._flags.last_token.text,[\"if\",\"while\",\"switch\"])?(this._output.space_before_token=this._options.space_before_conditional,e=m.Conditional):p(this._flags.last_word,[\"await\",\"async\"])?this._output.space_before_token=!0:\"import\"===this._flags.last_token.text&&\"\"===t.whitespace_before?this._output.space_before_token=!1:(p(this._flags.last_token.text,o)||\"catch\"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===h.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);c(i,[\"async\",\"function\"])||\"*\"===i.text&&c(n,[\"async\",\"function\"])?this._output.space_before_token=!0:this._flags.mode===m.ObjectLiteral?\"{\"!==i.text&&\",\"!==i.text&&(\"*\"!==i.text||\"{\"!==n.text&&\",\"!==n.text)||(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===h.RESERVED&&(\"function\"===this._flags.last_word||\"typeof\"===this._flags.last_word)||\"*\"===this._flags.last_token.text&&(p(this._last_last_text,[\"function\",\"yield\"])||this._flags.mode===m.ObjectLiteral&&p(this._last_last_text,[\"{\",\",\"])))&&(this._output.space_before_token=this._options.space_after_anon_function)}\";\"===this._flags.last_token.text||this._flags.last_token.type===h.START_BLOCK?this.print_newline():this._flags.last_token.type!==h.END_EXPR&&this._flags.last_token.type!==h.START_EXPR&&this._flags.last_token.type!==h.END_BLOCK&&\".\"!==this._flags.last_token.text&&this._flags.last_token.type!==h.COMMA||this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},w.prototype.handle_end_expr=function(t){for(;this._flags.mode===m.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,\"]\"===t.text&&k(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==h.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(t),this.restore_mode(),b(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===m.Conditional&&(this._previous_flags.mode=m.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},w.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),i=this._tokens.peek(1);\"switch\"===this._flags.last_word&&this._flags.last_token.type===h.END_EXPR?(this.set_mode(m.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(m.BlockStatement):i&&(p(i.text,[\":\",\",\"])&&p(e.type,[h.STRING,h.WORD,h.RESERVED])||p(e.text,[\"get\",\"set\",\"...\"])&&p(i.type,[h.WORD,h.RESERVED]))?p(this._last_last_text,[\"class\",\"interface\"])&&!p(i.text,[\":\",\",\"])?this.set_mode(m.BlockStatement):this.set_mode(m.ObjectLiteral):this._flags.last_token.type===h.OPERATOR&&\"=>\"===this._flags.last_token.text?this.set_mode(m.BlockStatement):p(this._flags.last_token.type,[h.EQUALS,h.START_EXPR,h.COMMA,h.OPERATOR])||c(this._flags.last_token,[\"return\",\"throw\",\"import\",\"default\"])?this.set_mode(m.ObjectLiteral):this.set_mode(m.BlockStatement),this._flags.last_token&&c(this._flags.last_token.previous,[\"class\",\"extends\"])&&(this._flags.class_start_block=!0);var n=!e.comments_before&&\"}\"===e.text,_=n&&\"function\"===this._flags.last_word&&this._flags.last_token.type===h.END_EXPR;if(this._options.brace_preserve_inline){var s=0,a=null;this._flags.inline_frame=!0;do{if(s+=1,(a=this._tokens.peek(s-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==h.EOF&&(a.type!==h.END_BLOCK||a.opened!==t))}(\"expand\"===this._options.brace_style||\"none\"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==h.OPERATOR&&(_||this._flags.last_token.type===h.EQUALS||c(this._flags.last_token,f)&&\"else\"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!k(this._previous_flags.mode)||this._flags.last_token.type!==h.START_EXPR&&this._flags.last_token.type!==h.COMMA||((this._flags.last_token.type===h.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==h.OPERATOR&&this._flags.last_token.type!==h.START_EXPR&&(p(this._flags.last_token.type,[h.START_BLOCK,h.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),n||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},w.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===m.Statement;)this.restore_mode();var e=this._flags.last_token.type===h.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:\"expand\"===this._options.brace_style?e||this.print_newline():e||(k(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},w.prototype.handle_word=function(t){if(t.type===h.RESERVED&&(p(t.text,[\"set\",\"get\"])&&this._flags.mode!==m.ObjectLiteral||\"import\"===t.text&&p(this._tokens.peek().text,[\"(\",\".\"])||p(t.text,[\"as\",\"from\"])&&!this._flags.import_block||this._flags.mode===m.ObjectLiteral&&\":\"===this._tokens.peek().text)&&(t.type=h.WORD),this.start_of_statement(t)?c(this._flags.last_token,[\"var\",\"let\",\"const\"])&&t.type===h.WORD&&(this._flags.declaration_statement=!0):!t.newlines||y(this._flags.mode)||this._flags.last_token.type===h.OPERATOR&&\"--\"!==this._flags.last_token.text&&\"++\"!==this._flags.last_token.text||this._flags.last_token.type===h.EQUALS||!this._options.preserve_newlines&&c(this._flags.last_token,[\"var\",\"let\",\"const\",\"set\",\"get\"])?this.handle_whitespace_and_comments(t):(this.handle_whitespace_and_comments(t),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(l(t,\"while\"))return this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&l(t,\"else\"))this._flags.else_block=!0;else{for(;this._flags.mode===m.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&c(t,[\"case\",\"default\"]))return this.print_newline(),this._flags.case_block||!this._flags.case_body&&!this._options.jslint_happy||this.deindent(),this._flags.case_body=!1,this.print_token(t),void(this._flags.in_case=!0);if(this._flags.last_token.type!==h.COMMA&&this._flags.last_token.type!==h.START_EXPR&&this._flags.last_token.type!==h.EQUALS&&this._flags.last_token.type!==h.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t),l(t,\"function\"))return(p(this._flags.last_token.text,[\"}\",\";\"])||this._output.just_added_newline()&&!p(this._flags.last_token.text,[\"(\",\"[\",\"{\",\":\",\"=\",\",\"])&&this._flags.last_token.type!==h.OPERATOR)&&(this._output.just_added_blankline()||t.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD?c(this._flags.last_token,[\"get\",\"set\",\"new\",\"export\"])||c(this._flags.last_token,x)||l(this._flags.last_token,\"default\")&&\"export\"===this._last_last_text||\"declare\"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===h.OPERATOR||\"=\"===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!y(this._flags.mode)&&!k(this._flags.mode))&&this.print_newline(),this.print_token(t),void(this._flags.last_word=t.text);var e=\"NONE\";this._flags.last_token.type===h.END_BLOCK?this._previous_flags.inline_frame?e=\"SPACE\":c(t,[\"else\",\"catch\",\"finally\",\"from\"])?\"expand\"===this._options.brace_style||\"end-expand\"===this._options.brace_style||\"none\"===this._options.brace_style&&t.newlines?e=\"NEWLINE\":(e=\"SPACE\",this._output.space_before_token=!0):e=\"NEWLINE\":this._flags.last_token.type===h.SEMICOLON&&this._flags.mode===m.BlockStatement?e=\"NEWLINE\":this._flags.last_token.type===h.SEMICOLON&&y(this._flags.mode)?e=\"SPACE\":this._flags.last_token.type===h.STRING?e=\"NEWLINE\":this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD||\"*\"===this._flags.last_token.text&&(p(this._last_last_text,[\"function\",\"yield\"])||this._flags.mode===m.ObjectLiteral&&p(this._last_last_text,[\"{\",\",\"]))?e=\"SPACE\":this._flags.last_token.type===h.START_BLOCK?e=this._flags.inline_frame?\"SPACE\":\"NEWLINE\":this._flags.last_token.type===h.END_EXPR&&(this._output.space_before_token=!0,e=\"NEWLINE\"),c(t,o)&&\")\"!==this._flags.last_token.text&&(e=this._flags.inline_frame||\"else\"===this._flags.last_token.text||\"export\"===this._flags.last_token.text?\"SPACE\":\"NEWLINE\"),c(t,[\"else\",\"catch\",\"finally\"])?(this._flags.last_token.type!==h.END_BLOCK||this._previous_flags.mode!==m.BlockStatement||\"expand\"===this._options.brace_style||\"end-expand\"===this._options.brace_style||\"none\"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),\"}\"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):\"NEWLINE\"===e?c(this._flags.last_token,f)||\"declare\"===this._flags.last_token.text&&c(t,[\"var\",\"let\",\"const\"])?this._output.space_before_token=!0:this._flags.last_token.type!==h.END_EXPR?this._flags.last_token.type===h.START_EXPR&&c(t,[\"var\",\"let\",\"const\"])||\":\"===this._flags.last_token.text||(l(t,\"if\")&&l(t.previous,\"else\")?this._output.space_before_token=!0:this.print_newline()):c(t,o)&&\")\"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&k(this._flags.mode)&&\",\"===this._flags.last_token.text&&\"}\"===this._last_last_text?this.print_newline():\"SPACE\"===e&&(this._output.space_before_token=!0),!t.previous||t.previous.type!==h.WORD&&t.previous.type!==h.RESERVED||(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===h.RESERVED&&(\"do\"===t.text?this._flags.do_block=!0:\"if\"===t.text?this._flags.if_block=!0:\"import\"===t.text?this._flags.import_block=!0:this._flags.import_block&&l(t,\"from\")&&(this._flags.import_block=!1))},w.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();!(this._flags.mode!==m.Statement||this._flags.if_block&&l(e,\"else\")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},w.prototype.handle_string=function(t){(!t.text.startsWith(\"`\")||0!==t.newlines||\"\"!==t.whitespace_before||\")\"!==t.previous.text&&this._flags.last_token.type!==h.WORD)&&(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===h.RESERVED||this._flags.last_token.type===h.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===h.COMMA||this._flags.last_token.type===h.START_EXPR||this._flags.last_token.type===h.EQUALS||this._flags.last_token.type===h.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):!t.text.startsWith(\"`\")||this._flags.last_token.type!==h.END_EXPR||\"]\"!==t.previous.text&&\")\"!==t.previous.text||0!==t.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(t)},w.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},w.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(y(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===m.ObjectLiteral||this._flags.mode===m.Statement&&this._flags.parent.mode===m.ObjectLiteral?(this._flags.mode===m.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},w.prototype.handle_operator=function(t){var e=\"*\"===t.text&&(c(this._flags.last_token,[\"function\",\"yield\"])||p(this._flags.last_token.type,[h.START_BLOCK,h.COMMA,h.END_BLOCK,h.SEMICOLON])),i=p(t.text,[\"-\",\"+\"])&&(p(this._flags.last_token.type,[h.START_BLOCK,h.START_EXPR,h.EQUALS,h.OPERATOR])||p(this._flags.last_token.text,o)||\",\"===this._flags.last_token.text);if(this.start_of_statement(t));else{var n=!e;this.handle_whitespace_and_comments(t,n)}if(\"*\"!==t.text||this._flags.last_token.type!==h.DOT)if(\"::\"!==t.text){if(this._flags.last_token.type===h.OPERATOR&&p(this._options.operator_position,g)&&this.allow_wrap_or_preserved_newline(t),\":\"===t.text&&this._flags.in_case)return this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==h.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0));var _=!0,s=!0,a=!1;if(\":\"===t.text?0===this._flags.ternary_depth?_=!1:(this._flags.ternary_depth-=1,a=!0):\"?\"===t.text&&(this._flags.ternary_depth+=1),!i&&!e&&this._options.preserve_newlines&&p(t.text,u)){var r=\":\"===t.text,l=r&&a,b=r&&!a;switch(this._options.operator_position){case d.before_newline:return this._output.space_before_token=!b,this.print_token(t),r&&!l||this.allow_wrap_or_preserved_newline(t),void(this._output.space_before_token=!0);case d.after_newline:return this._output.space_before_token=!0,!r||l?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),void(this._output.space_before_token=!0);case d.preserve_newline:return b||this.allow_wrap_or_preserved_newline(t),_=!(this._output.just_added_newline()||b),this._output.space_before_token=_,this.print_token(t),void(this._output.space_before_token=!0)}}if(e){this.allow_wrap_or_preserved_newline(t),_=!1;var k=this._tokens.peek();s=k&&p(k.type,[h.WORD,h.RESERVED])}else if(\"...\"===t.text)this.allow_wrap_or_preserved_newline(t),_=this._flags.last_token.type===h.START_BLOCK,s=!1;else if(p(t.text,[\"--\",\"++\",\"!\",\"~\"])||i){if(this._flags.last_token.type!==h.COMMA&&this._flags.last_token.type!==h.START_EXPR||this.allow_wrap_or_preserved_newline(t),_=!1,s=!1,t.newlines&&(\"--\"===t.text||\"++\"===t.text||\"~\"===t.text)){var w=c(this._flags.last_token,f)&&t.newlines;w&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(w,!0)}\";\"===this._flags.last_token.text&&y(this._flags.mode)&&(_=!0),this._flags.last_token.type===h.RESERVED?_=!0:this._flags.last_token.type===h.END_EXPR?_=!(\"]\"===this._flags.last_token.text&&(\"--\"===t.text||\"++\"===t.text)):this._flags.last_token.type===h.OPERATOR&&(_=p(t.text,[\"--\",\"-\",\"++\",\"+\"])&&p(this._flags.last_token.text,[\"--\",\"-\",\"++\",\"+\"]),p(t.text,[\"+\",\"-\"])&&p(this._flags.last_token.text,[\"--\",\"++\"])&&(s=!0)),(this._flags.mode!==m.BlockStatement||this._flags.inline_frame)&&this._flags.mode!==m.Statement||\"{\"!==this._flags.last_token.text&&\";\"!==this._flags.last_token.text||this.print_newline()}this._output.space_before_token=this._output.space_before_token||_,this.print_token(t),this._output.space_before_token=s}else this.print_token(t);else this.print_token(t)},w.prototype.handle_block_comment=function(t,e){return this._output.raw?(this._output.add_raw_token(t),void(t.directives&&\"end\"===t.directives.preserve&&(this._output.raw=this._options.test_output_raw))):t.directives?(this.print_newline(!1,e),this.print_token(t),\"start\"===t.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):s.newline.test(t.text)||t.newlines?void this.print_block_commment(t,e):(this._output.space_before_token=!0,this.print_token(t),void(this._output.space_before_token=!0))},w.prototype.print_block_commment=function(t,e){var i,n=function(t){for(var e=[],i=(t=t.replace(s.allLineBreaks,\"\\n\")).indexOf(\"\\n\");-1!==i;)e.push(t.substring(0,i)),i=(t=t.substring(i+1)).indexOf(\"\\n\");return t.length&&e.push(t),e}(t.text),_=!1,a=!1,r=t.whitespace_before,o=r.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(n[0]),this.print_newline(!1,e),n.length>1){for(_=function(t,e){for(var i=0;i<t.length;i++)if(\"*\"!==t[i].trim().charAt(0))return!1;return!0}(n=n.slice(1)),a=function(t,e){for(var i,n=0,_=t.length;n<_;n++)if((i=t[n])&&0!==i.indexOf(e))return!1;return!0}(n,r),_&&(this._flags.alignment=1),i=0;i<n.length;i++)_?(this.print_token_line_indentation(t),this._output.add_token(n[i].replace(/^\\s+/g,\"\"))):a&&n[i]?(this.print_token_line_indentation(t),this._output.add_token(n[i].substring(o))):(this._output.current_line.set_indent(-1),this._output.add_token(n[i])),this.print_newline(!1,e);this._flags.alignment=0}},w.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},w.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),this._flags.last_token.text.match(\"^[0-9]+$\")&&(this._output.space_before_token=!0),c(this._flags.last_token,f)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,\")\"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},w.prototype.handle_unknown=function(t,e){this.print_token(t),\"\\n\"===t.text[t.text.length-1]&&this.print_newline(!1,e)},w.prototype.handle_eof=function(t){for(;this._flags.mode===m.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)},t.exports.K=w},82:function(t,e,i){var n=i(282).K,_=i(962).E;t.exports=function(t,e){return new n(t,e).beautify()},t.exports.defaultOptions=function(){return new _}},962:function(t,e,i){var n=i(915).Ei,_=[\"before-newline\",\"after-newline\",\"preserve-newline\"];function s(t){n.call(this,t,\"js\");var e=this.raw_options.brace_style||null;\"expand-strict\"===e?this.raw_options.brace_style=\"expand\":\"collapse-preserve-inline\"===e?this.raw_options.brace_style=\"collapse,preserve-inline\":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?\"expand\":\"collapse\");var i=this._get_selection_list(\"brace_style\",[\"collapse\",\"expand\",\"end-expand\",\"none\",\"preserve-inline\"]);this.brace_preserve_inline=!1,this.brace_style=\"collapse\";for(var s=0;s<i.length;s++)\"preserve-inline\"===i[s]?this.brace_preserve_inline=!0:this.brace_style=i[s];this.unindent_chained_methods=this._get_boolean(\"unindent_chained_methods\"),this.break_chained_methods=this._get_boolean(\"break_chained_methods\"),this.space_in_paren=this._get_boolean(\"space_in_paren\"),this.space_in_empty_paren=this._get_boolean(\"space_in_empty_paren\"),this.jslint_happy=this._get_boolean(\"jslint_happy\"),this.space_after_anon_function=this._get_boolean(\"space_after_anon_function\"),this.space_after_named_function=this._get_boolean(\"space_after_named_function\"),this.keep_array_indentation=this._get_boolean(\"keep_array_indentation\"),this.space_before_conditional=this._get_boolean(\"space_before_conditional\",!0),this.unescape_strings=this._get_boolean(\"unescape_strings\"),this.e4x=this._get_boolean(\"e4x\"),this.comma_first=this._get_boolean(\"comma_first\"),this.operator_position=this._get_selection(\"operator_position\",_),this.test_output_raw=this._get_boolean(\"test_output_raw\"),this.jslint_happy&&(this.space_after_anon_function=!0)}s.prototype=new n,t.exports.E=s},76:function(t,e,i){var n=i(418).g,_=i(147).d,s=i(147).o,a=i(7).t,r=i(273),o=i(348).c,u=i(800).A;function h(t,e){return-1!==e.indexOf(t)}var p={START_EXPR:\"TK_START_EXPR\",END_EXPR:\"TK_END_EXPR\",START_BLOCK:\"TK_START_BLOCK\",END_BLOCK:\"TK_END_BLOCK\",WORD:\"TK_WORD\",RESERVED:\"TK_RESERVED\",SEMICOLON:\"TK_SEMICOLON\",STRING:\"TK_STRING\",EQUALS:\"TK_EQUALS\",OPERATOR:\"TK_OPERATOR\",COMMA:\"TK_COMMA\",BLOCK_COMMENT:\"TK_BLOCK_COMMENT\",COMMENT:\"TK_COMMENT\",DOT:\"TK_DOT\",UNKNOWN:\"TK_UNKNOWN\",START:s.START,RAW:s.RAW,EOF:s.EOF},l=new a(/\\/\\*/,/\\*\\//),c=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\\d[\\d_]*n|(?:\\.\\d[\\d_]*|\\d[\\d_]*\\.?[\\d_]*)(?:[eE][+-]?[\\d_]+)?/,f=/[0-9]/,d=/[^\\d\\.]/,g=\">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *\".split(\" \"),m=\">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |\";m=(m=\"\\\\?\\\\.(?!\\\\d) \"+(m=m.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g,\"\\\\$&\"))).replace(/ /g,\"|\");var b,k=new RegExp(m),y=\"continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export\".split(\",\"),w=y.concat([\"do\",\"in\",\"of\",\"else\",\"get\",\"set\",\"new\",\"catch\",\"finally\",\"typeof\",\"yield\",\"async\",\"await\",\"from\",\"as\",\"class\",\"extends\"]),x=new RegExp(\"^(?:\"+w.join(\"|\")+\")$\"),v=function(t,e){_.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\\u00A0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff/.source,/\\u2028\\u2029/.source);var i=new o(this._input),n=new u(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(r.identifier).matching(r.identifierMatch),number:i.matching(c),punct:i.matching(k),comment:i.starting_with(/\\/\\//).until(/[\\n\\r\\u2028\\u2029]/),block_comment:i.starting_with(/\\/\\*/).until_after(/\\*\\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(r.lineBreak),shebang:i.starting_with(/#!/).until_after(r.lineBreak),xml:i.matching(/[\\s\\S]*?<(\\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\\[CDATA\\[[^\\]]*?\\]\\]|)(\\s*{[^}]+?}|\\s+[-a-zA-Z:0-9_.]+|\\s+[-a-zA-Z:0-9_.]+\\s*=\\s*('[^']*'|\"[^\"]*\"|{([^{}]|{[^}]+?})+?}))*\\s*(\\/?)\\s*>/),single_quote:n.until(/['\\\\\\n\\r\\u2028\\u2029]/),double_quote:n.until(/[\"\\\\\\n\\r\\u2028\\u2029]/),template_text:n.until(/[`\\\\$]/),template_expression:n.until(/[`}\\\\]/)}};(v.prototype=new _)._is_comment=function(t){return t.type===p.COMMENT||t.type===p.BLOCK_COMMENT||t.type===p.UNKNOWN},v.prototype._is_opening=function(t){return t.type===p.START_BLOCK||t.type===p.START_EXPR},v.prototype._is_closing=function(t,e){return(t.type===p.END_BLOCK||t.type===p.END_EXPR)&&e&&(\"]\"===t.text&&\"[\"===e.text||\")\"===t.text&&\"(\"===e.text||\"}\"===t.text&&\"{\"===e.text)},v.prototype._reset=function(){b=!1},v.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return null===n?this._create_token(p.EOF,\"\"):i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i||this._read_non_javascript(n))||this._read_string(n))||this._read_pair(n,this._input.peek(1)))||this._read_word(t))||this._read_singles(n))||this._read_comment(n))||this._read_regexp(n,t))||this._read_xml(n,t))||this._read_punctuation())||this._create_token(p.UNKNOWN,this._input.next())},v.prototype._read_word=function(t){var e;return\"\"!==(e=this.__patterns.identifier.read())?(e=e.replace(r.allLineBreaks,\"\\n\"),t.type!==p.DOT&&(t.type!==p.RESERVED||\"set\"!==t.text&&\"get\"!==t.text)&&x.test(e)?\"in\"!==e&&\"of\"!==e||t.type!==p.WORD&&t.type!==p.STRING?this._create_token(p.RESERVED,e):this._create_token(p.OPERATOR,e):this._create_token(p.WORD,e)):\"\"!==(e=this.__patterns.number.read())?this._create_token(p.WORD,e):void 0},v.prototype._read_singles=function(t){var e=null;return\"(\"===t||\"[\"===t?e=this._create_token(p.START_EXPR,t):\")\"===t||\"]\"===t?e=this._create_token(p.END_EXPR,t):\"{\"===t?e=this._create_token(p.START_BLOCK,t):\"}\"===t?e=this._create_token(p.END_BLOCK,t):\";\"===t?e=this._create_token(p.SEMICOLON,t):\".\"===t&&d.test(this._input.peek(1))?e=this._create_token(p.DOT,t):\",\"===t&&(e=this._create_token(p.COMMA,t)),e&&this._input.next(),e},v.prototype._read_pair=function(t,e){var i=null;return\"#\"===t&&\"{\"===e&&(i=this._create_token(p.START_BLOCK,t+e)),i&&(this._input.next(),this._input.next()),i},v.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(\"\"!==t)return\"=\"===t?this._create_token(p.EQUALS,t):\"?.\"===t?this._create_token(p.DOT,t):this._create_token(p.OPERATOR,t)},v.prototype._read_non_javascript=function(t){var e=\"\";if(\"#\"===t){if(this._is_first_token()&&(e=this.__patterns.shebang.read()))return this._create_token(p.UNKNOWN,e.trim()+\"\\n\");if(e=this.__patterns.include.read())return this._create_token(p.UNKNOWN,e.trim()+\"\\n\");t=this._input.next();var i=\"#\";if(this._input.hasNext()&&this._input.testChar(f)){do{i+=t=this._input.next()}while(this._input.hasNext()&&\"#\"!==t&&\"=\"!==t);return\"#\"===t||(\"[\"===this._input.peek()&&\"]\"===this._input.peek(1)?(i+=\"[]\",this._input.next(),this._input.next()):\"{\"===this._input.peek()&&\"}\"===this._input.peek(1)&&(i+=\"{}\",this._input.next(),this._input.next())),this._create_token(p.WORD,i)}this._input.back()}else if(\"<\"===t&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(r.newline);)e+=this._input.next();return b=!0,this._create_token(p.COMMENT,e)}}else if(b&&\"-\"===t&&(e=this.__patterns.html_comment_end.read()))return b=!1,this._create_token(p.COMMENT,e);return null},v.prototype._read_comment=function(t){var e=null;if(\"/\"===t){var i=\"\";if(\"*\"===this._input.peek(1)){i=this.__patterns.block_comment.read();var n=l.get_directives(i);n&&\"start\"===n.ignore&&(i+=l.readIgnored(this._input)),i=i.replace(r.allLineBreaks,\"\\n\"),(e=this._create_token(p.BLOCK_COMMENT,i)).directives=n}else\"/\"===this._input.peek(1)&&(i=this.__patterns.comment.read(),e=this._create_token(p.COMMENT,i))}return e},v.prototype._read_string=function(t){if(\"`\"===t||\"'\"===t||'\"'===t){var e=this._input.next();return this.has_char_escapes=!1,e+=\"`\"===t?this._read_string_recursive(\"`\",!0,\"${\"):this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=function(t){for(var e=\"\",i=0,_=new n(t),s=null;_.hasNext();)if((s=_.match(/([\\s]|[^\\\\]|\\\\\\\\)+/g))&&(e+=s[0]),\"\\\\\"===_.peek()){if(_.next(),\"x\"===_.peek())s=_.match(/x([0-9A-Fa-f]{2})/g);else{if(\"u\"!==_.peek()){e+=\"\\\\\",_.hasNext()&&(e+=_.next());continue}s=_.match(/u([0-9A-Fa-f]{4})/g)}if(!s)return t;if((i=parseInt(s[1],16))>126&&i<=255&&0===s[0].indexOf(\"x\"))return t;if(i>=0&&i<32){e+=\"\\\\\"+s[0];continue}e+=34===i||39===i||92===i?\"\\\\\"+String.fromCharCode(i):String.fromCharCode(i)}return e}(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(r.allLineBreaks,\"\\n\"),this._create_token(p.STRING,e)}return null},v.prototype._allow_regexp_or_xml=function(t){return t.type===p.RESERVED&&h(t.text,[\"return\",\"case\",\"throw\",\"else\",\"do\",\"typeof\",\"yield\"])||t.type===p.END_EXPR&&\")\"===t.text&&t.opened.previous.type===p.RESERVED&&h(t.opened.previous.text,[\"if\",\"while\",\"for\"])||h(t.type,[p.COMMENT,p.START_EXPR,p.START_BLOCK,p.START,p.END_BLOCK,p.OPERATOR,p.EQUALS,p.EOF,p.SEMICOLON,p.COMMA])},v.prototype._read_regexp=function(t,e){if(\"/\"===t&&this._allow_regexp_or_xml(e)){for(var i=this._input.next(),n=!1,_=!1;this._input.hasNext()&&(n||_||this._input.peek()!==t)&&!this._input.testChar(r.newline);)i+=this._input.peek(),n?n=!1:(n=\"\\\\\"===this._input.peek(),\"[\"===this._input.peek()?_=!0:\"]\"===this._input.peek()&&(_=!1)),this._input.next();return this._input.peek()===t&&(i+=this._input.next(),i+=this._input.read(r.identifier)),this._create_token(p.STRING,i)}return null},v.prototype._read_xml=function(t,e){if(this._options.e4x&&\"<\"===t&&this._allow_regexp_or_xml(e)){var i=\"\",n=this.__patterns.xml.read_match();if(n){for(var _=n[2].replace(/^{\\s+/,\"{\").replace(/\\s+}$/,\"}\"),s=0===_.indexOf(\"{\"),a=0;n;){var o=!!n[1],u=n[2];if(!(n[n.length-1]||\"![CDATA[\"===u.slice(0,8))&&(u===_||s&&u.replace(/^{\\s+/,\"{\").replace(/\\s+}$/,\"}\"))&&(o?--a:++a),i+=n[0],a<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\\s\\S]*/g)[0]),i=i.replace(r.allLineBreaks,\"\\n\"),this._create_token(p.STRING,i)}}return null},v.prototype._read_string_recursive=function(t,e,i){var n,_;\"'\"===t?_=this.__patterns.single_quote:'\"'===t?_=this.__patterns.double_quote:\"`\"===t?_=this.__patterns.template_text:\"}\"===t&&(_=this.__patterns.template_expression);for(var s=_.read(),a=\"\";this._input.hasNext();){if((a=this._input.next())===t||!e&&r.newline.test(a)){this._input.back();break}\"\\\\\"===a&&this._input.hasNext()?(\"x\"===(n=this._input.peek())||\"u\"===n?this.has_char_escapes=!0:\"\\r\"===n&&\"\\n\"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):i&&(\"${\"===i&&\"$\"===a&&\"{\"===this._input.peek()&&(a+=this._input.next()),i===a&&(a+=\"`\"===t?this._read_string_recursive(\"}\",e,\"`\"):this._read_string_recursive(\"`\",e,\"${\"),this._input.hasNext()&&(a+=this._input.next()))),s+=a+=_.read()}return s},t.exports.d2=v,t.exports.o3=p,t.exports.L2=g.slice(),t.exports.O9=y.slice()}},e={};return function i(n){var _=e[n];if(void 0!==_)return _.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}(772)}()}));\n\\ No newline at end of file"
        },
        {
          "filename": "static/app/vender/tinymce/plugins/codeView/plugin.min.js",
          "status": "modified",
          "additions": 2,
          "deletions": 1,
          "patch": "@@ -31,7 +31,8 @@\n             $main.find('.form-target-save').hide();\n             \n             form.bind('onSave',function(data){\n-                setContent(editor,data.code);\n+\t\t\t\tif(!$main.find('.toc-editor-source').is(\":visible\")){return;}\n+                // setContent(editor,data.code);\n             });\n             editor.formCode = form;\n         }"
        },
        {
          "filename": "static/app/vender/zip/zipStream.js",
          "status": "modified",
          "additions": 293,
          "deletions": 199,
          "patch": "@@ -1,200 +1,294 @@\n-\n class Crc32 {\n-\tconstructor () {\n-\t  this.crc = -1\n-\t}\n-  \n-\tappend (data) {\n-\t  var crc = this.crc | 0; var table = this.table\n-\t  for (var offset = 0, len = data.length | 0; offset < len; offset++) {\n-\t\tcrc = (crc >>> 8) ^ table[(crc ^ data[offset]) & 0xFF]\n-\t  }\n-\t  this.crc = crc\n-\t}\n-  \n-\tget () {\n-\t  return ~this.crc\n-\t}\n-  }\n-  Crc32.prototype.table = (() => {\n-\tvar i; var j; var t; var table = []\n-\tfor (i = 0; i < 256; i++) {\n-\t  t = i\n-\t  for (j = 0; j < 8; j++) {\n-\t\tt = (t & 1)\n-\t\t  ? (t >>> 1) ^ 0xEDB88320\n-\t\t  : t >>> 1\n-\t  }\n-\t  table[i] = t\n-\t}\n-\treturn table\n-  })()\n-  \n-  const getDataHelper = byteLength => {\n-\tvar uint8 = new Uint8Array(byteLength)\n-\treturn {\n-\t  array: uint8,\n-\t  view: new DataView(uint8.buffer)\n-\t}\n-  }\n-  \n-  const pump = zipObj => zipObj.reader.read().then(chunk => {\n-\tif (chunk.done) return zipObj.writeFooter()\n-\tconst outputData = chunk.value\n-\tzipObj.crc.append(outputData)\n-\tzipObj.uncompressedLength += outputData.length\n-\tzipObj.compressedLength += outputData.length\n-\tzipObj.ctrl.enqueue(outputData)\n-  })\n-  \n-  /**\n-   * [createWriter description]\n-   * @param  {Object} underlyingSource [description]\n-   * @return {Boolean}                  [description]\n-   */\n-  function createWriter (underlyingSource) {\n-\tconst files = Object.create(null)\n-\tconst filenames = []\n-\tconst encoder = new TextEncoder()\n-\tlet offset = 0\n-\tlet activeZipIndex = 0\n-\tlet ctrl\n-\tlet activeZipObject, closed\n-  \n-\tfunction next () {\n-\t  activeZipIndex++\n-\t  activeZipObject = files[filenames[activeZipIndex]]\n-\t  if (activeZipObject) processNextChunk()\n-\t  else if (closed) closeZip()\n-\t}\n-  \n-\tvar zipWriter = {\n-\t  enqueue (fileLike) {\n-\t\tif (closed) throw new TypeError('Cannot enqueue a chunk into a readable stream that is closed or has been requested to be closed')\n-  \n-\t\tlet name = fileLike.name.trim()\n-\t\tconst date = new Date(typeof fileLike.lastModified === 'undefined' ? Date.now() : fileLike.lastModified)\n-  \n-\t\tif (fileLike.directory && !name.endsWith('/')) name += '/'\n-\t\tif (files[name]) throw new Error('File already exists.')\n-  \n-\t\tconst nameBuf = encoder.encode(name)\n-\t\tfilenames.push(name)\n-  \n-\t\tconst zipObject = files[name] = {\n-\t\t  level: 0,\n-\t\t  ctrl,\n-\t\t  directory: !!fileLike.directory,\n-\t\t  nameBuf,\n-\t\t  comment: encoder.encode(fileLike.comment || ''),\n-\t\t  compressedLength: 0,\n-\t\t  uncompressedLength: 0,\n-\t\t  writeHeader () {\n-\t\t\tvar header = getDataHelper(26)\n-\t\t\tvar data = getDataHelper(30 + nameBuf.length)\n-  \n-\t\t\tzipObject.offset = offset\n-\t\t\tzipObject.header = header\n-\t\t\tif (zipObject.level !== 0 && !zipObject.directory) {\n-\t\t\t  header.view.setUint16(4, 0x0800)\n-\t\t\t}\n-\t\t\theader.view.setUint32(0, 0x14000808)\n-\t\t\theader.view.setUint16(6, (((date.getHours() << 6) | date.getMinutes()) << 5) | date.getSeconds() / 2, true)\n-\t\t\theader.view.setUint16(8, ((((date.getFullYear() - 1980) << 4) | (date.getMonth() + 1)) << 5) | date.getDate(), true)\n-\t\t\theader.view.setUint16(22, nameBuf.length, true)\n-\t\t\tdata.view.setUint32(0, 0x504b0304)\n-\t\t\tdata.array.set(header.array, 4)\n-\t\t\tdata.array.set(nameBuf, 30)\n-\t\t\toffset += data.array.length\n-\t\t\tctrl.enqueue(data.array)\n-\t\t  },\n-\t\t  writeFooter () {\n-\t\t\tvar footer = getDataHelper(16)\n-\t\t\tfooter.view.setUint32(0, 0x504b0708)\n-  \n-\t\t\tif (zipObject.crc) {\n-\t\t\t  zipObject.header.view.setUint32(10, zipObject.crc.get(), true)\n-\t\t\t  zipObject.header.view.setUint32(14, zipObject.compressedLength, true)\n-\t\t\t  zipObject.header.view.setUint32(18, zipObject.uncompressedLength, true)\n-\t\t\t  footer.view.setUint32(4, zipObject.crc.get(), true)\n-\t\t\t  footer.view.setUint32(8, zipObject.compressedLength, true)\n-\t\t\t  footer.view.setUint32(12, zipObject.uncompressedLength, true)\n-\t\t\t}\n-  \n-\t\t\tctrl.enqueue(footer.array)\n-\t\t\toffset += zipObject.compressedLength + 16\n-\t\t\tnext()\n-\t\t  },\n-\t\t  fileLike\n-\t\t}\n-  \n-\t\tif (!activeZipObject) {\n-\t\t  activeZipObject = zipObject\n-\t\t  processNextChunk()\n-\t\t}\n-\t  },\n-\t  close () {\n-\t\tif (closed) throw new TypeError('Cannot close a readable stream that has already been requested to be closed')\n-\t\tif (!activeZipObject) closeZip()\n-\t\tclosed = true\n-\t  }\n-\t}\n-  \n-\tfunction closeZip () {\n-\t  var length = 0\n-\t  var index = 0\n-\t  var indexFilename, file\n-\t  for (indexFilename = 0; indexFilename < filenames.length; indexFilename++) {\n-\t\tfile = files[filenames[indexFilename]]\n-\t\tlength += 46 + file.nameBuf.length + file.comment.length\n-\t  }\n-\t  const data = getDataHelper(length + 22)\n-\t  for (indexFilename = 0; indexFilename < filenames.length; indexFilename++) {\n-\t\tfile = files[filenames[indexFilename]]\n-\t\tdata.view.setUint32(index, 0x504b0102)\n-\t\tdata.view.setUint16(index + 4, 0x1400)\n-\t\tdata.array.set(file.header.array, index + 6)\n-\t\tdata.view.setUint16(index + 32, file.comment.length, true)\n-\t\tif (file.directory) {\n-\t\t  data.view.setUint8(index + 38, 0x10)\n-\t\t}\n-\t\tdata.view.setUint32(index + 42, file.offset, true)\n-\t\tdata.array.set(file.nameBuf, index + 46)\n-\t\tdata.array.set(file.comment, index + 46 + file.nameBuf.length)\n-\t\tindex += 46 + file.nameBuf.length + file.comment.length\n-\t  }\n-\t  data.view.setUint32(index, 0x504b0506)\n-\t  data.view.setUint16(index + 8, filenames.length, true)\n-\t  data.view.setUint16(index + 10, filenames.length, true)\n-\t  data.view.setUint32(index + 12, length, true)\n-\t  data.view.setUint32(index + 16, offset, true)\n-\t  ctrl.enqueue(data.array)\n-\t  ctrl.close()\n-\t}\n-  \n-\tfunction processNextChunk () {\n-\t  if (!activeZipObject) return\n-\t  if (activeZipObject.directory) return activeZipObject.writeFooter(activeZipObject.writeHeader())\n-\t  if (activeZipObject.reader) return pump(activeZipObject)\n-\t  if (activeZipObject.fileLike.stream) {\n-\t\tactiveZipObject.crc = new Crc32()\n-\t\tactiveZipObject.reader = activeZipObject.fileLike.stream().getReader()\n-\t\tactiveZipObject.writeHeader()\n-\t  } else next()\n-\t}\n-\treturn new ReadableStream({\n-\t  start: c => {\n-\t\tctrl = c\n-\t\tunderlyingSource.start && Promise.resolve(underlyingSource.start(zipWriter))\n-\t  },\n-\t  pull () {\n-\t\treturn processNextChunk() || (\n-\t\t  underlyingSource.pull &&\n-\t\t  Promise.resolve(underlyingSource.pull(zipWriter))\n-\t\t)\n-\t  }\n-\t})\n-  }\n-  \n-  window.ZIP = createWriter\n-  \n\\ No newline at end of file\n+    constructor() {\n+        this.crc = -1\n+    }\n+\n+    append(data) {\n+        var crc = this.crc | 0;\n+        var table = this.table\n+        for (var offset = 0, len = data.length | 0; offset < len; offset++) {\n+            crc = (crc >>> 8) ^ table[(crc ^ data[offset]) & 0xFF]\n+        }\n+        this.crc = crc\n+    }\n+\n+    get() {\n+        return ~this.crc\n+    }\n+}\n+\n+Crc32.prototype.table = (() => {\n+    var i;\n+    var j;\n+    var t;\n+    var table = []\n+    for (i = 0; i < 256; i++) {\n+        t = i\n+        for (j = 0; j < 8; j++) {\n+            t = (t & 1) ?\n+                (t >>> 1) ^ 0xEDB88320 :\n+                t >>> 1\n+        }\n+        table[i] = t\n+    }\n+    return table\n+})()\n+\n+const getDataHelper = byteLength => {\n+    var uint8 = new Uint8Array(byteLength)\n+    return {\n+        array: uint8,\n+        view: new DataView(uint8.buffer)\n+    }\n+}\n+\n+const pump = zipObj => zipObj.reader.read().then(chunk => {\n+    if (chunk.done) return zipObj.writeFooter()\n+    const outputData = chunk.value\n+    zipObj.crc.append(outputData)\n+    zipObj.uncompressedLength += outputData.length\n+    zipObj.compressedLength += outputData.length\n+    zipObj.ctrl.enqueue(outputData)\n+})\n+\n+/**\n+ * [createWriter description]\n+ * @param  {Object} underlyingSource [description]\n+ * @return {Boolean}                  [description]\n+ */\n+function createWriter(underlyingSource) {\n+    const files = Object.create(null)\n+    const filenames = []\n+    const encoder = new TextEncoder()\n+    let offset = 0\n+    let activeZipIndex = 0\n+    let ctrl\n+    let activeZipObject, closed\n+    let zip64 = false\n+    let filesSize = 0\n+\n+    function next() {\n+        activeZipIndex++\n+        activeZipObject = files[filenames[activeZipIndex]]\n+        if (activeZipObject) processNextChunk()\n+        else if (closed) closeZip()\n+    }\n+\n+    var zipWriter = {\n+        enqueue(fileLike) {\n+            if (closed) throw new TypeError('Cannot enqueue a chunk into a readable stream that is closed or has been requested to be closed')\n+\n+            let name = fileLike.name.trim()\n+            const date = new Date(typeof fileLike.lastModified === 'undefined' ? Date.now() : fileLike.lastModified)\n+\n+            if (fileLike.directory && !name.endsWith('/')) name += '/'\n+            if (files[name]) throw new Error('File already exists.')\n+            filesSize += fileLike.size\n+            zip64 = (filesSize >= 0xffffffff)\n+\n+            const nameBuf = encoder.encode(name)\n+            filenames.push(name)\n+\n+\n+            const zipObject = files[name] = {\n+                level: 0,\n+                ctrl,\n+                directory: !!fileLike.directory,\n+                nameBuf,\n+                comment: encoder.encode(fileLike.comment || ''),\n+                compressedLength: 0,\n+                uncompressedLength: 0,\n+                extraArray: null,\n+\n+                writeHeader() {\n+                    var header = getDataHelper(26)\n+                    var data = getDataHelper(30 + nameBuf.length)\n+\n+                    zipObject.header = header\n+                    zipObject.offset = offset\n+                    if (zipObject.level !== 0 && !zipObject.directory) {\n+                        header.view.setUint16(4, 0x0800)\n+                    }\n+                    header.view.setUint32(0, 0x14000808)\n+\n+                    if (zip64) //Zip64 Min ver.\n+                        header.view.setUint16(0, 45, true)\n+\n+                    header.view.setUint16(6, (((date.getHours() << 6) | date.getMinutes()) << 5) | date.getSeconds() / 2, true)\n+                    header.view.setUint16(8, ((((date.getFullYear() - 1980) << 4) | (date.getMonth() + 1)) << 5) | date.getDate(), true)\n+                    header.view.setUint16(22, nameBuf.length, true)\n+                    data.view.setUint32(0, 0x504b0304)\n+                    data.array.set(header.array, 4)\n+                    data.array.set(nameBuf, 30)\n+                    offset += data.array.length\n+                    ctrl.enqueue(data.array)\n+                },\n+\n+                writeFooter() {\n+                    if (zipObject.compressedLength && zipObject.compressedLength >= 0xffffffff) {\n+                        zipObject.header.view.setUint16(0, 45)\n+                        zip64 = true\n+                    }\n+\n+                    var footer = getDataHelper(zip64 ? 24 : 16)\n+                    footer.view.setUint32(0, 0x504b0708)\n+\n+                    if (zipObject.crc) {\n+                        zipObject.header.view.setUint32(10, zipObject.crc.get(), true)\n+                        footer.view.setUint32(4, zipObject.crc.get(), true)\n+                    }\n+\n+                    if (zip64) {\n+                        let zip64Extra = getDataHelper(28)\n+                        zipObject.header.view.setUint32(14, 0xffffffff, true)\n+                        zipObject.header.view.setUint32(18, 0xffffffff, true)\n+                        footer.view.setBigUint64(8, BigInt(zipObject.compressedLength), true)\n+                        footer.view.setBigInt64(16, BigInt(zipObject.uncompressedLength), true)\n+                        zip64Extra.view.setUint16(0, 0x0001, true)\n+                        zip64Extra.view.setUint16(2, 24, true)\n+                        zip64Extra.view.setBigUint64(4, BigInt(zipObject.uncompressedLength), true)\n+                        zip64Extra.view.setBigUint64(12, BigInt(zipObject.compressedLength), true)\n+                        zip64Extra.view.setBigUint64(20, BigInt(files[name].offset), true)\n+                        zipObject.extraArray = zip64Extra.array\n+                    } else {\n+                        zipObject.header.view.setUint32(14, zipObject.compressedLength, true)\n+                        zipObject.header.view.setUint32(18, zipObject.uncompressedLength, true)\n+                        \n+                        footer.view.setUint32(8, zipObject.compressedLength, true)\n+                        footer.view.setUint32(12, zipObject.uncompressedLength, true)\n+\n+                    }\n+\n+                    ctrl.enqueue(footer.array)\n+                    offset += zipObject.compressedLength + footer.array.length\n+                    next()\n+                },\n+                fileLike\n+            }\n+\n+            if (!activeZipObject) {\n+                activeZipObject = zipObject\n+                processNextChunk()\n+            }\n+        },\n+        close() {\n+            if (closed) throw new TypeError('Cannot close a readable stream that has already been requested to be closed')\n+            if (!activeZipObject) closeZip()\n+            closed = true\n+        }\n+    }\n+\n+    function closeZip() {\n+        var length = 0\n+        var index = 0\n+        var indexFilename, file, cdOffset, totalEntries = filenames.length\n+        var zip64 = false\n+        for (indexFilename = 0; indexFilename < totalEntries; indexFilename++) {\n+            file = files[filenames[indexFilename]]\n+            length += 46 + file.nameBuf.length + file.comment.length\n+            if (file.extraArray) {\n+                length += file.extraArray.length\n+                zip64 = true\n+            }\n+        }\n+        cdOffset = offset\n+        if (cdOffset + length >= 0xffffffff || totalEntries >= 0xffff)\n+            zip64 = true\n+\n+        const data = getDataHelper(length + (zip64 ? 56 + 20 : 0) + 22)\n+        for (indexFilename = 0; indexFilename < totalEntries; indexFilename++) {\n+            file = files[filenames[indexFilename]]\n+            data.view.setUint32(index, 0x504b0102)\n+            data.view.setUint16(index + 4, 0x1400)\n+            data.array.set(file.header.array, index + 6)\n+            if (file.extraArray) {\n+                data.view.setUint16(index + 30, file.extraArray.length, true)\n+            }\n+            data.view.setUint16(index + 32, file.comment.length, true)\n+            if (file.directory) {\n+                data.view.setUint8(index + 38, 0x10)\n+            }\n+            if (file.offset >= 0xffffffff)\n+                data.view.setUint32(index + 42, 0xffffffff, true)\n+            else\n+                data.view.setUint32(index + 42, file.offset, true)\n+\n+            data.array.set(file.nameBuf, index + 46)\n+            var extraLength = 0\n+            if (file.extraArray) {\n+                extraLength = file.extraArray.length\n+                data.array.set(file.extraArray, index + 46 + file.nameBuf.length)\n+            }\n+            data.array.set(file.comment, index + 46 + file.nameBuf.length + extraLength)\n+            index += 46 + file.nameBuf.length + file.comment.length + extraLength\n+        }\n+        if (zip64) {\n+            // Zip64 End of Central Directory record\n+            // 0: Signature\n+            data.view.setUint32(index, 0x504b0606);\n+            // 4: Size of zip64 EOCD\n+            data.view.setBigUint64(index + 4, BigInt(44), true);\n+            // 12: Version made By\n+            data.view.setUint16(index + 12, 45, true);\n+            // 14: version needed to extract\n+            data.view.setUint16(index + 14, 45, true);\n+            // 16: number of this disk\n+            // 20: number of the disk with the start of CD\n+            // 24: total number of entries in the central directory on this disk\n+            data.view.setBigUint64(index + 24, BigInt(totalEntries), true);\n+            // 32: total number of entries in the central directory\n+            data.view.setBigUint64(index + 32, BigInt(totalEntries), true);\n+            // 40: size of the central directory\n+            data.view.setBigUint64(index + 40, BigInt(length), true);\n+            // 48: Offset of start of central directory\n+            data.view.setBigUint64(index + 48, BigInt(cdOffset), true);\n+            index += 56\n+\n+            // Zip64 End of Central Directory locator\n+            // 0: Signature\n+            data.view.setUint32(index, 0x504b0607);\n+            // 4: number of the disk with the zip64 EOCD\n+            // 8: Offset of the zip64 EOCD\n+            data.view.setBigUint64(index + 8, BigInt(cdOffset + length), true);\n+            // 16: total number of disks\n+            data.view.setUint32(index + 16, 1, true);\n+            index += 20\n+\n+            // EOCD must set these values to 0xffff and 0xffffffff when using ZIP64 format\n+            totalEntries = 0xffff;\n+            cdOffset = 0xffffffff;\n+        }\n+        data.view.setUint32(index, 0x504b0506)\n+        data.view.setUint16(index + 8, totalEntries, true)\n+        data.view.setUint16(index + 10, totalEntries, true)\n+        data.view.setUint32(index + 12, length, true)\n+        data.view.setUint32(index + 16, cdOffset, true)\n+        ctrl.enqueue(data.array)\n+        ctrl.close()\n+    }\n+\n+    function processNextChunk() {\n+        if (!activeZipObject) return\n+        if (activeZipObject.directory) return activeZipObject.writeFooter(activeZipObject.writeHeader())\n+        if (activeZipObject.reader) return pump(activeZipObject)\n+        if (activeZipObject.fileLike.stream) {\n+            activeZipObject.crc = new Crc32()\n+            activeZipObject.reader = activeZipObject.fileLike.stream().getReader()\n+            activeZipObject.writeHeader()\n+        } else next()\n+    }\n+    return new ReadableStream({\n+        start: c => {\n+            ctrl = c\n+            underlyingSource.start && Promise.resolve(underlyingSource.start(zipWriter))\n+        },\n+        pull() {\n+            return processNextChunk() || (\n+                underlyingSource.pull &&\n+                Promise.resolve(underlyingSource.pull(zipWriter))\n+            )\n+        }\n+    })\n+}\n+\n+window.ZIP = createWriter\n\\ No newline at end of file"
        },
        {
          "filename": "static/style/dist/main.css",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "static/style/dist/sdk.css",
          "status": "modified",
          "additions": 2,
          "deletions": 2,
          "patch": null
        },
        {
          "filename": "static/style/lib/main.css",
          "status": "modified",
          "additions": 1,
          "deletions": 1,
          "patch": null
        }
      ],
      "file_patterns": {
        "security_files": 0,
        "config_files": 27,
        "dependency_files": 4,
        "test_files": 0,
        "unique_directories": 50,
        "max_directory_depth": 6
      },
      "context": {
        "surrounding_commits": [
          {
            "sha": "ac8b962a3567946bd2c0606168d8f0ca14988fa0",
            "date": "2025-01-10T11:44:56Z",
            "author_login": "kalcaddle"
          },
          {
            "sha": "afdc7119be159cbdcd9a6a674bab36979b6e101d",
            "date": "2025-01-10T11:44:50Z",
            "author_login": "kalcaddle"
          },
          {
            "sha": "2d016e241ba5b46f252f36f55bcf86976e46e8b9",
            "date": "2025-01-09T11:44:49Z",
            "author_login": "kalcaddle"
          },
          {
            "sha": "b4fe4739cc95dc07676f15b717fed20e3a6f0f92",
            "date": "2025-01-09T11:44:43Z",
            "author_login": "kalcaddle"
          },
          {
            "sha": "5b99c4ebf6e5108499b5efb86c0993e258e7d43d",
            "date": "2024-12-05T12:58:41Z",
            "author_login": "kalcaddle"
          }
        ]
      }
    }
  },
  "vulnerability_details": {
    "cvss_score": 7.3,
    "cvss_vector": "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L",
    "cwe_id": "CWE-918",
    "description": "A vulnerability was found in kalcaddle kodbox up to 1.48. It has been rated as critical. Affected by this issue is the function cover of the file plugins/fileThumb/app.php. The manipulation of the argument path leads to server-side request forgery. The attack may be launched remotely. The exploit has been disclosed to the public and may be used. Upgrading to version 1.48.04 is able to address this issue. The patch is identified as 63a4d5708d210f119c24afd941d01a943e25334c. It is recommended to upgrade the affected component. VDB-248210 is the identifier assigned to this vulnerability.",
    "attack_vector": "NETWORK",
    "attack_complexity": "LOW"
  },
  "temporal_data": {
    "published_date": "2023-12-16T08:15:06.663",
    "last_modified": "2024-11-21T08:44:40.643",
    "fix_date": "2023-12-14T17:13:01Z"
  },
  "references": [
    {
      "url": "https://github.com/kalcaddle/kodbox/commit/63a4d5708d210f119c24afd941d01a943e25334c",
      "source": "cna@vuldb.com",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://github.com/kalcaddle/kodbox/releases/tag/1.48.04",
      "source": "cna@vuldb.com",
      "tags": [
        "Release Notes"
      ]
    },
    {
      "url": "https://note.zhaoj.in/share/jSsPAWT1pKsq",
      "source": "cna@vuldb.com",
      "tags": [
        "Permissions Required"
      ]
    },
    {
      "url": "https://vuldb.com/?ctiid.248210",
      "source": "cna@vuldb.com",
      "tags": [
        "Permissions Required",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://vuldb.com/?id.248210",
      "source": "cna@vuldb.com",
      "tags": [
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://github.com/kalcaddle/kodbox/commit/63a4d5708d210f119c24afd941d01a943e25334c",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://github.com/kalcaddle/kodbox/releases/tag/1.48.04",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Release Notes"
      ]
    },
    {
      "url": "https://note.zhaoj.in/share/jSsPAWT1pKsq",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Permissions Required"
      ]
    },
    {
      "url": "https://vuldb.com/?ctiid.248210",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Permissions Required",
        "Third Party Advisory"
      ]
    },
    {
      "url": "https://vuldb.com/?id.248210",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Third Party Advisory"
      ]
    }
  ],
  "collection_metadata": {
    "collected_at": "2025-01-11T23:06:41.578862",
    "processing_status": "enhanced"
  }
}