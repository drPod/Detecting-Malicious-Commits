{
  "cve_id": "CVE-2024-25639",
  "github_data": {
    "repository": "khoj-ai/khoj",
    "fix_commit": "1dfd6d7391862d3564db7f4875216880b73cb6cc",
    "related_commits": [
      "1dfd6d7391862d3564db7f4875216880b73cb6cc",
      "1dfd6d7391862d3564db7f4875216880b73cb6cc"
    ],
    "patch_url": "https://github.com/khoj-ai/khoj/commit/1dfd6d7391862d3564db7f4875216880b73cb6cc.patch",
    "fix_commit_details": {
      "sha": "1dfd6d7391862d3564db7f4875216880b73cb6cc",
      "commit_date": "2024-06-04T05:59:21Z",
      "author": {
        "login": "debanjum",
        "type": "User",
        "stats": null
      },
      "commit_message": {
        "title": "Merge pull request from GHSA-h2q2-vch3-72qm",
        "length": 110,
        "has_description": true,
        "references_issue": false
      },
      "stats": {
        "total": 867,
        "additions": 732,
        "deletions": 135
      },
      "files": [
        {
          "filename": "src/interface/desktop/assets/purify.min.js",
          "status": "added",
          "additions": 3,
          "deletions": 0,
          "patch": "@@ -0,0 +1,3 @@\n+/*! @license DOMPurify 3.1.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.2/LICENSE */\n+!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){\"use strict\";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}=\"undefined\"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),s||(s=function(e,t){return new e(...t)});const u=b(Array.prototype.forEach),m=b(Array.prototype.pop),p=b(Array.prototype.push),f=b(String.prototype.toLowerCase),d=b(String.prototype.toString),h=b(String.prototype.match),g=b(String.prototype.replace),T=b(String.prototype.indexOf),_=b(String.prototype.trim),y=b(Object.prototype.hasOwnProperty),E=b(RegExp.prototype.test),A=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(N,t)});var N;function b(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function S(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if(\"string\"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function R(e){for(let t=0;t<e.length;t++){y(e,t)||(e[t]=null)}return e}function w(t){const n=l(null);for(const[o,r]of e(t)){y(t,o)&&(Array.isArray(r)?n[o]=R(r):r&&\"object\"==typeof r&&r.constructor===Object?n[o]=w(r):n[o]=r)}return n}function C(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return b(n.get);if(\"function\"==typeof n.value)return b(n.value)}e=o(e)}return function(){return null}}const v=i([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),L=i([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),D=i([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),O=i([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),x=i([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),k=i([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),M=i([\"#text\"]),I=i([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),U=i([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),P=i([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),F=i([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),H=a(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),z=a(/<%[\\w\\W]*|[\\w\\W]*%>/gm),B=a(/\\${[\\w\\W]*}/gm),W=a(/^data-[\\-\\w.\\u00B7-\\uFFFF]/),G=a(/^aria-[\\-\\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),j=a(/^(?:\\w+script|data):/i),X=a(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),q=a(/^html$/i),$=a(/^[a-z][.\\w]*(-[.\\w]+)+$/i);var K=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:z,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:G,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:X,DOCTYPE_NAME:q,CUSTOM_ELEMENT:$});const V=function(){return\"undefined\"==typeof window?null:window},Z=function(e,t){if(\"object\"!=typeof e||\"function\"!=typeof e.createPolicy)return null;let n=null;const o=\"data-tt-policy-suffix\";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r=\"dompurify\"+(n?\"#\"+n:\"\");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn(\"TrustedTypes policy \"+r+\" could not be created.\"),null}};var J=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();const o=e=>t(e);if(o.version=\"3.1.2\",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:N,Node:b,Element:R,NodeFilter:H,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:B,DOMParser:W,trustedTypes:G}=n,j=R.prototype,X=C(j,\"cloneNode\"),$=C(j,\"nextSibling\"),J=C(j,\"childNodes\"),Q=C(j,\"parentNode\");if(\"function\"==typeof N){const e=r.createElement(\"template\");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ee,te=\"\";const{implementation:ne,createNodeIterator:oe,createDocumentFragment:re,getElementsByTagName:ie}=r,{importNode:ae}=a;let le={};o.isSupported=\"function\"==typeof e&&\"function\"==typeof Q&&ne&&void 0!==ne.createHTMLDocument;const{MUSTACHE_EXPR:ce,ERB_EXPR:se,TMPLIT_EXPR:ue,DATA_ATTR:me,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:de,CUSTOM_ELEMENT:he}=K;let{IS_ALLOWED_URI:ge}=K,Te=null;const _e=S({},[...v,...L,...D,...x,...M]);let ye=null;const Ee=S({},[...I,...U,...P,...F]);let Ae=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,be=null,Se=!0,Re=!0,we=!1,Ce=!0,ve=!1,Le=!0,De=!1,Oe=!1,xe=!1,ke=!1,Me=!1,Ie=!1,Ue=!0,Pe=!1;const Fe=\"user-content-\";let He=!0,ze=!1,Be={},We=null;const Ge=S({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]);let Ye=null;const je=S({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]);let Xe=null;const qe=S({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),$e=\"http://www.w3.org/1998/Math/MathML\",Ke=\"http://www.w3.org/2000/svg\",Ve=\"http://www.w3.org/1999/xhtml\";let Ze=Ve,Je=!1,Qe=null;const et=S({},[$e,Ke,Ve],d);let tt=null;const nt=[\"application/xhtml+xml\",\"text/html\"],ot=\"text/html\";let rt=null,it=null;const at=255,lt=r.createElement(\"form\"),ct=function(e){return e instanceof RegExp||e instanceof Function},st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!it||it!==e){if(e&&\"object\"==typeof e||(e={}),e=w(e),tt=-1===nt.indexOf(e.PARSER_MEDIA_TYPE)?ot:e.PARSER_MEDIA_TYPE,rt=\"application/xhtml+xml\"===tt?d:f,Te=y(e,\"ALLOWED_TAGS\")?S({},e.ALLOWED_TAGS,rt):_e,ye=y(e,\"ALLOWED_ATTR\")?S({},e.ALLOWED_ATTR,rt):Ee,Qe=y(e,\"ALLOWED_NAMESPACES\")?S({},e.ALLOWED_NAMESPACES,d):et,Xe=y(e,\"ADD_URI_SAFE_ATTR\")?S(w(qe),e.ADD_URI_SAFE_ATTR,rt):qe,Ye=y(e,\"ADD_DATA_URI_TAGS\")?S(w(je),e.ADD_DATA_URI_TAGS,rt):je,We=y(e,\"FORBID_CONTENTS\")?S({},e.FORBID_CONTENTS,rt):Ge,Ne=y(e,\"FORBID_TAGS\")?S({},e.FORBID_TAGS,rt):{},be=y(e,\"FORBID_ATTR\")?S({},e.FORBID_ATTR,rt):{},Be=!!y(e,\"USE_PROFILES\")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ve=e.SAFE_FOR_TEMPLATES||!1,Le=!1!==e.SAFE_FOR_XML,De=e.WHOLE_DOCUMENT||!1,ke=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_TRUSTED_TYPE||!1,xe=e.FORCE_BODY||!1,Ue=!1!==e.SANITIZE_DOM,Pe=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||Y,Ze=e.NAMESPACE||Ve,Ae=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&\"boolean\"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ve&&(Re=!1),Me&&(ke=!0),Be&&(Te=S({},M),ye=[],!0===Be.html&&(S(Te,v),S(ye,I)),!0===Be.svg&&(S(Te,L),S(ye,U),S(ye,F)),!0===Be.svgFilters&&(S(Te,D),S(ye,U),S(ye,F)),!0===Be.mathMl&&(S(Te,x),S(ye,P),S(ye,F))),e.ADD_TAGS&&(Te===_e&&(Te=w(Te)),S(Te,e.ADD_TAGS,rt)),e.ADD_ATTR&&(ye===Ee&&(ye=w(ye)),S(ye,e.ADD_ATTR,rt)),e.ADD_URI_SAFE_ATTR&&S(Xe,e.ADD_URI_SAFE_ATTR,rt),e.FORBID_CONTENTS&&(We===Ge&&(We=w(We)),S(We,e.FORBID_CONTENTS,rt)),He&&(Te[\"#text\"]=!0),De&&S(Te,[\"html\",\"head\",\"body\"]),Te.table&&(S(Te,[\"tbody\"]),delete Ne.tbody),e.TRUSTED_TYPES_POLICY){if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML(\"\")}else void 0===ee&&(ee=Z(G,c)),null!==ee&&\"string\"==typeof te&&(te=ee.createHTML(\"\"));i&&i(e),it=e}},ut=S({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),mt=S({},[\"foreignobject\",\"annotation-xml\"]),pt=S({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),ft=S({},[...L,...D,...O]),dt=S({},[...x,...k]),ht=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:\"template\"});const n=f(e.tagName),o=f(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===Ve?\"svg\"===n:t.namespaceURI===$e?\"svg\"===n&&(\"annotation-xml\"===o||ut[o]):Boolean(ft[n]):e.namespaceURI===$e?t.namespaceURI===Ve?\"math\"===n:t.namespaceURI===Ke?\"math\"===n&&mt[o]:Boolean(dt[n]):e.namespaceURI===Ve?!(t.namespaceURI===Ke&&!mt[o])&&(!(t.namespaceURI===$e&&!ut[o])&&(!dt[n]&&(pt[n]||!ft[n]))):!(\"application/xhtml+xml\"!==tt||!Qe[e.namespaceURI]))},gt=function(e){p(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Tt=function(e,t){try{p(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),\"is\"===e&&!ye[e])if(ke||Me)try{gt(t)}catch(e){}else try{t.setAttribute(e,\"\")}catch(e){}},_t=function(e){let t=null,n=null;if(xe)e=\"<remove></remove>\"+e;else{const t=h(e,/^[\\r\\n\\t ]+/);n=t&&t[0]}\"application/xhtml+xml\"===tt&&Ze===Ve&&(e='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+e+\"</body></html>\");const o=ee?ee.createHTML(e):e;if(Ze===Ve)try{t=(new W).parseFromString(o,tt)}catch(e){}if(!t||!t.documentElement){t=ne.createDocument(Ze,\"template\",null);try{t.documentElement.innerHTML=Je?te:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),Ze===Ve?ie.call(t,De?\"html\":\"body\")[0]:De?t.documentElement:i},yt=function(e){return oe.call(e.ownerDocument||e,e,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT|H.SHOW_PROCESSING_INSTRUCTION|H.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof B&&(void 0!==e.__depth&&\"number\"!=typeof e.__depth||void 0!==e.__removalCount&&\"number\"!=typeof e.__removalCount||\"string\"!=typeof e.nodeName||\"string\"!=typeof e.textContent||\"function\"!=typeof e.removeChild||!(e.attributes instanceof z)||\"function\"!=typeof e.removeAttribute||\"function\"!=typeof e.setAttribute||\"string\"!=typeof e.namespaceURI||\"function\"!=typeof e.insertBefore||\"function\"!=typeof e.hasChildNodes)},At=function(e){return\"function\"==typeof b&&e instanceof b},Nt=function(e,t,n){le[e]&&u(le[e],(e=>{e.call(o,t,n,it)}))},bt=function(e){let t=null;if(Nt(\"beforeSanitizeElements\",e,null),Et(e))return gt(e),!0;const n=rt(e.nodeName);if(Nt(\"uponSanitizeElement\",e,{tagName:n,allowedTags:Te}),e.hasChildNodes()&&!At(e.firstElementChild)&&E(/<[/\\w]/g,e.innerHTML)&&E(/<[/\\w]/g,e.textContent))return gt(e),!0;if(7===e.nodeType)return gt(e),!0;if(Le&&8===e.nodeType&&E(/<[/\\w]/g,e.data))return gt(e),!0;if(!Te[n]||Ne[n]){if(!Ne[n]&&Rt(n)){if(Ae.tagNameCheck instanceof RegExp&&E(Ae.tagNameCheck,n))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))return!1}if(He&&!We[n]){const t=Q(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=X(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,$(e))}}}return gt(e),!0}return e instanceof R&&!ht(e)?(gt(e),!0):\"noscript\"!==n&&\"noembed\"!==n&&\"noframes\"!==n||!E(/<\\/no(script|embed|frames)/i,e.innerHTML)?(ve&&3===e.nodeType&&(t=e.textContent,u([ce,se,ue],(e=>{t=g(t,e,\" \")})),e.textContent!==t&&(p(o.removed,{element:e.cloneNode()}),e.textContent=t)),Nt(\"afterSanitizeElements\",e,null),!1):(gt(e),!0)},St=function(e,t,n){if(Ue&&(\"id\"===t||\"name\"===t)&&(n in r||n in lt))return!1;if(Re&&!be[t]&&E(me,t));else if(Se&&E(pe,t));else if(!ye[t]||be[t]){if(!(Rt(e)&&(Ae.tagNameCheck instanceof RegExp&&E(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&E(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||\"is\"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&E(Ae.tagNameCheck,n)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))))return!1}else if(Xe[t]);else if(E(ge,g(n,de,\"\")));else if(\"src\"!==t&&\"xlink:href\"!==t&&\"href\"!==t||\"script\"===e||0!==T(n,\"data:\")||!Ye[e]){if(we&&!E(fe,g(n,de,\"\")));else if(n)return!1}else;return!0},Rt=function(e){return\"annotation-xml\"!==e&&h(e,he)},wt=function(e){Nt(\"beforeSanitizeAttributes\",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:ye};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=rt(a);let p=\"value\"===a?c:_(c);if(n.attrName=s,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,Nt(\"uponSanitizeAttribute\",e,n),p=n.attrValue,n.forceKeepAttr)continue;if(Tt(a,e),!n.keepAttr)continue;if(!Ce&&E(/\\/>/i,p)){Tt(a,e);continue}ve&&u([ce,se,ue],(e=>{p=g(p,e,\" \")}));const f=rt(e.nodeName);if(St(f,s,p)){if(!Pe||\"id\"!==s&&\"name\"!==s||(Tt(a,e),p=Fe+p),ee&&\"object\"==typeof G&&\"function\"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(f,s)){case\"TrustedHTML\":p=ee.createHTML(p);break;case\"TrustedScriptURL\":p=ee.createScriptURL(p)}try{l?e.setAttributeNS(l,a,p):e.setAttribute(a,p),m(o.removed)}catch(e){}}}Nt(\"afterSanitizeAttributes\",e,null)},Ct=function e(t){let n=null;const o=yt(t);for(Nt(\"beforeSanitizeShadowDOM\",t,null);n=o.nextNode();){if(Nt(\"uponSanitizeShadowNode\",n,null),bt(n))continue;const t=Q(n);1===n.nodeType&&(t&&t.__depth?n.__depth=(n.__removalCount||0)+t.__depth+1:n.__depth=1),n.__depth>=at&&gt(n),n.content instanceof s&&(n.content.__depth=n.__depth,e(n.content)),wt(n)}Nt(\"afterSanitizeShadowDOM\",t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if(Je=!e,Je&&(e=\"\\x3c!--\\x3e\"),\"string\"!=typeof e&&!At(e)){if(\"function\"!=typeof e.toString)throw A(\"toString is not a function\");if(\"string\"!=typeof(e=e.toString()))throw A(\"dirty is not a string, aborting\")}if(!o.isSupported)return e;if(Oe||st(t),o.removed=[],\"string\"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=rt(e.nodeName);if(!Te[t]||Ne[t])throw A(\"root node is forbidden and cannot be sanitized in-place\")}}else if(e instanceof b)n=_t(\"\\x3c!----\\x3e\"),r=n.ownerDocument.importNode(e,!0),1===r.nodeType&&\"BODY\"===r.nodeName||\"HTML\"===r.nodeName?n=r:n.appendChild(r);else{if(!ke&&!ve&&!De&&-1===e.indexOf(\"<\"))return ee&&Ie?ee.createHTML(e):e;if(n=_t(e),!n)return ke?null:Ie?te:\"\"}n&&xe&&gt(n.firstChild);const c=yt(ze?e:n);for(;i=c.nextNode();){if(bt(i))continue;const e=Q(i);1===i.nodeType&&(e&&e.__depth?i.__depth=(i.__removalCount||0)+e.__depth+1:i.__depth=1),i.__depth>=at&&gt(i),i.content instanceof s&&(i.content.__depth=i.__depth,Ct(i.content)),wt(i)}if(ze)return e;if(ke){if(Me)for(l=re.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(ye.shadowroot||ye.shadowrootmode)&&(l=ae.call(a,l,!0)),l}let m=De?n.outerHTML:n.innerHTML;return De&&Te[\"!doctype\"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&E(q,n.ownerDocument.doctype.name)&&(m=\"<!DOCTYPE \"+n.ownerDocument.doctype.name+\">\\n\"+m),ve&&u([ce,se,ue],(e=>{m=g(m,e,\" \")})),ee&&Ie?ee.createHTML(m):m},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};st(e),Oe=!0},o.clearConfig=function(){it=null,Oe=!1},o.isValidAttribute=function(e,t,n){it||st({});const o=rt(e),r=rt(t);return St(o,r,n)},o.addHook=function(e,t){\"function\"==typeof t&&(le[e]=le[e]||[],p(le[e],t))},o.removeHook=function(e){if(le[e])return m(le[e])},o.removeHooks=function(e){le[e]&&(le[e]=[])},o.removeAllHooks=function(){le={}},o}();return J}));\n+//# sourceMappingURL=purify.min.js.map"
        },
        {
          "filename": "src/interface/desktop/chat.html",
          "status": "modified",
          "additions": 3,
          "deletions": 0,
          "patch": "@@ -8,6 +8,7 @@\n         <link rel=\"icon\" type=\"image/png\" sizes=\"128x128\" href=\"./assets/icons/favicon-128x128.png\">\n         <link rel=\"manifest\" href=\"/static/khoj.webmanifest\">\n     </head>\n+    <script type=\"text/javascript\" src=\"./assets/purify.min.js?v={{ khoj_version }}\"></script>\n     <script type=\"text/javascript\" src=\"./assets/markdown-it.min.js\"></script>\n     <script src=\"./utils.js\"></script>\n \n@@ -282,6 +283,8 @@\n \n             // Render markdown\n             newHTML = raw ? newHTML : md.render(newHTML);\n+            // Sanitize the rendered markdown\n+            newHTML = DOMPurify.sanitize(newHTML);\n             // Set rendered markdown to HTML DOM element\n             let element = document.createElement('div');\n             element.innerHTML = newHTML;"
        },
        {
          "filename": "src/interface/desktop/main.js",
          "status": "modified",
          "additions": 30,
          "deletions": 1,
          "patch": "@@ -1,4 +1,4 @@\n-const { app, BrowserWindow, ipcMain, Tray, Menu, nativeImage, shell } = require('electron');\n+const { app, BrowserWindow, ipcMain, Tray, Menu, nativeImage, shell, session } = require('electron');\n const todesktop = require(\"@todesktop/runtime\");\n const khojPackage = require('./package.json');\n \n@@ -401,6 +401,33 @@ async function getUserInfo() {\n     }\n }\n \n+function addCSPHeaderToSession () {\n+    // Get hostURL from store or use default\n+    const hostURL = store.get('hostURL') || KHOJ_URL;\n+\n+    // Construct Content Security Policy\n+    const defaultDomains = `'self' ${hostURL} https://app.khoj.dev https://assets.khoj.dev`;\n+    const default_src = `default-src ${defaultDomains};`;\n+    const script_src = `script-src ${defaultDomains} 'unsafe-inline';`;\n+    const connect_src = `connect-src ${hostURL} https://ipapi.co/json;`;\n+    const style_src = `style-src ${defaultDomains} 'unsafe-inline' https://fonts.googleapis.com;`;\n+    const img_src = `img-src ${defaultDomains} data: https://*.khoj.dev https://*.googleusercontent.com;`;\n+    const font_src = `font-src https://fonts.gstatic.com;`;\n+    const child_src = `child-src 'none';`;\n+    const objectSrc = `object-src 'none';`;\n+    const csp = `${default_src} ${script_src} ${connect_src} ${style_src} ${img_src} ${font_src} ${child_src} ${objectSrc}`;\n+\n+    // Add Content Security Policy to all web requests\n+    session.defaultSession.webRequest.onHeadersReceived((details, callback) => {\n+        callback({\n+            responseHeaders: {\n+                ...details.responseHeaders,\n+                'Content-Security-Policy': [csp]\n+            }\n+        })\n+    })\n+ }\n+\n let firstRun = true;\n let win = null;\n let titleBarStyle = process.platform === 'win32' ? 'default' : 'hidden';\n@@ -480,6 +507,8 @@ const createWindow = (tab = 'chat.html') => {\n }\n \n app.whenReady().then(() => {\n+    addCSPHeaderToSession();\n+\n     ipcMain.on('set-title', handleSetTitle);\n \n     ipcMain.handle('handleFileOpen', (event, type) => {"
        },
        {
          "filename": "src/interface/obsidian/package.json",
          "status": "modified",
          "additions": 4,
          "deletions": 0,
          "patch": "@@ -17,6 +17,7 @@\n         \"assistant\"\n     ],\n     \"devDependencies\": {\n+        \"@types/dompurify\": \"^3.0.5\",\n         \"@types/node\": \"^16.11.6\",\n         \"@typescript-eslint/eslint-plugin\": \"5.29.0\",\n         \"@typescript-eslint/parser\": \"5.29.0\",\n@@ -25,5 +26,8 @@\n         \"obsidian\": \"latest\",\n         \"tslib\": \"2.4.0\",\n         \"typescript\": \"4.7.4\"\n+    },\n+    \"dependencies\": {\n+        \"dompurify\": \"^3.1.4\"\n     }\n }"
        },
        {
          "filename": "src/interface/obsidian/src/chat_view.ts",
          "status": "modified",
          "additions": 24,
          "deletions": 0,
          "patch": "@@ -1,4 +1,5 @@\n import { MarkdownRenderer, WorkspaceLeaf, request, requestUrl, setIcon } from 'obsidian';\n+import * as DOMPurify from 'dompurify';\n import { KhojSetting } from 'src/settings';\n import { KhojPaneView } from 'src/pane_view';\n import { KhojView, createCopyParentText, getLinkToEntry, pasteTextAtCursor } from 'src/utils';\n@@ -80,6 +81,20 @@ export class KhojChatView extends KhojPaneView {\n \n         super.onOpen();\n \n+        // Construct Content Security Policy\n+        let defaultDomains = `'self' ${this.setting.khojUrl} https://app.khoj.dev https://assets.khoj.dev`;\n+        const defaultSrc = `default-src ${defaultDomains};`;\n+        const scriptSrc = `script-src ${defaultDomains} 'unsafe-inline';`;\n+        const connectSrc = `connect-src ${this.setting.khojUrl} https://ipapi.co/json;`;\n+        const styleSrc = `style-src ${defaultDomains} 'unsafe-inline';`;\n+        const imgSrc = `img-src ${defaultDomains} data: https://*.khoj.dev https://*.googleusercontent.com;`;\n+        const childSrc = `child-src 'none';`;\n+        const objectSrc = `object-src 'none';`;\n+        const csp = `${defaultSrc} ${scriptSrc} ${connectSrc} ${styleSrc} ${imgSrc} ${childSrc} ${objectSrc}`;\n+\n+        // Add CSP meta tag to the Khoj Chat modal\n+        document.head.createEl(\"meta\", { attr: { \"http-equiv\": \"Content-Security-Policy\", \"content\": `${csp}` } });\n+\n         // Create area for chat logs\n         let chatBodyEl = contentEl.createDiv({ attr: { id: \"khoj-chat-body\", class: \"khoj-chat-body\" } });\n \n@@ -289,6 +304,9 @@ export class KhojChatView extends KhojPaneView {\n         // Remove any text between <s>[INST] and </s> tags. These are spurious instructions for the AI chat model.\n         rendered_msg = rendered_msg.replace(/<s>\\[INST\\].+(<\\/s>)?/g, '');\n \n+        // Sanitize the markdown to render\n+        message = DOMPurify.sanitize(message);\n+\n         // Render markdow to HTML DOM element\n         let chat_message_body_text_el = this.contentEl.createDiv();\n         chat_message_body_text_el.className = \"chat-message-text-response\";\n@@ -375,6 +393,10 @@ export class KhojChatView extends KhojPaneView {\n         let chat_message_body_el = chatMessageEl.createDiv();\n         chat_message_body_el.addClasses([\"khoj-chat-message-text\", sender]);\n         let chat_message_body_text_el = chat_message_body_el.createDiv();\n+\n+        // Sanitize the markdown to render\n+        message = DOMPurify.sanitize(message);\n+\n         if (raw) {\n             chat_message_body_text_el.innerHTML = message;\n         } else {\n@@ -422,6 +444,8 @@ export class KhojChatView extends KhojPaneView {\n     async renderIncrementalMessage(htmlElement: HTMLDivElement, additionalMessage: string) {\n         this.result += additionalMessage;\n         htmlElement.innerHTML = \"\";\n+        // Sanitize the markdown to render\n+        this.result = DOMPurify.sanitize(this.result);\n         // @ts-ignore\n         await MarkdownRenderer.renderMarkdown(this.result, htmlElement, '', null);\n         // Render action buttons for the message"
        },
        {
          "filename": "src/interface/obsidian/yarn.lock",
          "status": "modified",
          "additions": 652,
          "deletions": 134,
          "patch": "@@ -2,6 +2,71 @@\n # yarn lockfile v1\n \n \n+\"@codemirror/state@^6.0.0\", \"@codemirror/state@^6.4.0\":\n+  version \"6.4.1\"\n+  resolved \"https://registry.npmjs.org/@codemirror/state/-/state-6.4.1.tgz\"\n+  integrity sha512-QkEyUiLhsJoZkbumGZlswmAhA7CBU02Wrz7zvH4SrcifbsqwlXShVXg65f3v/ts57W3dqyamEriMhij1Z3Zz4A==\n+\n+\"@codemirror/view@^6.0.0\":\n+  version \"6.26.3\"\n+  resolved \"https://registry.npmjs.org/@codemirror/view/-/view-6.26.3.tgz\"\n+  integrity sha512-gmqxkPALZjkgSxIeeweY/wGQXBfwTUaLs8h7OKtSwfbj9Ct3L11lD+u1sS7XHppxFQoMDiMDp07P9f3I2jWOHw==\n+  dependencies:\n+    \"@codemirror/state\" \"^6.4.0\"\n+    style-mod \"^4.1.0\"\n+    w3c-keyname \"^2.2.4\"\n+\n+\"@eslint-community/eslint-utils@^4.2.0\":\n+  version \"4.4.0\"\n+  resolved \"https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.4.0.tgz\"\n+  integrity sha512-1/sA4dwrzBAyeUoQ6oxahHKmrZvsnLCg4RfxW3ZFGGmQkSNQPFNLV9CUEFQP1x9EYXHTo5p6xdhZM1Ne9p/AfA==\n+  dependencies:\n+    eslint-visitor-keys \"^3.3.0\"\n+\n+\"@eslint-community/regexpp@^4.6.1\":\n+  version \"4.10.0\"\n+  resolved \"https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.10.0.tgz\"\n+  integrity sha512-Cu96Sd2By9mCNTx2iyKOmq10v22jUVQv0lQnlGNy16oE9589yE+QADPbrMGCkA51cKZSg3Pu/aTJVTGfL/qjUA==\n+\n+\"@eslint/eslintrc@^2.1.4\":\n+  version \"2.1.4\"\n+  resolved \"https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-2.1.4.tgz\"\n+  integrity sha512-269Z39MS6wVJtsoUl10L60WdkhJVdPG24Q4eZTH3nnF6lpvSShEK3wQjDX9JRWAUPvPh7COouPpU9IrqaZFvtQ==\n+  dependencies:\n+    ajv \"^6.12.4\"\n+    debug \"^4.3.2\"\n+    espree \"^9.6.0\"\n+    globals \"^13.19.0\"\n+    ignore \"^5.2.0\"\n+    import-fresh \"^3.2.1\"\n+    js-yaml \"^4.1.0\"\n+    minimatch \"^3.1.2\"\n+    strip-json-comments \"^3.1.1\"\n+\n+\"@eslint/js@8.57.0\":\n+  version \"8.57.0\"\n+  resolved \"https://registry.npmjs.org/@eslint/js/-/js-8.57.0.tgz\"\n+  integrity sha512-Ys+3g2TaW7gADOJzPt83SJtCDhMjndcDMFVQ/Tj9iA1BfJzFKD9mAUXT3OenpuPHbI6P/myECxRJrofUsDx/5g==\n+\n+\"@humanwhocodes/config-array@^0.11.14\":\n+  version \"0.11.14\"\n+  resolved \"https://registry.npmjs.org/@humanwhocodes/config-array/-/config-array-0.11.14.tgz\"\n+  integrity sha512-3T8LkOmg45BV5FICb15QQMsyUSWrQ8AygVfC7ZG32zOalnqrilm018ZVCw0eapXux8FtA33q8PSRSstjee3jSg==\n+  dependencies:\n+    \"@humanwhocodes/object-schema\" \"^2.0.2\"\n+    debug \"^4.3.1\"\n+    minimatch \"^3.0.5\"\n+\n+\"@humanwhocodes/module-importer@^1.0.1\":\n+  version \"1.0.1\"\n+  resolved \"https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz\"\n+  integrity sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==\n+\n+\"@humanwhocodes/object-schema@^2.0.2\":\n+  version \"2.0.3\"\n+  resolved \"https://registry.npmjs.org/@humanwhocodes/object-schema/-/object-schema-2.0.3.tgz\"\n+  integrity sha512-93zYdMES/c1D69yZiKDBj0V24vqNzB/koF26KPaagAfd3P/4gUlh3Dys5ogAK+Exi9QyzlD8x/08Zt7wIKcDcA==\n+\n \"@nodelib/fs.scandir@2.1.5\":\n   version \"2.1.5\"\n   resolved \"https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz\"\n@@ -10,30 +75,37 @@\n     \"@nodelib/fs.stat\" \"2.0.5\"\n     run-parallel \"^1.1.9\"\n \n-\"@nodelib/fs.stat@2.0.5\", \"@nodelib/fs.stat@^2.0.2\":\n+\"@nodelib/fs.stat@^2.0.2\", \"@nodelib/fs.stat@2.0.5\":\n   version \"2.0.5\"\n   resolved \"https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz\"\n   integrity sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==\n \n-\"@nodelib/fs.walk@^1.2.3\":\n+\"@nodelib/fs.walk@^1.2.3\", \"@nodelib/fs.walk@^1.2.8\":\n   version \"1.2.8\"\n   resolved \"https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz\"\n   integrity sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==\n   dependencies:\n     \"@nodelib/fs.scandir\" \"2.1.5\"\n     fastq \"^1.6.0\"\n \n-\"@types/codemirror@0.0.108\":\n-  version \"0.0.108\"\n-  resolved \"https://registry.npmjs.org/@types/codemirror/-/codemirror-0.0.108.tgz\"\n-  integrity sha512-3FGFcus0P7C2UOGCNUVENqObEb4SFk+S8Dnxq7K6aIsLVs/vDtlangl3PEO0ykaKXyK56swVF6Nho7VsA44uhw==\n+\"@types/codemirror@5.60.8\":\n+  version \"5.60.8\"\n+  resolved \"https://registry.npmjs.org/@types/codemirror/-/codemirror-5.60.8.tgz\"\n+  integrity sha512-VjFgDF/eB+Aklcy15TtOTLQeMjTo07k7KAjql8OK5Dirr7a6sJY4T1uVBDuTVG9VEmn1uUsohOpYnVfgC6/jyw==\n   dependencies:\n     \"@types/tern\" \"*\"\n \n+\"@types/dompurify@^3.0.5\":\n+  version \"3.0.5\"\n+  resolved \"https://registry.npmjs.org/@types/dompurify/-/dompurify-3.0.5.tgz\"\n+  integrity sha512-1Wg0g3BtQF7sSb27fJQAKck1HECM6zV1EB66j8JH9i3LCjYabJa0FSdiSgsD5K/RbrsR0SiraKacLB+T8ZVYAg==\n+  dependencies:\n+    \"@types/trusted-types\" \"*\"\n+\n \"@types/estree@*\":\n-  version \"1.0.0\"\n-  resolved \"https://registry.npmjs.org/@types/estree/-/estree-1.0.0.tgz\"\n-  integrity sha512-WulqXMDUTYAXCjZnk6JtIHPigp55cVtDgDrO2gHRwhyJto21+1zbVCtOYB2L1F9w4qCQ0rOGWBnBe0FNTiEJIQ==\n+  version \"1.0.5\"\n+  resolved \"https://registry.npmjs.org/@types/estree/-/estree-1.0.5.tgz\"\n+  integrity sha512-/kYRxGDLWzHOB7q+wtSUQlFrtcdUccpfy+X+9iMBpHK8QLLhx2wIPYuS5DYtR9Wa/YlZAbIovy7qVdB1Aq6Lyw==\n \n \"@types/json-schema@^7.0.9\":\n   version \"7.0.11\"\n@@ -46,12 +118,17 @@\n   integrity sha512-vzLe5NaNMjIE3mcddFVGlAXN1LEWueUsMsOJWaT6wWMJGyljHAWHznqfnKUQWGzu7TLPrGvWdNAsvQYW+C0xtw==\n \n \"@types/tern@*\":\n-  version \"0.23.4\"\n-  resolved \"https://registry.npmjs.org/@types/tern/-/tern-0.23.4.tgz\"\n-  integrity sha512-JAUw1iXGO1qaWwEOzxTKJZ/5JxVeON9kvGZ/osgZaJImBnyjyn0cjovPsf6FNLmyGY8Vw9DoXZCMlfMkMwHRWg==\n+  version \"0.23.9\"\n+  resolved \"https://registry.npmjs.org/@types/tern/-/tern-0.23.9.tgz\"\n+  integrity sha512-ypzHFE/wBzh+BlH6rrBgS5I/Z7RD21pGhZ2rltb/+ZrVM1awdZwjx7hE5XfuYgHWk9uvV5HLZN3SloevCAp3Bw==\n   dependencies:\n     \"@types/estree\" \"*\"\n \n+\"@types/trusted-types@*\":\n+  version \"2.0.7\"\n+  resolved \"https://registry.npmjs.org/@types/trusted-types/-/trusted-types-2.0.7.tgz\"\n+  integrity sha512-ScaPdn1dQczgbl0QFTeTOmVHFULt394XJgOQNoyVhZ6r2vLnMLJfBPd53SB52T/3G36VI1/g2MZaX0cwDuXsfw==\n+\n \"@typescript-eslint/eslint-plugin@5.29.0\":\n   version \"5.29.0\"\n   resolved \"https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-5.29.0.tgz\"\n@@ -67,7 +144,7 @@\n     semver \"^7.3.7\"\n     tsutils \"^3.21.0\"\n \n-\"@typescript-eslint/parser@5.29.0\":\n+\"@typescript-eslint/parser@^5.0.0\", \"@typescript-eslint/parser@5.29.0\":\n   version \"5.29.0\"\n   resolved \"https://registry.npmjs.org/@typescript-eslint/parser/-/parser-5.29.0.tgz\"\n   integrity sha512-ruKWTv+x0OOxbzIw9nW5oWlUopvP/IQDjB5ZqmTglLIoDTctLlAJpAQFpNPJP/ZI7hTT9sARBosEfaKbcFuECw==\n@@ -132,11 +209,66 @@\n     \"@typescript-eslint/types\" \"5.29.0\"\n     eslint-visitor-keys \"^3.3.0\"\n \n+\"@ungap/structured-clone@^1.2.0\":\n+  version \"1.2.0\"\n+  resolved \"https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.2.0.tgz\"\n+  integrity sha512-zuVdFrMJiuCDQUMCzQaD6KL28MjnqqN8XnAqiEq9PNm/hCPTSGfrXCOfwj1ow4LFb/tNymJPwsNbVePc1xFqrQ==\n+\n+acorn-jsx@^5.3.2:\n+  version \"5.3.2\"\n+  resolved \"https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz\"\n+  integrity sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==\n+\n+\"acorn@^6.0.0 || ^7.0.0 || ^8.0.0\", acorn@^8.9.0:\n+  version \"8.11.3\"\n+  resolved \"https://registry.npmjs.org/acorn/-/acorn-8.11.3.tgz\"\n+  integrity sha512-Y9rRfJG5jcKOE0CLisYbojUjIrIEE7AGMzA/Sm4BslANhbS+cDMpgBdcPT91oJ7OuJ9hYJBx59RjbhxVnrF8Xg==\n+\n+ajv@^6.12.4:\n+  version \"6.12.6\"\n+  resolved \"https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz\"\n+  integrity sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==\n+  dependencies:\n+    fast-deep-equal \"^3.1.1\"\n+    fast-json-stable-stringify \"^2.0.0\"\n+    json-schema-traverse \"^0.4.1\"\n+    uri-js \"^4.2.2\"\n+\n+ansi-regex@^5.0.1:\n+  version \"5.0.1\"\n+  resolved \"https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz\"\n+  integrity sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==\n+\n+ansi-styles@^4.1.0:\n+  version \"4.3.0\"\n+  resolved \"https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz\"\n+  integrity sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==\n+  dependencies:\n+    color-convert \"^2.0.1\"\n+\n+argparse@^2.0.1:\n+  version \"2.0.1\"\n+  resolved \"https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz\"\n+  integrity sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==\n+\n array-union@^2.1.0:\n   version \"2.1.0\"\n   resolved \"https://registry.npmjs.org/array-union/-/array-union-2.1.0.tgz\"\n   integrity sha512-HGyxoOTYUyCM6stUe6EJgnd4EoewAI7zMdfqO+kGjnlZmBDz/cR5pf8r/cR4Wq60sL/p0IkcjUEEPwS3GFrIyw==\n \n+balanced-match@^1.0.0:\n+  version \"1.0.2\"\n+  resolved \"https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz\"\n+  integrity sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==\n+\n+brace-expansion@^1.1.7:\n+  version \"1.1.11\"\n+  resolved \"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.11.tgz\"\n+  integrity sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==\n+  dependencies:\n+    balanced-match \"^1.0.0\"\n+    concat-map \"0.0.1\"\n+\n braces@^3.0.2:\n   version \"3.0.2\"\n   resolved \"https://registry.npmjs.org/braces/-/braces-3.0.2.tgz\"\n@@ -149,120 +281,81 @@ builtin-modules@3.3.0:\n   resolved \"https://registry.npmjs.org/builtin-modules/-/builtin-modules-3.3.0.tgz\"\n   integrity sha512-zhaCDicdLuWN5UbN5IMnFqNMhNfo919sH85y2/ea+5Yg9TsTkeZxpL+JLbp6cgYFS4sRLp3YV4S6yDuqVWHYOw==\n \n-debug@^4.3.4:\n+callsites@^3.0.0:\n+  version \"3.1.0\"\n+  resolved \"https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz\"\n+  integrity sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==\n+\n+chalk@^4.0.0:\n+  version \"4.1.2\"\n+  resolved \"https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz\"\n+  integrity sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==\n+  dependencies:\n+    ansi-styles \"^4.1.0\"\n+    supports-color \"^7.1.0\"\n+\n+color-convert@^2.0.1:\n+  version \"2.0.1\"\n+  resolved \"https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz\"\n+  integrity sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==\n+  dependencies:\n+    color-name \"~1.1.4\"\n+\n+color-name@~1.1.4:\n+  version \"1.1.4\"\n+  resolved \"https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz\"\n+  integrity sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==\n+\n+concat-map@0.0.1:\n+  version \"0.0.1\"\n+  resolved \"https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz\"\n+  integrity sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==\n+\n+cross-spawn@^7.0.2:\n+  version \"7.0.3\"\n+  resolved \"https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.3.tgz\"\n+  integrity sha512-iRDPJKUPVEND7dHPO8rkbOnPpyDygcDFtWjpeWNCgy8WP2rXcxXL8TskReQl6OrB2G7+UJrags1q15Fudc7G6w==\n+  dependencies:\n+    path-key \"^3.1.0\"\n+    shebang-command \"^2.0.0\"\n+    which \"^2.0.1\"\n+\n+debug@^4.3.1, debug@^4.3.2, debug@^4.3.4:\n   version \"4.3.4\"\n   resolved \"https://registry.npmjs.org/debug/-/debug-4.3.4.tgz\"\n   integrity sha512-PRWFHuSU3eDtQJPvnNY7Jcket1j0t5OuOsFzPPzsekD52Zl8qUfFIPEiswXqIvHWGVHOgX+7G/vCNNhehwxfkQ==\n   dependencies:\n     ms \"2.1.2\"\n \n+deep-is@^0.1.3:\n+  version \"0.1.4\"\n+  resolved \"https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz\"\n+  integrity sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==\n+\n dir-glob@^3.0.1:\n   version \"3.0.1\"\n   resolved \"https://registry.npmjs.org/dir-glob/-/dir-glob-3.0.1.tgz\"\n   integrity sha512-WkrWp9GR4KXfKGYzOLmTuGVi1UWFfws377n9cc55/tb6DuqyF6pcQ5AbiHEshaDpY9v6oaSr2XCDidGmMwdzIA==\n   dependencies:\n     path-type \"^4.0.0\"\n \n-esbuild-android-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-android-64/-/esbuild-android-64-0.14.47.tgz#ef95b42c67bcf4268c869153fa3ad1466c4cea6b\"\n-  integrity sha512-R13Bd9+tqLVFndncMHssZrPWe6/0Kpv2/dt4aA69soX4PRxlzsVpCvoJeFE8sOEoeVEiBkI0myjlkDodXlHa0g==\n-\n-esbuild-android-arm64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-android-arm64/-/esbuild-android-arm64-0.14.47.tgz#4ebd7ce9fb250b4695faa3ee46fd3b0754ecd9e6\"\n-  integrity sha512-OkwOjj7ts4lBp/TL6hdd8HftIzOy/pdtbrNA4+0oVWgGG64HrdVzAF5gxtJufAPOsEjkyh1oIYvKAUinKKQRSQ==\n+doctrine@^3.0.0:\n+  version \"3.0.0\"\n+  resolved \"https://registry.npmjs.org/doctrine/-/doctrine-3.0.0.tgz\"\n+  integrity sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==\n+  dependencies:\n+    esutils \"^2.0.2\"\n \n-esbuild-darwin-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-darwin-64/-/esbuild-darwin-64-0.14.47.tgz#e0da6c244f497192f951807f003f6a423ed23188\"\n-  integrity sha512-R6oaW0y5/u6Eccti/TS6c/2c1xYTb1izwK3gajJwi4vIfNs1s8B1dQzI1UiC9T61YovOQVuePDcfqHLT3mUZJA==\n+dompurify@^3.1.4:\n+  version \"3.1.4\"\n+  resolved \"https://registry.npmjs.org/dompurify/-/dompurify-3.1.4.tgz\"\n+  integrity sha512-2gnshi6OshmuKil8rMZuQCGiUF3cUxHY3NGDzUAdUx/NPEe5DVnO8BDoAQouvgwnx0R/+a6jUn36Z0FSdq8vww==\n \n esbuild-darwin-arm64@0.14.47:\n   version \"0.14.47\"\n   resolved \"https://registry.npmjs.org/esbuild-darwin-arm64/-/esbuild-darwin-arm64-0.14.47.tgz\"\n   integrity sha512-seCmearlQyvdvM/noz1L9+qblC5vcBrhUaOoLEDDoLInF/VQ9IkobGiLlyTPYP5dW1YD4LXhtBgOyevoIHGGnw==\n \n-esbuild-freebsd-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-freebsd-64/-/esbuild-freebsd-64-0.14.47.tgz#8da6a14c095b29c01fc8087a16cb7906debc2d67\"\n-  integrity sha512-ZH8K2Q8/Ux5kXXvQMDsJcxvkIwut69KVrYQhza/ptkW50DC089bCVrJZZ3sKzIoOx+YPTrmsZvqeZERjyYrlvQ==\n-\n-esbuild-freebsd-arm64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-freebsd-arm64/-/esbuild-freebsd-arm64-0.14.47.tgz#ad31f9c92817ff8f33fd253af7ab5122dc1b83f6\"\n-  integrity sha512-ZJMQAJQsIOhn3XTm7MPQfCzEu5b9STNC+s90zMWe2afy9EwnHV7Ov7ohEMv2lyWlc2pjqLW8QJnz2r0KZmeAEQ==\n-\n-esbuild-linux-32@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-32/-/esbuild-linux-32-0.14.47.tgz#de085e4db2e692ea30c71208ccc23fdcf5196c58\"\n-  integrity sha512-FxZOCKoEDPRYvq300lsWCTv1kcHgiiZfNrPtEhFAiqD7QZaXrad8LxyJ8fXGcWzIFzRiYZVtB3ttvITBvAFhKw==\n-\n-esbuild-linux-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-64/-/esbuild-linux-64-0.14.47.tgz#2a9321bbccb01f01b04cebfcfccbabeba3658ba1\"\n-  integrity sha512-nFNOk9vWVfvWYF9YNYksZptgQAdstnDCMtR6m42l5Wfugbzu11VpMCY9XrD4yFxvPo9zmzcoUL/88y0lfJZJJw==\n-\n-esbuild-linux-arm64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-arm64/-/esbuild-linux-arm64-0.14.47.tgz#b9da7b6fc4b0ca7a13363a0c5b7bb927e4bc535a\"\n-  integrity sha512-ywfme6HVrhWcevzmsufjd4iT3PxTfCX9HOdxA7Hd+/ZM23Y9nXeb+vG6AyA6jgq/JovkcqRHcL9XwRNpWG6XRw==\n-\n-esbuild-linux-arm@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-arm/-/esbuild-linux-arm-0.14.47.tgz#56fec2a09b9561c337059d4af53625142aded853\"\n-  integrity sha512-ZGE1Bqg/gPRXrBpgpvH81tQHpiaGxa8c9Rx/XOylkIl2ypLuOcawXEAo8ls+5DFCcRGt/o3sV+PzpAFZobOsmA==\n-\n-esbuild-linux-mips64le@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-mips64le/-/esbuild-linux-mips64le-0.14.47.tgz#9db21561f8f22ed79ef2aedb7bbef082b46cf823\"\n-  integrity sha512-mg3D8YndZ1LvUiEdDYR3OsmeyAew4MA/dvaEJxvyygahWmpv1SlEEnhEZlhPokjsUMfRagzsEF/d/2XF+kTQGg==\n-\n-esbuild-linux-ppc64le@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-ppc64le/-/esbuild-linux-ppc64le-0.14.47.tgz#dc3a3da321222b11e96e50efafec9d2de408198b\"\n-  integrity sha512-WER+f3+szmnZiWoK6AsrTKGoJoErG2LlauSmk73LEZFQ/iWC+KhhDsOkn1xBUpzXWsxN9THmQFltLoaFEH8F8w==\n-\n-esbuild-linux-riscv64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-riscv64/-/esbuild-linux-riscv64-0.14.47.tgz#9bd6dcd3dca6c0357084ecd06e1d2d4bf105335f\"\n-  integrity sha512-1fI6bP3A3rvI9BsaaXbMoaOjLE3lVkJtLxsgLHqlBhLlBVY7UqffWBvkrX/9zfPhhVMd9ZRFiaqXnB1T7BsL2g==\n-\n-esbuild-linux-s390x@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-linux-s390x/-/esbuild-linux-s390x-0.14.47.tgz#a458af939b52f2cd32fc561410d441a51f69d41f\"\n-  integrity sha512-eZrWzy0xFAhki1CWRGnhsHVz7IlSKX6yT2tj2Eg8lhAwlRE5E96Hsb0M1mPSE1dHGpt1QVwwVivXIAacF/G6mw==\n-\n-esbuild-netbsd-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-netbsd-64/-/esbuild-netbsd-64-0.14.47.tgz#6388e785d7e7e4420cb01348d7483ab511b16aa8\"\n-  integrity sha512-Qjdjr+KQQVH5Q2Q1r6HBYswFTToPpss3gqCiSw2Fpq/ua8+eXSQyAMG+UvULPqXceOwpnPo4smyZyHdlkcPppQ==\n-\n-esbuild-openbsd-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-openbsd-64/-/esbuild-openbsd-64-0.14.47.tgz#309af806db561aa886c445344d1aacab850dbdc5\"\n-  integrity sha512-QpgN8ofL7B9z8g5zZqJE+eFvD1LehRlxr25PBkjyyasakm4599iroUpaj96rdqRlO2ShuyqwJdr+oNqWwTUmQw==\n-\n-esbuild-sunos-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-sunos-64/-/esbuild-sunos-64-0.14.47.tgz#3f19612dcdb89ba6c65283a7ff6e16f8afbf8aaa\"\n-  integrity sha512-uOeSgLUwukLioAJOiGYm3kNl+1wJjgJA8R671GYgcPgCx7QR73zfvYqXFFcIO93/nBdIbt5hd8RItqbbf3HtAQ==\n-\n-esbuild-windows-32@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-windows-32/-/esbuild-windows-32-0.14.47.tgz#a92d279c8458d5dc319abcfeb30aa49e8f2e6f7f\"\n-  integrity sha512-H0fWsLTp2WBfKLBgwYT4OTfFly4Im/8B5f3ojDv1Kx//kiubVY0IQunP2Koc/fr/0wI7hj3IiBDbSrmKlrNgLQ==\n-\n-esbuild-windows-64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-windows-64/-/esbuild-windows-64-0.14.47.tgz#2564c3fcf0c23d701edb71af8c52d3be4cec5f8a\"\n-  integrity sha512-/Pk5jIEH34T68r8PweKRi77W49KwanZ8X6lr3vDAtOlH5EumPE4pBHqkCUdELanvsT14yMXLQ/C/8XPi1pAtkQ==\n-\n-esbuild-windows-arm64@0.14.47:\n-  version \"0.14.47\"\n-  resolved \"https://registry.yarnpkg.com/esbuild-windows-arm64/-/esbuild-windows-arm64-0.14.47.tgz#86d9db1a22d83360f726ac5fba41c2f625db6878\"\n-  integrity sha512-HFSW2lnp62fl86/qPQlqw6asIwCnEsEoNIL1h2uVMgakddf+vUuMcCbtUY1i8sst7KkgHrVKCJQB33YhhOweCQ==\n-\n esbuild@0.14.47:\n   version \"0.14.47\"\n   resolved \"https://registry.npmjs.org/esbuild/-/esbuild-0.14.47.tgz\"\n@@ -289,6 +382,11 @@ esbuild@0.14.47:\n     esbuild-windows-64 \"0.14.47\"\n     esbuild-windows-arm64 \"0.14.47\"\n \n+escape-string-regexp@^4.0.0:\n+  version \"4.0.0\"\n+  resolved \"https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz\"\n+  integrity sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==\n+\n eslint-scope@^5.1.1:\n   version \"5.1.1\"\n   resolved \"https://registry.npmjs.org/eslint-scope/-/eslint-scope-5.1.1.tgz\"\n@@ -297,6 +395,14 @@ eslint-scope@^5.1.1:\n     esrecurse \"^4.3.0\"\n     estraverse \"^4.1.1\"\n \n+eslint-scope@^7.2.2:\n+  version \"7.2.2\"\n+  resolved \"https://registry.npmjs.org/eslint-scope/-/eslint-scope-7.2.2.tgz\"\n+  integrity sha512-dOt21O7lTMhDM+X9mB4GX+DZrZtCUJPL/wlcTqxyrx5IvO0IYtILdtrQGQp+8n5S0gwSVmOf9NQrjMOgfQZlIg==\n+  dependencies:\n+    esrecurse \"^4.3.0\"\n+    estraverse \"^5.2.0\"\n+\n eslint-utils@^3.0.0:\n   version \"3.0.0\"\n   resolved \"https://registry.npmjs.org/eslint-utils/-/eslint-utils-3.0.0.tgz\"\n@@ -310,9 +416,79 @@ eslint-visitor-keys@^2.0.0:\n   integrity sha512-0rSmRBzXgDzIsD6mGdJgevzgezI534Cer5L/vyMX0kHzT/jiB43jRhd9YUlMGYLQy2zprNmoT8qasCGtY+QaKw==\n \n eslint-visitor-keys@^3.3.0:\n-  version \"3.3.0\"\n-  resolved \"https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.3.0.tgz\"\n-  integrity sha512-mQ+suqKJVyeuwGYHAdjMFqjCyfl8+Ldnxuyp3ldiMBFKkvytrXUZWaiPCEav8qDHKty44bD+qV1IP4T+w+xXRA==\n+  version \"3.4.3\"\n+  resolved \"https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz\"\n+  integrity sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==\n+\n+eslint-visitor-keys@^3.4.1:\n+  version \"3.4.3\"\n+  resolved \"https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz\"\n+  integrity sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==\n+\n+eslint-visitor-keys@^3.4.3:\n+  version \"3.4.3\"\n+  resolved \"https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz\"\n+  integrity sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==\n+\n+eslint@*, \"eslint@^6.0.0 || ^7.0.0 || ^8.0.0\", \"eslint@^6.0.0 || ^7.0.0 || >=8.0.0\", eslint@>=5:\n+  version \"8.57.0\"\n+  resolved \"https://registry.npmjs.org/eslint/-/eslint-8.57.0.tgz\"\n+  integrity sha512-dZ6+mexnaTIbSBZWgou51U6OmzIhYM2VcNdtiTtI7qPNZm35Akpr0f6vtw3w1Kmn5PYo+tZVfh13WrhpS6oLqQ==\n+  dependencies:\n+    \"@eslint-community/eslint-utils\" \"^4.2.0\"\n+    \"@eslint-community/regexpp\" \"^4.6.1\"\n+    \"@eslint/eslintrc\" \"^2.1.4\"\n+    \"@eslint/js\" \"8.57.0\"\n+    \"@humanwhocodes/config-array\" \"^0.11.14\"\n+    \"@humanwhocodes/module-importer\" \"^1.0.1\"\n+    \"@nodelib/fs.walk\" \"^1.2.8\"\n+    \"@ungap/structured-clone\" \"^1.2.0\"\n+    ajv \"^6.12.4\"\n+    chalk \"^4.0.0\"\n+    cross-spawn \"^7.0.2\"\n+    debug \"^4.3.2\"\n+    doctrine \"^3.0.0\"\n+    escape-string-regexp \"^4.0.0\"\n+    eslint-scope \"^7.2.2\"\n+    eslint-visitor-keys \"^3.4.3\"\n+    espree \"^9.6.1\"\n+    esquery \"^1.4.2\"\n+    esutils \"^2.0.2\"\n+    fast-deep-equal \"^3.1.3\"\n+    file-entry-cache \"^6.0.1\"\n+    find-up \"^5.0.0\"\n+    glob-parent \"^6.0.2\"\n+    globals \"^13.19.0\"\n+    graphemer \"^1.4.0\"\n+    ignore \"^5.2.0\"\n+    imurmurhash \"^0.1.4\"\n+    is-glob \"^4.0.0\"\n+    is-path-inside \"^3.0.3\"\n+    js-yaml \"^4.1.0\"\n+    json-stable-stringify-without-jsonify \"^1.0.1\"\n+    levn \"^0.4.1\"\n+    lodash.merge \"^4.6.2\"\n+    minimatch \"^3.1.2\"\n+    natural-compare \"^1.4.0\"\n+    optionator \"^0.9.3\"\n+    strip-ansi \"^6.0.1\"\n+    text-table \"^0.2.0\"\n+\n+espree@^9.6.0, espree@^9.6.1:\n+  version \"9.6.1\"\n+  resolved \"https://registry.npmjs.org/espree/-/espree-9.6.1.tgz\"\n+  integrity sha512-oruZaFkjorTpF32kDSI5/75ViwGeZginGGy2NoOSg3Q9bnwlnmDm4HLnkl0RE3n+njDXR037aY1+x58Z/zFdwQ==\n+  dependencies:\n+    acorn \"^8.9.0\"\n+    acorn-jsx \"^5.3.2\"\n+    eslint-visitor-keys \"^3.4.1\"\n+\n+esquery@^1.4.2:\n+  version \"1.5.0\"\n+  resolved \"https://registry.npmjs.org/esquery/-/esquery-1.5.0.tgz\"\n+  integrity sha512-YQLXUplAwJgCydQ78IMJywZCceoqk1oH01OERdSAJc/7U2AylwjhSCLDEtqwg811idIS/9fIU5GjG73IgjKMVg==\n+  dependencies:\n+    estraverse \"^5.1.0\"\n \n esrecurse@^4.3.0:\n   version \"4.3.0\"\n@@ -326,11 +502,26 @@ estraverse@^4.1.1:\n   resolved \"https://registry.npmjs.org/estraverse/-/estraverse-4.3.0.tgz\"\n   integrity sha512-39nnKffWz8xN1BU/2c79n9nB9HDzo0niYUqx6xyqUnyoAnQyyWpOTdZEeiCch8BBu515t4wp9ZmgVfVhn9EBpw==\n \n+estraverse@^5.1.0:\n+  version \"5.3.0\"\n+  resolved \"https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz\"\n+  integrity sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==\n+\n estraverse@^5.2.0:\n   version \"5.3.0\"\n   resolved \"https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz\"\n   integrity sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==\n \n+esutils@^2.0.2:\n+  version \"2.0.3\"\n+  resolved \"https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz\"\n+  integrity sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==\n+\n+fast-deep-equal@^3.1.1, fast-deep-equal@^3.1.3:\n+  version \"3.1.3\"\n+  resolved \"https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz\"\n+  integrity sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==\n+\n fast-glob@^3.2.9:\n   version \"3.2.12\"\n   resolved \"https://registry.npmjs.org/fast-glob/-/fast-glob-3.2.12.tgz\"\n@@ -342,20 +533,64 @@ fast-glob@^3.2.9:\n     merge2 \"^1.3.0\"\n     micromatch \"^4.0.4\"\n \n+fast-json-stable-stringify@^2.0.0:\n+  version \"2.1.0\"\n+  resolved \"https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz\"\n+  integrity sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==\n+\n+fast-levenshtein@^2.0.6:\n+  version \"2.0.6\"\n+  resolved \"https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz\"\n+  integrity sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==\n+\n fastq@^1.6.0:\n   version \"1.15.0\"\n   resolved \"https://registry.npmjs.org/fastq/-/fastq-1.15.0.tgz\"\n   integrity sha512-wBrocU2LCXXa+lWBt8RoIRD89Fi8OdABODa/kEnyeyjS5aZO5/GNvI5sEINADqP/h8M29UHTHUb53sUu5Ihqdw==\n   dependencies:\n     reusify \"^1.0.4\"\n \n+file-entry-cache@^6.0.1:\n+  version \"6.0.1\"\n+  resolved \"https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-6.0.1.tgz\"\n+  integrity sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==\n+  dependencies:\n+    flat-cache \"^3.0.4\"\n+\n fill-range@^7.0.1:\n   version \"7.0.1\"\n   resolved \"https://registry.npmjs.org/fill-range/-/fill-range-7.0.1.tgz\"\n   integrity sha512-qOo9F+dMUmC2Lcb4BbVvnKJxTPjCm+RRpe4gDuGrzkL7mEVl/djYSu2OdQ2Pa302N4oqkSg9ir6jaLWJ2USVpQ==\n   dependencies:\n     to-regex-range \"^5.0.1\"\n \n+find-up@^5.0.0:\n+  version \"5.0.0\"\n+  resolved \"https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz\"\n+  integrity sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==\n+  dependencies:\n+    locate-path \"^6.0.0\"\n+    path-exists \"^4.0.0\"\n+\n+flat-cache@^3.0.4:\n+  version \"3.2.0\"\n+  resolved \"https://registry.npmjs.org/flat-cache/-/flat-cache-3.2.0.tgz\"\n+  integrity sha512-CYcENa+FtcUKLmhhqyctpclsq7QF38pKjZHsGNiSQF5r4FtoKDWabFDl3hzaEQMvT1LHEysw5twgLvpYYb4vbw==\n+  dependencies:\n+    flatted \"^3.2.9\"\n+    keyv \"^4.5.3\"\n+    rimraf \"^3.0.2\"\n+\n+flatted@^3.2.9:\n+  version \"3.3.1\"\n+  resolved \"https://registry.npmjs.org/flatted/-/flatted-3.3.1.tgz\"\n+  integrity sha512-X8cqMLLie7KsNUDSdzeN8FYK9rEt4Dt67OsG/DNGnYTSDBG4uFAJFBnUeiV+zCVAvwFy56IjM9sH51jVaEhNxw==\n+\n+fs.realpath@^1.0.0:\n+  version \"1.0.0\"\n+  resolved \"https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz\"\n+  integrity sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==\n+\n functional-red-black-tree@^1.0.1:\n   version \"1.0.1\"\n   resolved \"https://registry.npmjs.org/functional-red-black-tree/-/functional-red-black-tree-1.0.1.tgz\"\n@@ -368,6 +603,32 @@ glob-parent@^5.1.2:\n   dependencies:\n     is-glob \"^4.0.1\"\n \n+glob-parent@^6.0.2:\n+  version \"6.0.2\"\n+  resolved \"https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz\"\n+  integrity sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==\n+  dependencies:\n+    is-glob \"^4.0.3\"\n+\n+glob@^7.1.3:\n+  version \"7.2.3\"\n+  resolved \"https://registry.npmjs.org/glob/-/glob-7.2.3.tgz\"\n+  integrity sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==\n+  dependencies:\n+    fs.realpath \"^1.0.0\"\n+    inflight \"^1.0.4\"\n+    inherits \"2\"\n+    minimatch \"^3.1.1\"\n+    once \"^1.3.0\"\n+    path-is-absolute \"^1.0.0\"\n+\n+globals@^13.19.0:\n+  version \"13.24.0\"\n+  resolved \"https://registry.npmjs.org/globals/-/globals-13.24.0.tgz\"\n+  integrity sha512-AhO5QUcj8llrbG09iWhPU2B204J1xnPeL8kQmVorSsy+Sjj1sk8gIyh6cUocGmH4L0UuhAJy+hJMRA4mgA4mFQ==\n+  dependencies:\n+    type-fest \"^0.20.2\"\n+\n globby@^11.1.0:\n   version \"11.1.0\"\n   resolved \"https://registry.npmjs.org/globby/-/globby-11.1.0.tgz\"\n@@ -380,17 +641,53 @@ globby@^11.1.0:\n     merge2 \"^1.4.1\"\n     slash \"^3.0.0\"\n \n+graphemer@^1.4.0:\n+  version \"1.4.0\"\n+  resolved \"https://registry.npmjs.org/graphemer/-/graphemer-1.4.0.tgz\"\n+  integrity sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==\n+\n+has-flag@^4.0.0:\n+  version \"4.0.0\"\n+  resolved \"https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz\"\n+  integrity sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==\n+\n ignore@^5.2.0:\n   version \"5.2.4\"\n   resolved \"https://registry.npmjs.org/ignore/-/ignore-5.2.4.tgz\"\n   integrity sha512-MAb38BcSbH0eHNBxn7ql2NH/kX33OkB3lZ1BNdh7ENeRChHTYsTvWrMubiIAMNS2llXEEgZ1MUOBtXChP3kaFQ==\n \n+import-fresh@^3.2.1:\n+  version \"3.3.0\"\n+  resolved \"https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.0.tgz\"\n+  integrity sha512-veYYhQa+D1QBKznvhUHxb8faxlrwUnxseDAbAp457E0wLNio2bOSKnjYDhMj+YiAq61xrMGhQk9iXVk5FzgQMw==\n+  dependencies:\n+    parent-module \"^1.0.0\"\n+    resolve-from \"^4.0.0\"\n+\n+imurmurhash@^0.1.4:\n+  version \"0.1.4\"\n+  resolved \"https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz\"\n+  integrity sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==\n+\n+inflight@^1.0.4:\n+  version \"1.0.6\"\n+  resolved \"https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz\"\n+  integrity sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==\n+  dependencies:\n+    once \"^1.3.0\"\n+    wrappy \"1\"\n+\n+inherits@2:\n+  version \"2.0.4\"\n+  resolved \"https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz\"\n+  integrity sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==\n+\n is-extglob@^2.1.1:\n   version \"2.1.1\"\n   resolved \"https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz\"\n   integrity sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==\n \n-is-glob@^4.0.1, is-glob@^4.0.3:\n+is-glob@^4.0.0, is-glob@^4.0.1, is-glob@^4.0.3:\n   version \"4.0.3\"\n   resolved \"https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz\"\n   integrity sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==\n@@ -402,12 +699,64 @@ is-number@^7.0.0:\n   resolved \"https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz\"\n   integrity sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==\n \n-lru-cache@^6.0.0:\n+is-path-inside@^3.0.3:\n+  version \"3.0.3\"\n+  resolved \"https://registry.npmjs.org/is-path-inside/-/is-path-inside-3.0.3.tgz\"\n+  integrity sha512-Fd4gABb+ycGAmKou8eMftCupSir5lRxqf4aD/vd0cD2qc4HL07OjCeuHMr8Ro4CoMaeCKDB0/ECBOVWjTwUvPQ==\n+\n+isexe@^2.0.0:\n+  version \"2.0.0\"\n+  resolved \"https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz\"\n+  integrity sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==\n+\n+js-yaml@^4.1.0:\n+  version \"4.1.0\"\n+  resolved \"https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.0.tgz\"\n+  integrity sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==\n+  dependencies:\n+    argparse \"^2.0.1\"\n+\n+json-buffer@3.0.1:\n+  version \"3.0.1\"\n+  resolved \"https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz\"\n+  integrity sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==\n+\n+json-schema-traverse@^0.4.1:\n+  version \"0.4.1\"\n+  resolved \"https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz\"\n+  integrity sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==\n+\n+json-stable-stringify-without-jsonify@^1.0.1:\n+  version \"1.0.1\"\n+  resolved \"https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz\"\n+  integrity sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==\n+\n+keyv@^4.5.3:\n+  version \"4.5.4\"\n+  resolved \"https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz\"\n+  integrity sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==\n+  dependencies:\n+    json-buffer \"3.0.1\"\n+\n+levn@^0.4.1:\n+  version \"0.4.1\"\n+  resolved \"https://registry.npmjs.org/levn/-/levn-0.4.1.tgz\"\n+  integrity sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==\n+  dependencies:\n+    prelude-ls \"^1.2.1\"\n+    type-check \"~0.4.0\"\n+\n+locate-path@^6.0.0:\n   version \"6.0.0\"\n-  resolved \"https://registry.npmjs.org/lru-cache/-/lru-cache-6.0.0.tgz\"\n-  integrity sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==\n+  resolved \"https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz\"\n+  integrity sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==\n   dependencies:\n-    yallist \"^4.0.0\"\n+    p-locate \"^5.0.0\"\n+\n+lodash.merge@^4.6.2:\n+  version \"4.6.2\"\n+  resolved \"https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz\"\n+  integrity sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==\n \n merge2@^1.3.0, merge2@^1.4.1:\n   version \"1.4.1\"\n@@ -422,6 +771,13 @@ micromatch@^4.0.4:\n     braces \"^3.0.2\"\n     picomatch \"^2.3.1\"\n \n+minimatch@^3.0.5, minimatch@^3.1.1, minimatch@^3.1.2:\n+  version \"3.1.2\"\n+  resolved \"https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz\"\n+  integrity sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==\n+  dependencies:\n+    brace-expansion \"^1.1.7\"\n+\n moment@2.29.4:\n   version \"2.29.4\"\n   resolved \"https://registry.npmjs.org/moment/-/moment-2.29.4.tgz\"\n@@ -432,14 +788,74 @@ ms@2.1.2:\n   resolved \"https://registry.npmjs.org/ms/-/ms-2.1.2.tgz\"\n   integrity sha512-sGkPx+VjMtmA6MX27oA4FBFELFCZZ4S4XqeGOXCv68tT+jb3vk/RyaKWP0PTKyWtmLSM0b+adUTEvbs1PEaH2w==\n \n+natural-compare@^1.4.0:\n+  version \"1.4.0\"\n+  resolved \"https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz\"\n+  integrity sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==\n+\n obsidian@latest:\n-  version \"1.1.1\"\n-  resolved \"https://registry.npmjs.org/obsidian/-/obsidian-1.1.1.tgz\"\n-  integrity sha512-GcxhsHNkPEkwHEjeyitfYNBcQuYGeAHFs1pEpZIv0CnzSfui8p8bPLm2YKLgcg20B764770B1sYGtxCvk9ptxg==\n+  version \"1.5.7-1\"\n+  resolved \"https://registry.npmjs.org/obsidian/-/obsidian-1.5.7-1.tgz\"\n+  integrity sha512-T5ZRuQ1FnfXqEoakTTHVDYvzUEEoT8zSPnQCW31PVgYwG4D4tZCQfKHN2hTz1ifnCe8upvwa6mBTAP2WUA5Vng==\n   dependencies:\n-    \"@types/codemirror\" \"0.0.108\"\n+    \"@types/codemirror\" \"5.60.8\"\n     moment \"2.29.4\"\n \n+once@^1.3.0:\n+  version \"1.4.0\"\n+  resolved \"https://registry.npmjs.org/once/-/once-1.4.0.tgz\"\n+  integrity sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==\n+  dependencies:\n+    wrappy \"1\"\n+\n+optionator@^0.9.3:\n+  version \"0.9.4\"\n+  resolved \"https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz\"\n+  integrity sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==\n+  dependencies:\n+    deep-is \"^0.1.3\"\n+    fast-levenshtein \"^2.0.6\"\n+    levn \"^0.4.1\"\n+    prelude-ls \"^1.2.1\"\n+    type-check \"^0.4.0\"\n+    word-wrap \"^1.2.5\"\n+\n+p-limit@^3.0.2:\n+  version \"3.1.0\"\n+  resolved \"https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz\"\n+  integrity sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==\n+  dependencies:\n+    yocto-queue \"^0.1.0\"\n+\n+p-locate@^5.0.0:\n+  version \"5.0.0\"\n+  resolved \"https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz\"\n+  integrity sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==\n+  dependencies:\n+    p-limit \"^3.0.2\"\n+\n+parent-module@^1.0.0:\n+  version \"1.0.1\"\n+  resolved \"https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz\"\n+  integrity sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==\n+  dependencies:\n+    callsites \"^3.0.0\"\n+\n+path-exists@^4.0.0:\n+  version \"4.0.0\"\n+  resolved \"https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz\"\n+  integrity sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==\n+\n+path-is-absolute@^1.0.0:\n+  version \"1.0.1\"\n+  resolved \"https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz\"\n+  integrity sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==\n+\n+path-key@^3.1.0:\n+  version \"3.1.1\"\n+  resolved \"https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz\"\n+  integrity sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==\n+\n path-type@^4.0.0:\n   version \"4.0.0\"\n   resolved \"https://registry.npmjs.org/path-type/-/path-type-4.0.0.tgz\"\n@@ -450,6 +866,16 @@ picomatch@^2.3.1:\n   resolved \"https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz\"\n   integrity sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==\n \n+prelude-ls@^1.2.1:\n+  version \"1.2.1\"\n+  resolved \"https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz\"\n+  integrity sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==\n+\n+punycode@^2.1.0:\n+  version \"2.3.1\"\n+  resolved \"https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz\"\n+  integrity sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==\n+\n queue-microtask@^1.2.2:\n   version \"1.2.3\"\n   resolved \"https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz\"\n@@ -460,11 +886,23 @@ regexpp@^3.2.0:\n   resolved \"https://registry.npmjs.org/regexpp/-/regexpp-3.2.0.tgz\"\n   integrity sha512-pq2bWo9mVD43nbts2wGv17XLiNLya+GklZ8kaDLV2Z08gDCsGpnKn9BFMepvWuHCbyVvY7J5o5+BVvoQbmlJLg==\n \n+resolve-from@^4.0.0:\n+  version \"4.0.0\"\n+  resolved \"https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz\"\n+  integrity sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==\n+\n reusify@^1.0.4:\n   version \"1.0.4\"\n   resolved \"https://registry.npmjs.org/reusify/-/reusify-1.0.4.tgz\"\n   integrity sha512-U9nH88a3fc/ekCF1l0/UP1IosiuIjyTh7hBvXVMHYgVcfGvt897Xguj2UOLDeI5BG2m7/uwyaLVT6fbtCwTyzw==\n \n+rimraf@^3.0.2:\n+  version \"3.0.2\"\n+  resolved \"https://registry.npmjs.org/rimraf/-/rimraf-3.0.2.tgz\"\n+  integrity sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==\n+  dependencies:\n+    glob \"^7.1.3\"\n+\n run-parallel@^1.1.9:\n   version \"1.2.0\"\n   resolved \"https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz\"\n@@ -473,47 +911,127 @@ run-parallel@^1.1.9:\n     queue-microtask \"^1.2.2\"\n \n semver@^7.3.7:\n-  version \"7.3.8\"\n-  resolved \"https://registry.npmjs.org/semver/-/semver-7.3.8.tgz\"\n-  integrity sha512-NB1ctGL5rlHrPJtFDVIVzTyQylMLu9N9VICA6HSFJo8MCGVTMW6gfpicwKmmK/dAjTOrqu5l63JJOpDSrAis3A==\n+  version \"7.6.2\"\n+  resolved \"https://registry.npmjs.org/semver/-/semver-7.6.2.tgz\"\n+  integrity sha512-FNAIBWCx9qcRhoHcgcJ0gvU7SN1lYU2ZXuSfl04bSC5OpvDHFyJCjdNHomPXxjQlCBU67YW64PzY7/VIEH7F2w==\n+\n+shebang-command@^2.0.0:\n+  version \"2.0.0\"\n+  resolved \"https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz\"\n+  integrity sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==\n   dependencies:\n-    lru-cache \"^6.0.0\"\n+    shebang-regex \"^3.0.0\"\n+\n+shebang-regex@^3.0.0:\n+  version \"3.0.0\"\n+  resolved \"https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz\"\n+  integrity sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==\n \n slash@^3.0.0:\n   version \"3.0.0\"\n   resolved \"https://registry.npmjs.org/slash/-/slash-3.0.0.tgz\"\n   integrity sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q==\n \n+strip-ansi@^6.0.1:\n+  version \"6.0.1\"\n+  resolved \"https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz\"\n+  integrity sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==\n+  dependencies:\n+    ansi-regex \"^5.0.1\"\n+\n+strip-json-comments@^3.1.1:\n+  version \"3.1.1\"\n+  resolved \"https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz\"\n+  integrity sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==\n+\n+style-mod@^4.1.0:\n+  version \"4.1.2\"\n+  resolved \"https://registry.npmjs.org/style-mod/-/style-mod-4.1.2.tgz\"\n+  integrity sha512-wnD1HyVqpJUI2+eKZ+eo1UwghftP6yuFheBqqe+bWCotBjC2K1YnteJILRMs3SM4V/0dLEW1SC27MWP5y+mwmw==\n+\n+supports-color@^7.1.0:\n+  version \"7.2.0\"\n+  resolved \"https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz\"\n+  integrity sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==\n+  dependencies:\n+    has-flag \"^4.0.0\"\n+\n+text-table@^0.2.0:\n+  version \"0.2.0\"\n+  resolved \"https://registry.npmjs.org/text-table/-/text-table-0.2.0.tgz\"\n+  integrity sha512-N+8UisAXDGk8PFXP4HAzVR9nbfmVJ3zYLAWiTIoqC5v5isinhr+r5uaO8+7r3BMfuNIufIsA7RdpVgacC2cSpw==\n+\n to-regex-range@^5.0.1:\n   version \"5.0.1\"\n   resolved \"https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz\"\n   integrity sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==\n   dependencies:\n     is-number \"^7.0.0\"\n \n-tslib@2.4.0:\n-  version \"2.4.0\"\n-  resolved \"https://registry.npmjs.org/tslib/-/tslib-2.4.0.tgz\"\n-  integrity sha512-d6xOpEDfsi2CZVlPQzGeux8XMwLT9hssAsaPYExaQMuYskwb+x1x7J371tWlbBdWHroy99KnVB6qIkUbs5X3UQ==\n-\n tslib@^1.8.1:\n   version \"1.14.1\"\n   resolved \"https://registry.npmjs.org/tslib/-/tslib-1.14.1.tgz\"\n   integrity sha512-Xni35NKzjgMrwevysHTCArtLDpPvye8zV/0E4EyYn43P7/7qvQwPh9BGkHewbMulVntbigmcT7rdX3BNo9wRJg==\n \n+tslib@2.4.0:\n+  version \"2.4.0\"\n+  resolved \"https://registry.npmjs.org/tslib/-/tslib-2.4.0.tgz\"\n+  integrity sha512-d6xOpEDfsi2CZVlPQzGeux8XMwLT9hssAsaPYExaQMuYskwb+x1x7J371tWlbBdWHroy99KnVB6qIkUbs5X3UQ==\n+\n tsutils@^3.21.0:\n   version \"3.21.0\"\n   resolved \"https://registry.npmjs.org/tsutils/-/tsutils-3.21.0.tgz\"\n   integrity sha512-mHKK3iUXL+3UF6xL5k0PEhKRUBKPBCv/+RkEOpjRWxxx27KKRBmmA60A9pgOUvMi8GKhRMPEmjBRPzs2W7O1OA==\n   dependencies:\n     tslib \"^1.8.1\"\n \n-typescript@4.7.4:\n+type-check@^0.4.0, type-check@~0.4.0:\n+  version \"0.4.0\"\n+  resolved \"https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz\"\n+  integrity sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==\n+  dependencies:\n+    prelude-ls \"^1.2.1\"\n+\n+type-fest@^0.20.2:\n+  version \"0.20.2\"\n+  resolved \"https://registry.npmjs.org/type-fest/-/type-fest-0.20.2.tgz\"\n+  integrity sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==\n+\n+\"typescript@>=2.8.0 || >= 3.2.0-dev || >= 3.3.0-dev || >= 3.4.0-dev || >= 3.5.0-dev || >= 3.6.0-dev || >= 3.6.0-beta || >= 3.7.0-dev || >= 3.7.0-beta\", typescript@4.7.4:\n   version \"4.7.4\"\n-  resolved \"https://registry.yarnpkg.com/typescript/-/typescript-4.7.4.tgz#1a88596d1cf47d59507a1bcdfb5b9dfe4d488235\"\n+  resolved \"https://registry.npmjs.org/typescript/-/typescript-4.7.4.tgz\"\n   integrity sha512-C0WQT0gezHuw6AdY1M2jxUO83Rjf0HP7Sk1DtXj6j1EwkQNZrHAg2XPWlq62oqEhYvONq5pkC2Y9oPljWToLmQ==\n \n-yallist@^4.0.0:\n-  version \"4.0.0\"\n-  resolved \"https://registry.npmjs.org/yallist/-/yallist-4.0.0.tgz\"\n-  integrity sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==\n+uri-js@^4.2.2:\n+  version \"4.4.1\"\n+  resolved \"https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz\"\n+  integrity sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==\n+  dependencies:\n+    punycode \"^2.1.0\"\n+\n+w3c-keyname@^2.2.4:\n+  version \"2.2.8\"\n+  resolved \"https://registry.npmjs.org/w3c-keyname/-/w3c-keyname-2.2.8.tgz\"\n+  integrity sha512-dpojBhNsCNN7T82Tm7k26A6G9ML3NkhDsnw9n/eoxSRlVBB4CEtIQ/KTCLI2Fwf3ataSXRhYFkQi3SlnFwPvPQ==\n+\n+which@^2.0.1:\n+  version \"2.0.2\"\n+  resolved \"https://registry.npmjs.org/which/-/which-2.0.2.tgz\"\n+  integrity sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==\n+  dependencies:\n+    isexe \"^2.0.0\"\n+\n+word-wrap@^1.2.5:\n+  version \"1.2.5\"\n+  resolved \"https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz\"\n+  integrity sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==\n+\n+wrappy@1:\n+  version \"1.0.2\"\n+  resolved \"https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz\"\n+  integrity sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==\n+\n+yocto-queue@^0.1.0:\n+  version \"0.1.0\"\n+  resolved \"https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz\"\n+  integrity sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q=="
        },
        {
          "filename": "src/khoj/interface/web/assets/purify.min.js",
          "status": "added",
          "additions": 3,
          "deletions": 0,
          "patch": "@@ -0,0 +1,3 @@\n+/*! @license DOMPurify 3.1.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.2/LICENSE */\n+!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){\"use strict\";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}=\"undefined\"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),s||(s=function(e,t){return new e(...t)});const u=b(Array.prototype.forEach),m=b(Array.prototype.pop),p=b(Array.prototype.push),f=b(String.prototype.toLowerCase),d=b(String.prototype.toString),h=b(String.prototype.match),g=b(String.prototype.replace),T=b(String.prototype.indexOf),_=b(String.prototype.trim),y=b(Object.prototype.hasOwnProperty),E=b(RegExp.prototype.test),A=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(N,t)});var N;function b(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function S(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if(\"string\"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function R(e){for(let t=0;t<e.length;t++){y(e,t)||(e[t]=null)}return e}function w(t){const n=l(null);for(const[o,r]of e(t)){y(t,o)&&(Array.isArray(r)?n[o]=R(r):r&&\"object\"==typeof r&&r.constructor===Object?n[o]=w(r):n[o]=r)}return n}function C(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return b(n.get);if(\"function\"==typeof n.value)return b(n.value)}e=o(e)}return function(){return null}}const v=i([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),L=i([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),D=i([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),O=i([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),x=i([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),k=i([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),M=i([\"#text\"]),I=i([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),U=i([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),P=i([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),F=i([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),H=a(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),z=a(/<%[\\w\\W]*|[\\w\\W]*%>/gm),B=a(/\\${[\\w\\W]*}/gm),W=a(/^data-[\\-\\w.\\u00B7-\\uFFFF]/),G=a(/^aria-[\\-\\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),j=a(/^(?:\\w+script|data):/i),X=a(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),q=a(/^html$/i),$=a(/^[a-z][.\\w]*(-[.\\w]+)+$/i);var K=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:z,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:G,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:X,DOCTYPE_NAME:q,CUSTOM_ELEMENT:$});const V=function(){return\"undefined\"==typeof window?null:window},Z=function(e,t){if(\"object\"!=typeof e||\"function\"!=typeof e.createPolicy)return null;let n=null;const o=\"data-tt-policy-suffix\";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r=\"dompurify\"+(n?\"#\"+n:\"\");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn(\"TrustedTypes policy \"+r+\" could not be created.\"),null}};var J=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();const o=e=>t(e);if(o.version=\"3.1.2\",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:N,Node:b,Element:R,NodeFilter:H,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:B,DOMParser:W,trustedTypes:G}=n,j=R.prototype,X=C(j,\"cloneNode\"),$=C(j,\"nextSibling\"),J=C(j,\"childNodes\"),Q=C(j,\"parentNode\");if(\"function\"==typeof N){const e=r.createElement(\"template\");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ee,te=\"\";const{implementation:ne,createNodeIterator:oe,createDocumentFragment:re,getElementsByTagName:ie}=r,{importNode:ae}=a;let le={};o.isSupported=\"function\"==typeof e&&\"function\"==typeof Q&&ne&&void 0!==ne.createHTMLDocument;const{MUSTACHE_EXPR:ce,ERB_EXPR:se,TMPLIT_EXPR:ue,DATA_ATTR:me,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:de,CUSTOM_ELEMENT:he}=K;let{IS_ALLOWED_URI:ge}=K,Te=null;const _e=S({},[...v,...L,...D,...x,...M]);let ye=null;const Ee=S({},[...I,...U,...P,...F]);let Ae=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,be=null,Se=!0,Re=!0,we=!1,Ce=!0,ve=!1,Le=!0,De=!1,Oe=!1,xe=!1,ke=!1,Me=!1,Ie=!1,Ue=!0,Pe=!1;const Fe=\"user-content-\";let He=!0,ze=!1,Be={},We=null;const Ge=S({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]);let Ye=null;const je=S({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]);let Xe=null;const qe=S({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),$e=\"http://www.w3.org/1998/Math/MathML\",Ke=\"http://www.w3.org/2000/svg\",Ve=\"http://www.w3.org/1999/xhtml\";let Ze=Ve,Je=!1,Qe=null;const et=S({},[$e,Ke,Ve],d);let tt=null;const nt=[\"application/xhtml+xml\",\"text/html\"],ot=\"text/html\";let rt=null,it=null;const at=255,lt=r.createElement(\"form\"),ct=function(e){return e instanceof RegExp||e instanceof Function},st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!it||it!==e){if(e&&\"object\"==typeof e||(e={}),e=w(e),tt=-1===nt.indexOf(e.PARSER_MEDIA_TYPE)?ot:e.PARSER_MEDIA_TYPE,rt=\"application/xhtml+xml\"===tt?d:f,Te=y(e,\"ALLOWED_TAGS\")?S({},e.ALLOWED_TAGS,rt):_e,ye=y(e,\"ALLOWED_ATTR\")?S({},e.ALLOWED_ATTR,rt):Ee,Qe=y(e,\"ALLOWED_NAMESPACES\")?S({},e.ALLOWED_NAMESPACES,d):et,Xe=y(e,\"ADD_URI_SAFE_ATTR\")?S(w(qe),e.ADD_URI_SAFE_ATTR,rt):qe,Ye=y(e,\"ADD_DATA_URI_TAGS\")?S(w(je),e.ADD_DATA_URI_TAGS,rt):je,We=y(e,\"FORBID_CONTENTS\")?S({},e.FORBID_CONTENTS,rt):Ge,Ne=y(e,\"FORBID_TAGS\")?S({},e.FORBID_TAGS,rt):{},be=y(e,\"FORBID_ATTR\")?S({},e.FORBID_ATTR,rt):{},Be=!!y(e,\"USE_PROFILES\")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ve=e.SAFE_FOR_TEMPLATES||!1,Le=!1!==e.SAFE_FOR_XML,De=e.WHOLE_DOCUMENT||!1,ke=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_TRUSTED_TYPE||!1,xe=e.FORCE_BODY||!1,Ue=!1!==e.SANITIZE_DOM,Pe=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||Y,Ze=e.NAMESPACE||Ve,Ae=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&\"boolean\"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ae.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ve&&(Re=!1),Me&&(ke=!0),Be&&(Te=S({},M),ye=[],!0===Be.html&&(S(Te,v),S(ye,I)),!0===Be.svg&&(S(Te,L),S(ye,U),S(ye,F)),!0===Be.svgFilters&&(S(Te,D),S(ye,U),S(ye,F)),!0===Be.mathMl&&(S(Te,x),S(ye,P),S(ye,F))),e.ADD_TAGS&&(Te===_e&&(Te=w(Te)),S(Te,e.ADD_TAGS,rt)),e.ADD_ATTR&&(ye===Ee&&(ye=w(ye)),S(ye,e.ADD_ATTR,rt)),e.ADD_URI_SAFE_ATTR&&S(Xe,e.ADD_URI_SAFE_ATTR,rt),e.FORBID_CONTENTS&&(We===Ge&&(We=w(We)),S(We,e.FORBID_CONTENTS,rt)),He&&(Te[\"#text\"]=!0),De&&S(Te,[\"html\",\"head\",\"body\"]),Te.table&&(S(Te,[\"tbody\"]),delete Ne.tbody),e.TRUSTED_TYPES_POLICY){if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw A('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(\"function\"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw A('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML(\"\")}else void 0===ee&&(ee=Z(G,c)),null!==ee&&\"string\"==typeof te&&(te=ee.createHTML(\"\"));i&&i(e),it=e}},ut=S({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),mt=S({},[\"foreignobject\",\"annotation-xml\"]),pt=S({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),ft=S({},[...L,...D,...O]),dt=S({},[...x,...k]),ht=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:\"template\"});const n=f(e.tagName),o=f(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===Ve?\"svg\"===n:t.namespaceURI===$e?\"svg\"===n&&(\"annotation-xml\"===o||ut[o]):Boolean(ft[n]):e.namespaceURI===$e?t.namespaceURI===Ve?\"math\"===n:t.namespaceURI===Ke?\"math\"===n&&mt[o]:Boolean(dt[n]):e.namespaceURI===Ve?!(t.namespaceURI===Ke&&!mt[o])&&(!(t.namespaceURI===$e&&!ut[o])&&(!dt[n]&&(pt[n]||!ft[n]))):!(\"application/xhtml+xml\"!==tt||!Qe[e.namespaceURI]))},gt=function(e){p(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Tt=function(e,t){try{p(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),\"is\"===e&&!ye[e])if(ke||Me)try{gt(t)}catch(e){}else try{t.setAttribute(e,\"\")}catch(e){}},_t=function(e){let t=null,n=null;if(xe)e=\"<remove></remove>\"+e;else{const t=h(e,/^[\\r\\n\\t ]+/);n=t&&t[0]}\"application/xhtml+xml\"===tt&&Ze===Ve&&(e='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+e+\"</body></html>\");const o=ee?ee.createHTML(e):e;if(Ze===Ve)try{t=(new W).parseFromString(o,tt)}catch(e){}if(!t||!t.documentElement){t=ne.createDocument(Ze,\"template\",null);try{t.documentElement.innerHTML=Je?te:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),Ze===Ve?ie.call(t,De?\"html\":\"body\")[0]:De?t.documentElement:i},yt=function(e){return oe.call(e.ownerDocument||e,e,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT|H.SHOW_PROCESSING_INSTRUCTION|H.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof B&&(void 0!==e.__depth&&\"number\"!=typeof e.__depth||void 0!==e.__removalCount&&\"number\"!=typeof e.__removalCount||\"string\"!=typeof e.nodeName||\"string\"!=typeof e.textContent||\"function\"!=typeof e.removeChild||!(e.attributes instanceof z)||\"function\"!=typeof e.removeAttribute||\"function\"!=typeof e.setAttribute||\"string\"!=typeof e.namespaceURI||\"function\"!=typeof e.insertBefore||\"function\"!=typeof e.hasChildNodes)},At=function(e){return\"function\"==typeof b&&e instanceof b},Nt=function(e,t,n){le[e]&&u(le[e],(e=>{e.call(o,t,n,it)}))},bt=function(e){let t=null;if(Nt(\"beforeSanitizeElements\",e,null),Et(e))return gt(e),!0;const n=rt(e.nodeName);if(Nt(\"uponSanitizeElement\",e,{tagName:n,allowedTags:Te}),e.hasChildNodes()&&!At(e.firstElementChild)&&E(/<[/\\w]/g,e.innerHTML)&&E(/<[/\\w]/g,e.textContent))return gt(e),!0;if(7===e.nodeType)return gt(e),!0;if(Le&&8===e.nodeType&&E(/<[/\\w]/g,e.data))return gt(e),!0;if(!Te[n]||Ne[n]){if(!Ne[n]&&Rt(n)){if(Ae.tagNameCheck instanceof RegExp&&E(Ae.tagNameCheck,n))return!1;if(Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))return!1}if(He&&!We[n]){const t=Q(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=X(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,$(e))}}}return gt(e),!0}return e instanceof R&&!ht(e)?(gt(e),!0):\"noscript\"!==n&&\"noembed\"!==n&&\"noframes\"!==n||!E(/<\\/no(script|embed|frames)/i,e.innerHTML)?(ve&&3===e.nodeType&&(t=e.textContent,u([ce,se,ue],(e=>{t=g(t,e,\" \")})),e.textContent!==t&&(p(o.removed,{element:e.cloneNode()}),e.textContent=t)),Nt(\"afterSanitizeElements\",e,null),!1):(gt(e),!0)},St=function(e,t,n){if(Ue&&(\"id\"===t||\"name\"===t)&&(n in r||n in lt))return!1;if(Re&&!be[t]&&E(me,t));else if(Se&&E(pe,t));else if(!ye[t]||be[t]){if(!(Rt(e)&&(Ae.tagNameCheck instanceof RegExp&&E(Ae.tagNameCheck,e)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(e))&&(Ae.attributeNameCheck instanceof RegExp&&E(Ae.attributeNameCheck,t)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(t))||\"is\"===t&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&E(Ae.tagNameCheck,n)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(n))))return!1}else if(Xe[t]);else if(E(ge,g(n,de,\"\")));else if(\"src\"!==t&&\"xlink:href\"!==t&&\"href\"!==t||\"script\"===e||0!==T(n,\"data:\")||!Ye[e]){if(we&&!E(fe,g(n,de,\"\")));else if(n)return!1}else;return!0},Rt=function(e){return\"annotation-xml\"!==e&&h(e,he)},wt=function(e){Nt(\"beforeSanitizeAttributes\",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:ye};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=rt(a);let p=\"value\"===a?c:_(c);if(n.attrName=s,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,Nt(\"uponSanitizeAttribute\",e,n),p=n.attrValue,n.forceKeepAttr)continue;if(Tt(a,e),!n.keepAttr)continue;if(!Ce&&E(/\\/>/i,p)){Tt(a,e);continue}ve&&u([ce,se,ue],(e=>{p=g(p,e,\" \")}));const f=rt(e.nodeName);if(St(f,s,p)){if(!Pe||\"id\"!==s&&\"name\"!==s||(Tt(a,e),p=Fe+p),ee&&\"object\"==typeof G&&\"function\"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(f,s)){case\"TrustedHTML\":p=ee.createHTML(p);break;case\"TrustedScriptURL\":p=ee.createScriptURL(p)}try{l?e.setAttributeNS(l,a,p):e.setAttribute(a,p),m(o.removed)}catch(e){}}}Nt(\"afterSanitizeAttributes\",e,null)},Ct=function e(t){let n=null;const o=yt(t);for(Nt(\"beforeSanitizeShadowDOM\",t,null);n=o.nextNode();){if(Nt(\"uponSanitizeShadowNode\",n,null),bt(n))continue;const t=Q(n);1===n.nodeType&&(t&&t.__depth?n.__depth=(n.__removalCount||0)+t.__depth+1:n.__depth=1),n.__depth>=at&&gt(n),n.content instanceof s&&(n.content.__depth=n.__depth,e(n.content)),wt(n)}Nt(\"afterSanitizeShadowDOM\",t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if(Je=!e,Je&&(e=\"\\x3c!--\\x3e\"),\"string\"!=typeof e&&!At(e)){if(\"function\"!=typeof e.toString)throw A(\"toString is not a function\");if(\"string\"!=typeof(e=e.toString()))throw A(\"dirty is not a string, aborting\")}if(!o.isSupported)return e;if(Oe||st(t),o.removed=[],\"string\"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=rt(e.nodeName);if(!Te[t]||Ne[t])throw A(\"root node is forbidden and cannot be sanitized in-place\")}}else if(e instanceof b)n=_t(\"\\x3c!----\\x3e\"),r=n.ownerDocument.importNode(e,!0),1===r.nodeType&&\"BODY\"===r.nodeName||\"HTML\"===r.nodeName?n=r:n.appendChild(r);else{if(!ke&&!ve&&!De&&-1===e.indexOf(\"<\"))return ee&&Ie?ee.createHTML(e):e;if(n=_t(e),!n)return ke?null:Ie?te:\"\"}n&&xe&&gt(n.firstChild);const c=yt(ze?e:n);for(;i=c.nextNode();){if(bt(i))continue;const e=Q(i);1===i.nodeType&&(e&&e.__depth?i.__depth=(i.__removalCount||0)+e.__depth+1:i.__depth=1),i.__depth>=at&&gt(i),i.content instanceof s&&(i.content.__depth=i.__depth,Ct(i.content)),wt(i)}if(ze)return e;if(ke){if(Me)for(l=re.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(ye.shadowroot||ye.shadowrootmode)&&(l=ae.call(a,l,!0)),l}let m=De?n.outerHTML:n.innerHTML;return De&&Te[\"!doctype\"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&E(q,n.ownerDocument.doctype.name)&&(m=\"<!DOCTYPE \"+n.ownerDocument.doctype.name+\">\\n\"+m),ve&&u([ce,se,ue],(e=>{m=g(m,e,\" \")})),ee&&Ie?ee.createHTML(m):m},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};st(e),Oe=!0},o.clearConfig=function(){it=null,Oe=!1},o.isValidAttribute=function(e,t,n){it||st({});const o=rt(e),r=rt(t);return St(o,r,n)},o.addHook=function(e,t){\"function\"==typeof t&&(le[e]=le[e]||[],p(le[e],t))},o.removeHook=function(e){if(le[e])return m(le[e])},o.removeHooks=function(e){le[e]&&(le[e]=[])},o.removeAllHooks=function(){le={}},o}();return J}));\n+//# sourceMappingURL=purify.min.js.map"
        },
        {
          "filename": "src/khoj/interface/web/chat.html",
          "status": "modified",
          "additions": 13,
          "deletions": 0,
          "patch": "@@ -4,6 +4,15 @@\n         <meta charset=\"utf-8\">\n         <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0 maximum-scale=1.0\">\n         <meta property=\"og:image\" content=\"https://assets.khoj.dev/khoj_hero.png\">\n+        <meta http-equiv=\"Content-Security-Policy\"\n+              content=\"default-src 'self' https://assets.khoj.dev;\n+                       script-src 'self' https://assets.khoj.dev 'unsafe-inline';\n+                       connect-src 'self' https://ipapi.co/json;\n+                       style-src 'self' https://assets.khoj.dev 'unsafe-inline' https://fonts.googleapis.com;\n+                       img-src 'self' data: https://*.khoj.dev https://*.googleusercontent.com;\n+                       font-src https://assets.khoj.dev https://fonts.gstatic.com;\n+                       child-src 'none';\n+                       object-src 'none';\">\n         <title>Khoj - Chat</title>\n \n         <link rel=\"stylesheet\" href=\"/static/assets/khoj.css?v={{ khoj_version }}\">\n@@ -18,6 +27,7 @@\n         <!-- To automatically render math in text elements, include the auto-render extension: -->\n         <script defer src=\"https://assets.khoj.dev/katex/auto-render.min.js\" onload=\"renderMathInElement(document.body);\"></script>\n     </head>\n+    <script type=\"text/javascript\" src=\"/static/assets/purify.min.js?v={{ khoj_version }}\"></script>\n     <script type=\"text/javascript\" src=\"/static/assets/utils.js?v={{ khoj_version }}\"></script>\n     <script type=\"text/javascript\" src=\"/static/assets/markdown-it.min.js?v={{ khoj_version }}\"></script>\n     <script>\n@@ -365,6 +375,9 @@\n             newHTML = newHTML.replace(/LEFTPAREN/g, '\\\\(').replace(/RIGHTPAREN/g, '\\\\)')\n                              .replace(/LEFTBRACKET/g, '\\\\[').replace(/RIGHTBRACKET/g, '\\\\]');\n \n+            // Sanitize the rendered markdown\n+            newHTML = DOMPurify.sanitize(newHTML);\n+\n             // Set rendered markdown to HTML DOM element\n             let element = document.createElement('div');\n             element.innerHTML = newHTML;"
        }
      ],
      "file_patterns": {
        "security_files": 0,
        "config_files": 1,
        "dependency_files": 1,
        "test_files": 0,
        "unique_directories": 6,
        "max_directory_depth": 5
      },
      "context": {
        "surrounding_commits": [
          {
            "sha": "7f329e7e9d379d9957c6d299db06a90ee6f59da8",
            "date": "2025-01-13T06:37:08Z",
            "author_login": "sabaimran"
          },
          {
            "sha": "96e3d0a7b901edd9b76bfbf4592ec63a0627f3f0",
            "date": "2025-01-12T11:06:01Z",
            "author_login": "osama-ata"
          },
          {
            "sha": "6bd9f6bb6196adb48b18be1fe7b48033cc882dc6",
            "date": "2025-01-12T03:52:34Z",
            "author_login": "debanjum"
          },
          {
            "sha": "51a774c99302e007e2a2f2a2615d63276b45c6e5",
            "date": "2025-01-11T07:39:02Z",
            "author_login": "debanjum"
          },
          {
            "sha": "9e8b8dc5a2575f8347d17b8709de69df3878bf66",
            "date": "2025-01-11T06:38:39Z",
            "author_login": "debanjum"
          }
        ]
      }
    }
  },
  "vulnerability_details": {
    "cvss_score": 5.9,
    "cvss_vector": "CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:U/C:H/I:N/A:L",
    "cwe_id": "CWE-80",
    "description": "Khoj is an application that creates personal AI agents. The Khoj Obsidian, Desktop and Web clients inadequately sanitize the AI model's response and user inputs. This can trigger Cross Site Scripting (XSS) via Prompt Injection from untrusted documents either indexed by the user on Khoj or read by Khoj from the internet when the user invokes the /online command. This vulnerability is fixed in 1.13.0.",
    "attack_vector": "NETWORK",
    "attack_complexity": "HIGH"
  },
  "temporal_data": {
    "published_date": "2024-07-08T15:15:21.423",
    "last_modified": "2024-11-21T09:01:08.070",
    "fix_date": "2024-06-04T05:59:21Z"
  },
  "references": [
    {
      "url": "https://github.com/khoj-ai/khoj/commit/1dfd6d7391862d3564db7f4875216880b73cb6cc",
      "source": "security-advisories@github.com",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://github.com/khoj-ai/khoj/security/advisories/GHSA-h2q2-vch3-72qm",
      "source": "security-advisories@github.com",
      "tags": [
        "Exploit",
        "Vendor Advisory"
      ]
    },
    {
      "url": "https://github.com/khoj-ai/khoj/commit/1dfd6d7391862d3564db7f4875216880b73cb6cc",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Patch"
      ]
    },
    {
      "url": "https://github.com/khoj-ai/khoj/security/advisories/GHSA-h2q2-vch3-72qm",
      "source": "af854a3a-2127-422b-91ae-364da2661108",
      "tags": [
        "Exploit",
        "Vendor Advisory"
      ]
    }
  ],
  "collection_metadata": {
    "collected_at": "2025-01-11T23:08:28.896746",
    "processing_status": "raw"
  },
  "repository_context": {
    "name": "khoj",
    "owner": "khoj-ai",
    "created_at": "2021-08-16T01:48:44Z",
    "updated_at": "2025-01-14T12:42:09Z",
    "pushed_at": "2025-01-13T23:08:16Z",
    "size": 113533,
    "stars": 24453,
    "forks": 1306,
    "open_issues": 70,
    "watchers": 24453,
    "has_security_policy": false,
    "default_branch": "master",
    "protected_branches": [],
    "languages": {
      "Python": 1179275,
      "TypeScript": 854791,
      "Emacs Lisp": 76450,
      "HTML": 73291,
      "JavaScript": 71035,
      "CSS": 62011,
      "Shell": 9782,
      "Dockerfile": 4928,
      "Java": 2888
    },
    "commit_activity": {
      "total_commits_last_year": 0,
      "avg_commits_per_week": 0,
      "days_active_last_year": 0
    },
    "security_features": {
      "has_security_policy": false,
      "has_protected_branches": false,
      "has_wiki": false,
      "has_issues": true,
      "allow_forking": true,
      "is_template": false,
      "license": "agpl-3.0"
    },
    "collected_at": "2025-01-14T12:54:39.567713"
  }
}